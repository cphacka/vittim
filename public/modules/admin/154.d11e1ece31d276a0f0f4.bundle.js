(self.webpackChunk=self.webpackChunk||[]).push([[154],{80154:function(e,t,r){"use strict";r.r(t);var a=r(92137),n=r(96156),l=r(6610),i=r(5991),o=r(10379),m=r(46070),s=r(77608),c=r(87757),u=r.n(c),d=r(67294),f=r(3925),p=r(38356),h=r(11229),g=r(1483);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=["","smtp"],w=["","tls","ssl"],y=function(e){(0,o.Z)(y,e);var t,r,c,v=(r=y,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,s.Z)(r);if(c){var a=(0,s.Z)(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,m.Z)(this,e)});function y(e){var t;return(0,l.Z)(this,y),(t=v.call(this,e)).changeHandler=function(e){var r=e.target,a=r.value,l=r.name;t.setState((0,n.Z)({},l,a))},t.changeValueSelect=function(e,r){t.setState((function(t){return(t=E({},t))[r]=e,t}))},t.submitHandler=function(){var e=(0,a.Z)(u().mark((function e(r){var a,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=new f.default({route:"/admin/ajax/write_mail_settings"}),e.next=4,a.post(t.state);case 4:(n=e.sent).success&&alert(n.message||"success");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ItemPredicate=function(e,t){return!e||-1!==_.findIndex(_.split(t,""),(function(t){var r=!1;return _.split(e,"").forEach((function(e){e===t&&(r=!0)})),r}))},t.state={mail_driver:"",mail_host:"",mail_port:"",mail_username:"",mail_password:"",mail_encryption:"",mail_from_address:"",mail_from_name:""},t}return(0,i.Z)(y,[{key:"componentDidMount",value:(t=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new f.default({route:"/admin/ajax/get_mail_settings"}).getAll();case 2:t=e.sent,this.setState((function(e){return E(E({},e),t.data)}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,r=t.mail_host,a=t.mail_port,n=t.mail_username,l=t.mail_password,i=t.mail_from_address,o=t.mail_from_name;return d.createElement("div",{className:"mail-container__settings"},d.createElement("form",{className:"admin-form",onSubmit:this.submitHandler},d.createElement("div",{className:"form-group__inline-wrapper"},d.createElement("div",{className:"form-group flex-grow__selectBlueprint form-group_width47"},d.createElement("label",{htmlFor:"mail_driver"},"Driver"),d.createElement(g.P,{items:b,id:"mail_driver",required:!0,matchTargetWidth:!0,itemPredicate:this.ItemPredicate,noResults:d.createElement(p.sN,{disabled:!0,text:"No results."}),itemRenderer:function(t,r){var a=r.handleClick;return r.modifiers,r.query,d.createElement(p.sN,{text:t,key:t,active:t===e.state.mail_driver,onClick:a})},onItemSelect:function(t){e.changeValueSelect(t,"mail_driver")},fill:!0},d.createElement(p.zx,{fill:!0,large:!0,alignText:h.v.LEFT,text:this.state.mail_driver||"none",rightIcon:"caret-down"}))),d.createElement("div",{className:"form-group flex-grow__selectBlueprint form-group_width47"},d.createElement("label",{htmlFor:"mail_encryption"},"Encryption"),d.createElement(g.P,{items:w,id:"mail_encryption",required:!0,matchTargetWidth:!0,itemPredicate:this.ItemPredicate,noResults:d.createElement(p.sN,{disabled:!0,text:"No results."}),itemRenderer:function(t,r){var a=r.handleClick;return r.modifiers,r.query,d.createElement(p.sN,{text:t,key:t,active:t===e.state.mail_encryption,onClick:a})},onItemSelect:function(t){e.changeValueSelect(t,"mail_encryption")},fill:!0},d.createElement(p.zx,{fill:!0,large:!0,alignText:h.v.LEFT,text:this.state.mail_encryption||"none",rightIcon:"caret-down"})))),d.createElement("div",{className:"form-group__inline-wrapper"},d.createElement("div",{className:"form-group form-group_width47"},d.createElement("label",{htmlFor:"mail_host"},"Host"),d.createElement(p.BZ,{type:"text",name:"mail_host",id:"mail_host",value:r,onChange:this.changeHandler,className:"form-control-blueprint",required:!0})),d.createElement("div",{className:"form-group form-group_width47"},d.createElement("label",{htmlFor:"mail_port"},"Port"),d.createElement(p.BZ,{type:"text",name:"mail_port",id:"mail_port",value:a,onChange:this.changeHandler,className:"form-control-blueprint",required:!0}))),d.createElement("div",{className:"form-group__inline-wrapper"},d.createElement("div",{className:"form-group form-group_width47"},d.createElement("label",{htmlFor:"mail_from_address"},"Mail from Address"),d.createElement(p.BZ,{type:"email",name:"mail_from_address",id:"mail_from_address",value:i,onChange:this.changeHandler,className:"form-control-blueprint",required:!0})),d.createElement("div",{className:"form-group form-group_width47"},d.createElement("label",{htmlFor:"mail_password"},"Password"),d.createElement(p.BZ,{type:"password",name:"mail_password",id:"mail_password",value:l,onChange:this.changeHandler,className:"form-control-blueprint",autoComplete:"mail-settings-password",required:!0}))),d.createElement("div",{className:"form-group__inline-wrapper"},d.createElement("div",{className:"form-group form-group_width47"},d.createElement("label",{htmlFor:"mail_username"},"User Name"),d.createElement(p.BZ,{type:"text",name:"mail_username",id:"mail_username",value:n,onChange:this.changeHandler,className:"form-control-blueprint",required:!0})),d.createElement("div",{className:"form-group form-group_width47"},d.createElement("label",{htmlFor:"mail_from_name"},"Mail from Name"),d.createElement(p.BZ,{type:"text",name:"mail_from_name",id:"mail_from_name",value:o,onChange:this.changeHandler,className:"form-control-blueprint",required:!0}))),d.createElement("div",{className:"btn__wrapper"},d.createElement("button",{className:"btn btn_success",type:"submit"},"Save"))))}}]),y}(d.Component);t.default=y}}]);
//# sourceMappingURL=154.d11e1ece31d276a0f0f4.bundle.js.map