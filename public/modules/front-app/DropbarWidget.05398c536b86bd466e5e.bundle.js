(self.webpackChunk=self.webpackChunk||[]).push([[506],{71743:function(t,e,n){"use strict";var r=n(6610),o=n(5991),s=n(83465),i=n.n(s),a=n(29208),p=n.n(a),l=n(31468),c=n.n(l),d=n(38394),u=n.n(d),h=n(96633),f=n.n(h),b=n(99245),g=n.n(b),m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,t),this.data=i()(e)}return(0,o.Z)(t,[{key:"getData",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?i()(this.data):this.data}},{key:"isEmpty",value:function(){return g()(this.data)}},{key:"getProperty",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return p()(this.data,t,e)}},{key:"hasProperty",value:function(t){return u()(this.data,t)}},{key:"setProperty",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n instanceof t&&(n=n.getData(!1)),c()(this.data,e,n)}},{key:"unsetProperty",value:function(t){return f()(this.data,t)}}]),t}();window.AltrpModel=m,e.Z=m},97333:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var r=n(96156),o=n(92137),s=n(6610),i=n(5991),a=n(63349),p=n(10379),l=n(46070),c=n(77608),d=n(87757),u=n.n(d),h=n(67294),f=n(28481),b=n(73935),g=n(8785),m=n(76593),y=n(76450);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function k(t){var e=(0,h.useRef)(),n=(0,h.useState)(t.settings.updateSettings||{}),r=(0,f.Z)(n,2),o=r[0],s=r[1],i=(0,h.useState)(!1),a=(0,f.Z)(i,2),p=a[0],l=a[1],c=(0,y.D9)(t.updateToken),d=document.body;t.editor||(d=(0,h.useMemo)((function(){return(0,m.isEditor)()?document.getElementById("editorContent").contentWindow.document.body:document.body})));var u=t.settings.placement,_=["bottom-start","bottom","bottom-end","top-start","top","top-end","left-start","left","left-end","right-start","right","right-end"];-1===_.indexOf(u)&&(console.log(u),u=_[0]);var v=(0,g.D)(t.target.current,e.current,{placement:u,modifiers:[{name:"offset",options:{offset:t.settings.offset}}]}),k=v.styles,x=v.attributes,S=v.forceUpdate,O=v.update;return(0,h.useEffect)((function(){t.updateToken!==c&&(S(),new Event("resize",{bubbles:!0,cancelable:!0}),(0,m.isEditor)()||console.log(),O()),0!==Object.keys(o).length&&JSON.stringify(o)!==JSON.stringify(t.settings.updateSettings)&&(s(t.settings.updateSettings),S()),!p&&t.target.current&&(console.log("aann"),l(!0))}),[t.children,u,t.target,t.updateToken]),t.portal?b.createPortal(h.cloneElement(t.children,w({ref:e,style:k.popper},x.popper)),d):h.cloneElement(t.children,w({ref:e,style:k.popper},x.popper))}var x,S=n(32465),O=n(32360),E=styled.div(x||(x=(0,S.Z)(["\n  ","\n"])),(function(t){var e=t.settings;return(0,O.styledString)(["&.altrp-dropbar-btn-containter",["width","width_dropbar_options","slider"],["padding","padding_dropbar_content_style","dimensions"],["background-color","background_dropbar_content_style","color"],["border-style","border_style_dropbar_content_style"],["border-width","border_width_dropbar_content_style","dimensions"],["border-color","border_color_dropbar_content_style","color"],["border-radius","border_radius_dropbar_content_style","dimensions"],["box-shadow","box_shadow_dropbar_content_style","shadow"],"}","altrp-dropbar-btn-content",["color","text_color_dropbar_content_style","color"],["","typographic_text_dropbar_content_style","typographic"],"}","&:hover.altrp-dropbar-btn-containter",["background-color","background_dropbar_content_style","color",":hover"],["border-style","border_style_dropbar_content_style","",":hover"],["border-width","border_width_dropbar_content_style","dimensions",":hover"],["border-color","border_color_dropbar_content_style","color",":hover"],["border-radius","border_radius_dropbar_content_style","dimensions",":hover"],["box-shadow","box_shadow_dropbar_content_style","shadow",":hover"],"}","&:hover .altrp-dropbar-btn-content",["color","text_color_dropbar_content_style","color",":hover"],["","typographic_text_dropbar_content_style","typographic",":hover"],"}"],e)}));var R=window.altrpHelpers.TemplateLoader,Z=function(t){(0,p.Z)(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=(0,c.Z)(e);if(n){var o=(0,c.Z)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,l.Z)(this,t)});function o(t){var e;return(0,s.Z)(this,o),(e=r.call(this,t)).state={show:!1,updateToken:void 0},e.show=e.show.bind((0,a.Z)(e)),e.leaveHide=e.leaveHide.bind((0,a.Z)(e)),e.enterShow=e.enterShow.bind((0,a.Z)(e)),e.children=h.createRef(),e}return(0,i.Z)(o,[{key:"show",value:function(){var t=this;this.props.settings.show_delay_dropbar_options.size||this.props.settings.hide_delay_dropbar_options.size?this.state.show?setTimeout((function(){t.setState((function(t){return{show:!t.show}}))}),this.props.settings.hide_delay_dropbar_options.size):setTimeout((function(){t.setState((function(t){return{show:!t.show}}))}),this.props.settings.show_delay_dropbar_options.size):this.setState((function(t){return{show:!t.show}}))}},{key:"leaveHide",value:function(){var t=this;this.props.settings.hide_delay_dropbar_options.size?setTimeout((function(){t.setState({show:!1})}),this.props.settings.hide_delay_dropbar_options.size):this.setState({show:!1})}},{key:"enterShow",value:function(t){var e=this;t.currentTarget,this.props.showDelay.size&&!this.state.show?setTimeout((function(){e.setState({show:!0})}),this.props.showDelay.size):this.setState((function(t){return{show:!t.show}}))}},{key:"componentDidUpdate",value:function(t,e,n){this.state.show,e.show}},{key:"render",value:function(){var t=this,e=h.Children.only(this.props.children),n="altrp-dropbar-"+this.props.className,r=this.props.settings.type_dropbar_section||"text",o=this.props.getContent("content_dropbar_section"),s=this.props.settings.template_dropbar_section;return h.createElement("div",{className:"altrp-dropbar altrp-dropbar-"+n},h.createElement("span",{className:"altrp-dropbar-children-wrapper "+n+"-wrapper",onMouseEnter:"hover"===this.props.settings.mode_dropbar_options?this.enterShow:null,onMouseLeave:"hover"===this.props.settings.mode_dropbar_options?this.leaveHide:null},h.cloneElement(e,{ref:this.children,onClick:"click"===this.props.settings.mode_dropbar_options?this.show:null}),h.createElement(k,{target:this.children,portal:!0,updateToken:this.state.updateToken,settings:{placement:this.props.settings.position_dropbar_options,offset:[0,this.props.settings.offset_dropbar_options.size],updateSettings:{width:this.props.settings.width_dropbar_options}}},h.createElement(E,{settings:this.props.element.getSettings(),className:"altrp-dropbar-container "+" ".concat(this.props.elemenentId,"-altrp-dropbar ")+n+"-containter"+(this.state.show?" altrp-dropbar-container-show":" altrp-dropbar-container-hide")},"text"===r?h.createElement("div",{className:"altrp-dropbar-content "+n+"-content",dangerouslySetInnerHTML:{__html:o||""}}):h.createElement(R,{onLoad:function(){t.setState({updateToken:Math.random()})},templateId:s})))))}}]),o}(h.Component);function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=window.altrpHelpers,C=P.getComponentByElementId,T=P.getHTMLElementById,I=P.isEditor,M=P.isSSR,z=P.parseURLTemplate,N=P.printElements,H=P.renderAssetIcon,F=P.scrollToElement;(window.globalDefaults=window.globalDefaults||[]).push("\n  .altrp-btn-wrapper_dropbar.altrp-btn-wrapper {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n\n    & img {\n      max-width: 100%;\n    }\n  }\n\n  .altrp-btn-wrapper_dropbar .altrp-btn {\n    width: auto;\n    text-decoration: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    flex-direction: row;\n    background-color: #343B4C;\n    color: #FFFFFF;\n    padding-top: 20px;\n    padding-right: 25px;\n    padding-bottom: 20px;\n    padding-left: 25px\n\n    &_gray {\n      background-color: #8E94AA;\n      color: #fff;\n    }\n\n    &__icon {\n      transform: scale(0.6);\n    }\n\n    &-icon {\n      display: flex;\n      justify-content: center;\n    }\n\n    & svg {\n      height: 25px;\n      width: 25px;\n    }\n  }\n\n  .altrp-dropbar {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: auto;\n  }\n\n  .altrp-dropbar-children-wrapper {\n    display: flex;\n    position: relative;\n  }\n\n  .altrp-btn-dropbar {\n    width: 100%;\n  }\n\n  .altrp-dropbar-container {\n    position: absolute;\n    color: #666;\n    padding: 30px;\n    background-color: #f1f3f5;\n  }\n\n  .altrp-dropbar-content {\n    user-select: text;\n  }\n\n  .altrp-dropbar-container-hide {\n    visibility: hidden;\n  }\n\n  .altrp-dropbar-variant-bottom-center .altrp-dropbar-children-wrapper {\n    position: static;\n    justify-content: center;\n  }\n\n  .altrp-dropbar-variant-top-center .altrp-dropbar-children-wrapper {\n    position: static;\n    justify-content: center;\n  }\n\n  .altrp-dropbar-variant-left-center .altrp-dropbar-children-wrapper {\n    align-items: center;\n  }\n\n  .altrp-dropbar-variant-right-center .altrp-dropbar-children-wrapper {\n    align-items: center;\n  }\n\n  .altrp-dropbar-container {\n    z-index: 9999;\n  }\n");var A=function(t){(0,p.Z)(g,t);var e,r,d,f,b=(d=g,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,c.Z)(d);if(f){var n=(0,c.Z)(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return(0,l.Z)(this,t)});function g(t){var e;return(0,s.Z)(this,g),(e=b.call(this,t)).state={settings:t.element.getSettings(),pending:!1},t.element.component=(0,a.Z)(e),window.elementDecorator&&window.elementDecorator((0,a.Z)(e)),t.baseRender&&(e.render=t.baseRender((0,a.Z)(e))),e.onClick=e.onClick.bind((0,a.Z)(e)),e}return(0,i.Z)(g,[{key:"_componentWillUnmount",value:(r=(0,o.Z)(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(2167).then(n.bind(n,2167));case 2:t.sent.default.unregisterWidgetActions(this.props.element.getId());case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"onClick",value:(e=(0,o.Z)(u().mark((function t(e){var r,s,i,a,p,l=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.persist(),!I()){t.next=5;break}e.preventDefault(),t.next=13;break;case 5:if(!this.props.element.getResponsiveSetting("actions",null,[]).length){t.next=13;break}return e.preventDefault(),e.stopPropagation(),t.next=10,n.e(2167).then(n.bind(n,2167));case 10:return r=t.sent.default,t.next=13,r.callAllWidgetActions(this.props.element.getIdForAction(),"click",this.props.element.getSettings("actions",[]),this.props.element);case 13:this.props.element.getForms().length?(this.setState((function(t){return D(D({},t),{},{pending:!0})})),this.props.element.getForms().forEach(function(){var t=(0,o.Z)(u().mark((function t(e){var n,r,o,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.submit(l.getModelId(),l.props.element.getResponsiveSetting("form_confirm"));case 3:if(!(n=t.sent).success){t.next=14;break}if(r=l.state.settings,o=r.redirect_to_prev_page,s=r.redirect_after,!o){t.next=8;break}return t.abrupt("return",history.back());case 8:if(!s){t.next=11;break}return s=z(s,n.data),t.abrupt("return",l.props.history.push(s));case 11:l.props.element.getResponsiveSetting("text_after",null,"")&&alert(l.props.element.getResponsiveSetting("text_after",null,"")),t.next=15;break;case 14:n.message&&alert(n.message);case 15:l.setState((function(t){return D(D({},t),{},{pending:!1})})),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),console.error(t.t0),l.setState((function(t){return D(D({},t),{},{pending:!1})}));case 22:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e){return t.apply(this,arguments)}}())):e.target.href&&0===e.target.href.replace(window.location.origin+window.location.pathname,"").indexOf("#")?(s=e.target.href.replace(window.location.origin+window.location.pathname,"").replace("#",""),(i=T(s))&&(e.preventDefault(),F(mainScrollbars,i))):this.props.element.getResponsiveSetting("hide_elements_trigger")?this.props.toggleTrigger(this.props.element.getResponsiveSetting("hide_elements_trigger")):this.props.element.getResponsiveSetting("other_action_type",null,[]).includes("print_elements")&&(a=(a=this.props.element.getResponsiveSetting("print_elements_ids",null,"")).split(","),p=[],a.forEach((function(t){var e;if(t&&t.trim()&&(T(t.trim())&&p.push(T(t)),null!==(e=C(t.trim()))&&void 0!==e&&e.getStylesHTMLElement)){var n=C(t.trim()).getStylesHTMLElement();n&&p.push(n)}})),_.get(window,"stylesModule.stylesContainer.current")&&p.push(_.get(window,"stylesModule.stylesContainer.current")),p.push(document.head),N(p));case 14:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this.props.element.getResponsiveSetting("button_text","",""),e=this.props.element.getResponsiveSetting("position_css_id","",""),n=this.props.element.getResponsiveSetting("position_css_classes","",null),r=this.props.element.getResponsiveSetting("background_image",null,{}),o=this.props.element.getResponsiveSetting("button_icon","",{}),s=this.props.element.getResponsiveSetting("show_delay_dropbar_options"),i=o.url;this.state.pending&&a.push("altrp-disabled");var a=["altrp-btn","dropbar"];n&&a.push(n),r.url&&a.push("altrp-background-image"),this.isDisabled()&&a.push("state-disabled");var p=h.createElement("button",{onClick:this.onClick,className:_.join(a," "),id:e},t,i?!M()&&h.createElement("span",{className:"altrp-btn-icon"},H(o)," "):"");return h.createElement("div",{className:"altrp-btn-wrapper_dropbar altrp-btn-wrapper"},h.createElement(Z,{elemenentId:this.props.element.getId(),settings:this.props.element.getSettings(),className:"btn",element:this.props.element,getContent:this.getContent,showDelay:s},p))}}]),g}(h.Component)},76450:function(t,e,n){"use strict";n.d(e,{q1:function(){return o},D9:function(){return s}});var r=n(67294);function o(t){return"function"==typeof t&&!!t.prototype.isReactComponent}function s(t){var e=(0,r.useRef)();return(0,r.useEffect)((function(){e.current=t}),[t]),e.current}}}]);
//# sourceMappingURL=DropbarWidget.05398c536b86bd466e5e.bundle.js.map