{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/components/AreaComponent.js","webpack:///./resources/modules/front-app/src/js/classes/PageLoader.js","webpack:///./resources/modules/front-app/src/js/classes/modules/DatastorageUpdater.js","webpack:///./resources/modules/front-app/src/js/components/RouteContent.js","webpack:///./resources/modules/front-app/src/js/components/EmailTemplatesRenderer.js","webpack:///./resources/modules/front-app/src/js/components/AppContent.js","webpack:///./resources/modules/front-app/src/js/components/FontsManager.js","webpack:///./resources/modules/front-app/src/js/components/GlobalStyles.js","webpack:///./resources/modules/front-app/src/FrontApp.js","webpack:///./resources/modules/front-app/src/js/helpers/styles.js"],"names":["AreaComponent","props","area","component","window","pageUpdater","startUpdating","stylesModule","removeStyleById","this","rootElement","id","classes","getTemplates","length","SSR","className","join","map","template","FrontPopup","key","data","lastElement","frontElementsFabric","parseData","page","models","scrollPosition","top","children","forEach","section","lazySection","filter","child","isCustomArea","concat","getAreaClasses","React","componentClass","element","Component","connect","state","PageLoader","resource","Resource","route","pageId","_","isObject","pageStorage","get","pageLoader","altrpHelpers","isJSON","mbParseJSON","replaceContentWithData","DataStorageUpdater","onStoreUpdate","formsStore","appStore","getState","isEqual","getProperty","setProperty","onFormsUpdate","subscribe","dataSources","initialUpdate","ds","Datasource","currentUser","isEmpty","getAll","dispatch","changeCurrentUser","dataSource","parameters","find","param","paramValue","toString","indexOf","params","getParams","currentRouterMatch","subscribeToFormsUpdate","required","value","groupedDataSources","push","currentDataStorageLoading","groupPriority","hasOwnProperty","requests","getWebUrl","defaultParams","cloneDeep","needUpdateFromForms","each","paramName","replace","res","preloadedData","altrpPreloadedDatasources","getAlias","unset","getType","getQueried","Promise","then","console","error","changeCurrentDataStorage","log","performance","now","all","currentDataStorageLoaded","unsetProperty","clearCurrentDataStorage","findIndex","sortBy","data_source","priority","updating","oldParams","undefined","pendingParameters","AltrpModel","dataStorageUpdater","global","ssr","AdminBar","lazy","RouteContent","title","changeCurrentTitle","areas","Area","admin","hasRoles","scrollbar","createRef","isReport","location","href","includes","clearElements","match","currentPageId","currentRouteComponent","altrpHistory","history","updateAppData","nextProps","queryCache","changeRouteCurrentModel","changeCurrentPageProperty","setState","mainScrollbars","current","allowed","setAreas","clearAllResponseData","formsManager","clearFieldsStorage","renderEvent","Event","dispatchEvent","clearFormsStore","data_sources","clearPageState","model","modelName","oldModel","currentModel","getData","altrpModelUpdated","changeCurrentModel","prevProps","Fragment","Suspense","fallback","idPage","idx","to","redirect","withRouter","EmailTemplatesRenderer","baseEmailRender","emailTemplate","emailTemplatesRenderer","currentEmailTemplate","templateType","content","createElement","baseRender","style","width","display","ref","reactRedux","altrpresponses","currentDataStorage","altrpMeta","altrpPageState","AppContent","mainScroller","router","frontAppRouter","addEventListener","e","setScrollValue","target","scrollTop","isAltrpTestMode","routes","path","exact","StylesComponent","appRoutes","FontsManager","fonts","helmetRef","delay","renderFonts","prevState","Set","toPairs","altrpFonts","add","toArray","Helmet","renderFontLink","isEditor","GlobalStyles","createGlobalStyle","elementsSettings","styles","getRouteStyles","prefix","item","name","ImageLightboxComponent","settings","DiagramComponent","TabsSwitcherComponent","ButtonComponent","CarouselComponent","GalleryComponent","DividerComponent","VideoComponent","ListComponent","AccordionComponent","SectionWidgetComponent","childrenLength","ColumnComponent","DropbarWidgetComponent","DashboardComponent","getImageStyles","getTabsStyles","getMenuStyles","getBreadcrumbsStyles","getHeadingTypeHeadingStyles","getHeadingTypeAnimatingStyles","getTableStyles","getTextStyles","getPostsStyles","FormComponent","InputDateComponent","DatePickerComponent","InputDateRangeComponent","InputCheckboxComponent","StarsComponent","ProgressBarComponent","InputSliderComponent","InputRangeSliderComponent","getInputTextCommonStyles","getInputTextAutocompleteStyles","getInputSelectStyles","getInputSelectPopoverStyles","TreeComponent","getInputMultiSelectStyles","getInputMultiSelectPopoverStyles","InputRadioComponent","getInputFileStyles","getInputGalleryStyles","getTemplateStyles","MapComponent","MapConstructorComponent","getSchedulerStyles","AdvancedComponent","tooltip_show_type","TooltipComponent","element_css_editor","getResponsiveSetting","isString","globalDefaults","currentScreen","getRoutes","FrontApp","frontApp","default","pusherKey","websocketsPort","websocketsHost","pusher_app_key","websockets_port","pusher_host","Pusher","require","Echo","broadcaster","wsHost","wsPort","forceTLS","disableStats","private","notification","setUserNotice","presenceChannel","activeUsers","here","users","setUsersOnline","joining","user","leaving","splice","Provider","store","DndProvider","backend","HTML5Backend","__hot","module","ALIGN_ITEMS","verticalAlignValues","alignItemsValue","verticalAlignToAlignItems","verticalAlignValue","items","dimensionsControllerToStyles","styleProperty","left","right","bottom","unit","shadowControllerToStyles","declaration","type","offsetX","horizontal","offsetY","vertical","blurRadius","blur","spread","spreadRadius","color","returnShadow","elem","textShadowControllerToStyles","colorPickedHex","opacity","backgroundColorControllerToStyles","pseudoClass","backgroundImageControllerToStyles","url","filtersControllerToStyles","brightness","contrast","hue","saturate","saturation","simplePropertyStyled","colorPropertyStyled","backgroundCreativeLinkStyled","backgroundPickedHex","columnGapStyled","size","iconSizeStyled","sizeStyled","property","heightCalcStyled","translateStyled","isNaN","function","transformRotateStyled","opacityStyled","typographicControllerToStyles","family","lineHeight","spacing","transform","weight","decoration","sizeUnit","lineHeightUnit","colorStyled","controller","colorStyledSecond","borderWidthStyled","marginTopLeftStyled","position","borderRadiusStyled","dimensionsStyled","important","gradientStyled","isWithGradient","defaultStyled","sliderStyled","shadowStyled","textShadowStyled","creativeLinkStyled","mediaStyled","styledString","other","stringStyles","keys","split","styleModify","shift","isArray","settingName","settingsPrefix","variable","isFunction"],"mappings":"uVAIMA,E,wcACJ,WAAYC,GAAO,4BACjB,cAAMA,GAENA,EAAMC,KAAKC,WAAX,UAHiB,E,mDAKnB,WAAuB,MAmBjBC,OAAOC,aACTD,OAAOC,YAAYC,gBAErBF,OAAOG,aAAaC,gBAApB,UAAoCC,KAAKC,mBAAzC,aAAoC,EAAkBC,M,oBAGxD,WAAS,QACHC,EAAU,CAAC,WAAD,mBAAyBH,KAAKR,MAAMU,KAIlD,QAC0C,IAAjCF,KAAKR,MAAMC,KAAKW,cACvBJ,KAAKR,MAAMC,KAAKW,eAAeC,OAE/B,OAAGV,OAAOW,IACD,KAGP,uBAAKC,UAAWJ,EAAQK,KAAK,MAC1BR,KAAKR,MAAMC,KAAKW,eAAeK,KAAI,SAAAC,GAClC,OAAO,gBAACC,EAAA,QAAD,CAAYC,IAAKF,EAASR,GAAIQ,SAAUA,QASvD,GAAI,UAAEV,KAAKR,aAAP,iBAAE,EAAYkB,gBAAd,QAAE,EAAsBG,KAC1B,OAAO,uBAAKN,UAAWJ,EAAQK,KAAK,OAEjB,WAAlBR,KAAKR,MAAMU,KACZF,KAAKR,MAAMkB,SAASG,KAAKC,aAAc,GAEzC,IAAIb,EAAcD,KAAKC,YACnBD,KAAKC,YACLN,OAAOoB,oBAAoBC,UACzBhB,KAAKR,MAAMkB,SAASG,KACpB,KACAb,KAAKR,MAAMyB,KACXjB,KAAKR,MAAM0B,QAEjBlB,KAAKC,YAAcA,EACnBN,OAAO,GAAD,OAAIK,KAAKR,MAAMU,GAAf,kBAAoCF,KAAKC,YAC3CD,KAAKR,MAAM2B,eAAeC,IAAM,GAClCpB,KAAKC,YAAYoB,SAASC,SAAQ,SAAAC,GAChCA,EAAQC,aAAc,KAG1B,IAAMH,EAAarB,KAAKC,YAAlBoB,SAON,OANAA,EAAWA,EAASI,QAAO,SAAAC,GAAK,OAAMA,EAAMF,eAEzCxB,KAAKR,MAAMC,KAAKkC,iBACjBxB,EAAUA,EAAQyB,OAAO5B,KAAKR,MAAMC,KAAKoC,mBAGpCC,gBAAoB,MAAO,CAChCvB,UAAUJ,EAAQK,KAAK,MACtBsB,gBAAoB9B,KAAKC,YAAY8B,eAAgB,CACtDC,QAAShC,KAAKC,YACdoB,kB,GAvFsBY,aAkG5B,GAAeC,cANf,SAAyBC,GACvB,MAAO,CACLhB,eAAgBgB,EAAMhB,kBAI1B,CAAwC5B,G,WChGlC6C,E,WACJ,cAAc,eACZpC,KAAKqC,SAAW,IAAIC,IAAS,CAC3BC,MAAO,gB,kEAQX,WAAeC,GAAf,2EACMC,EAAEC,SAAS/C,OAAOgD,YAAYH,IADpC,yCAKW7C,OAAOgD,YAAYH,IAL9B,uBAOmBxC,KAAKqC,SAASO,IAAIJ,GAPrC,cAOMvB,EAPN,OAQEtB,OAAOgD,YAAYH,GAAUvB,EAR/B,kBASSA,GATT,gD,qDAaFtB,OAAOkD,WAAa,IAAIT,EACxB,MAAezC,OAAf,W,8lCCvBA,MAAiEA,OAAOmD,aAAhER,EAAR,EAAQA,SAAUS,EAAlB,EAAkBA,OAAQC,EAA1B,EAA0BA,YAAaC,EAAvC,EAAuCA,uBAKjCC,E,4cAEJ,WAAYrC,GAAM,6BAChB,cAAMA,IA+KRsC,eAhLkB,iBAgLF,uFAKVC,EAAaC,SAASC,WAAWF,WAC/BX,EAAEc,QAAQ,EAAKC,YAAY,cAAeJ,KAAe,EAAKI,YAAY,WANlE,uBAOZ,EAAKC,YAAY,aAAcL,GAPnB,SAQN,EAAKM,gBARC,2CA9Kd,EAAKD,YAAY,4BAA6B,IAC9C,EAAKA,YAAY,aAAcJ,SAASC,WAAWF,YACnDC,SAASM,UAAU,EAAKR,eAJR,E,iEAYlB,oHAAoBS,EAApB,+BAAkC,KAAMC,IAAxC,iCACED,EAAcA,EAAYnD,KAAI,SAAAqD,GAC5B,OAAGA,aAAcC,IACRD,EAEF,IAAIC,IAAWD,OAErBT,SAASC,WAAWU,YAAYC,UAPrC,gCAQ4B,IAAI3B,EAAS,CAAEC,MAAO,uBAAwB2B,SAR1E,OASIF,GADIA,EARR,QAS8BnD,KAC1BwC,SAASc,UAASC,QAAkBJ,IAVxC,OAYMH,GAAkBpB,EAAEG,IAAIgB,EAAa,YACvCA,EAAc5D,KAAKwD,YAAY,uBAE5BI,IACHA,EAAc,IAEbC,IACD7D,KAAKyD,YAAY,qBAAsBG,GACvC5D,KAAKyD,YAAY,WAAW,GAC5BG,EAAcA,EAAYnC,QAAO,SAAA4C,GAAU,OAAIA,EAAWb,YAAY,gBAMxEI,EAAcA,EAAYnC,QAAO,SAAA4C,GAC/B,IAAIC,EAAaD,EAAWb,YAAY,cACxC,OAAKT,EAAOuB,OAGZA,EAAatB,EAAYsB,EAAY,MAKbA,EAAWC,MAAK,SAAAC,GACtC,IAA4D,IAAxDA,EAAMC,WAAWC,WAAWC,QAAQ,eAKtC,OAAO,EAJP,IAAIC,EAASP,EAAWQ,UAAUlF,OAAOmF,mBAAmBjE,KAAK+D,OAAQ,eAM3E,GAJEf,GAAiB,EAAKkB,uBAAuBV,EAAYO,IAItDJ,EAAMQ,SACT,OAAO,EAET,IAAIC,EAAQT,EAAMC,YAAc,GAIhC,OAH4B,IAAzBQ,EAAMN,QAAQ,QACfM,EAAQhC,EAAuBgC,KAExBA,SAOPC,EAAqB,GAC3BtB,EAAYtC,SAAQ,SAAA+C,GAClBa,EAAmBb,EAAWb,YAAY,aAAe0B,EAAmBb,EAAWb,YAAY,cAAgB,GACnH0B,EAAmBb,EAAWb,YAAY,aAAa2B,KAAKd,MAE9DR,GAAiBR,SAASc,UAASiB,WAhErC,cAiE4BF,GAjE5B,kDAiEWG,EAjEX,WAkESH,EAAmBI,eAAeD,GAlE3C,+DAqEIxB,GAAiBR,SAASc,UAASiB,WAC/BG,EAAWL,EAAmBG,GAAe5E,IAAlC,mCAAsC,WAAM4D,GAAN,qFAC/CA,EAAWmB,YADoC,oBAE7CZ,EAASP,EAAWQ,UAAUlF,OAAOmF,mBAAmBF,OAAQ,eAChEa,EAAgBhD,EAAEiD,UAAUd,GAC5Be,GAAsB,EAC1BlD,EAAEmD,KAAKhB,GAAQ,SAACH,EAAYoB,GAC2B,IAAjDpB,EAAWC,WAAWC,QAAQ,iBAChCC,EAAOiB,GAAapD,EAAEG,IAAIS,SAASC,WAAWF,WAAYqB,EAAWC,WAAWoB,QAAQ,cAAe,IAAK,IAC5GH,GAAsB,MAOtBA,GACF9B,GAAiB,EAAKkB,uBAAuBV,EAAY5B,EAAEiD,UAAUD,IAEnEM,EAAM,GAlBuC,WAoBzCC,EAAgBvD,EAAEG,IAAIjD,OAAOsG,0BAA2B5B,EAAW6B,aApB1B,iBAsB7CH,EAAMC,EACNvD,EAAE0D,MAAMxG,OAAOsG,0BAA2B5B,EAAW6B,YAvBR,2BAyBhB,SAAzB7B,EAAW+B,UAzB8B,sBA0BzClG,EAAKuC,EAAEG,IAAIgC,EAAQ,KAAMnC,EAAEG,IAAI,EAAKpD,MAAO,qBA1BF,kCA4B9B,IAAI8C,EAAS,CAAEC,MAAO8B,EAAWmB,cAAgB5C,IAAI1C,GA5BvB,QA4B3C6F,EA5B2C,0CA8BnCtD,EAAEwB,QAAQW,GA9ByB,kCA+BhC,IAAItC,EAAS,CAAEC,MAAO8B,EAAWmB,cAAgBa,WAAWzB,GA/B5B,QA+B7CmB,EA/B6C,OAgC7C1B,EAAWO,OAASnC,EAAEiD,UAAUd,GAhCa,yCAkChC,IAAItC,EAAS,CAAEC,MAAO8B,EAAWmB,cAAgBtB,SAlCjB,QAkC7C6B,EAlC6C,sEAqC5C,gBAAeO,SArC6B,kCAsCjC,KAAIC,OAtC6B,4BAwC/CC,QAAQC,MAAR,MAxC+C,eA0CjDV,EAAMtD,EAAEG,IAAImD,EAAK,OAAQA,IACzBnC,EAAcA,EAAYnC,QAAO,SAAAqC,GAAE,OAAIA,IAAOO,MAC7BhE,QACf,EAAKoD,YAAY,WAAW,GAE9BJ,SAASc,UAASuC,QAAyBrC,EAAW6B,WAAYH,IA/CjB,kBAgD1CA,GAhD0C,0DAAtC,uDAmDfS,QAAQG,IAAI,4BAA4BC,YAAYC,OAzHxD,UA0H0BP,QAAQQ,IAAIvB,GA1HtC,eA2HIiB,QAAQG,IAAI,0BAA0BC,YAAYC,OAClDhD,GAAiBR,SAASc,UAAS4C,WA5HvC,wBA8HKtE,EAAEwB,QAAQiB,IACXlF,KAAKyD,YAAY,WAAW,GAEzBG,EAAYvD,QACfgD,SAASc,UAAS4C,WAlItB,iD,uEAyIA,WACE/G,KAAKgH,cAAc,sBACnBhH,KAAKyD,YAAY,4BAA6B,IAC9CJ,SAASc,UAAS8C,a,oCAOpB,SAAuB5C,EAAYO,GACjC,IAAIhB,EAAc5D,KAAKwD,YAAY,8BAM3B,IAFJf,EAAEyE,UAAUtD,GAAa,SAAAE,GAC3B,OAAOA,EAAGO,aAAeA,MAEzBT,EAAYuB,KAAK,CACfd,aACAO,a,gDAuBN,4FAMEhB,GALIA,EAAc5D,KAAKwD,YAAY,4BAA6B,KAKtC/B,QAAO,SAAAqC,GAC/B,IACIQ,EADiBR,EAAdO,WACqBb,YAAY,cACxC,OAAKT,EAAOuB,MAGZA,EAAatB,EAAYsB,EAAY,KAIjBC,MAAK,SAAAC,GACvB,IAAKA,EAAMQ,SACT,OAAO,EAET,IAAIC,EAAQT,EAAMC,YAAc,GAIhC,OAH4B,IAAzBQ,EAAMN,QAAQ,QACfM,EAAQhC,EAAuBgC,KAExBA,QAGbrB,EAAcnB,EAAE0E,OAAOvD,GAAa,SAAAwD,GAAW,OAAIA,EAAYC,YAC3DjE,EAAaC,SAASC,WAAWF,WA5BvC,IA6BiBQ,GA7BjB,sHA6BWE,EA7BX,QA8BUO,EAAyBP,EAAzBO,WAAYiD,EAAaxD,EAAbwD,SACdC,EAAY9E,EAAEiD,UAAUrB,EAAWO,QAInCA,EAASP,EAAWQ,UAAUlF,OAAOmF,mBAAmBF,OAAQ,eACpEnC,EAAEnB,QAAQsD,GAAQ,SAACH,EAAYoB,GACwB,IAAjDpB,EAAWC,WAAWC,QAAQ,iBAChCC,EAAOiB,GAAapD,EAAEG,IAAIQ,EAAYqB,EAAWqB,QAAQ,cAAe,SAUtErD,EAAEc,QAAQqB,EAAQ2C,IAAgBD,EAhD5C,wBAiDMjD,EAAWO,OAASnC,EAAEiD,UAAUd,GAChCd,EAAGwD,UAAW,EACVvB,EAAM,GAnDhB,oBAqDqB,IAAIzD,EAAS,CAAEC,MAAO8B,EAAWmB,cAAgBa,WAAWzB,GArDjF,QAqDQmB,EArDR,OAsDQA,EAAMtD,EAAEG,IAAImD,EAAK,OAAQA,GACzB1C,SAASc,UAASuC,QAAyBrC,EAAW6B,WAAYH,IAvD1E,wDAyDW,gBAAeO,SAzD1B,kCA0DsB,KAAIC,OA1D1B,oBA2DU,KAAMvD,EAAY,EAAD,IA3D3B,QA6DQwD,QAAQC,MAAR,MA7DR,0BAmEqCe,IAAzB1D,EAAG2D,mBAAsChF,EAAEc,QAAQO,EAAG2D,kBAAmB7C,GAnErF,4CAqEyB,IAAItC,EAAS,CAAEC,MAAO8B,EAAWmB,cAAgBa,WAAWvC,EAAG2D,mBArExF,QAqEY1B,EArEZ,OAsEYA,EAAMtD,EAAEG,IAAImD,EAAK,OAAQA,GACzB1C,SAASc,UAASuC,QAAyBrC,EAAW6B,WAAYH,IAClE1B,EAAWO,OAASnC,EAAEiD,UAAU5B,EAAG2D,mBAxE/C,wDA0Ee,gBAAenB,SA1E9B,kCA2E0B,KAAIC,OA3E9B,oBA4Ec,KAAMvD,EAAY,EAAD,IA5E/B,QA8EYwD,QAAQC,MAAR,MA9EZ,yBAgFYhE,EAAE0D,MAAMrC,EAAI,qBAhFxB,4BAmFQA,EAAGwD,UAAW,EAnFtB,8CAyFiB7E,EAAEc,QAAQqB,EAAQ2C,IAAeD,IAC5CxD,EAAG2D,kBAAoBhF,EAAEiD,UAAUd,IA1FzC,yW,kDAlM+B8C,YAiSjC/H,OAAOgI,mBAAqBhI,OAAOgI,oBAAsB,IAAIzE,EAC7D,MAAevD,OAAf,mB,2nBC7SsB,oBAAXA,SAETiI,GAAOjI,OAAOkI,KAAM,GAMtB,IAAMC,EAAWhG,MAAMiG,MAAK,kBAAM,gFAiB5BC,E,kdACJ,WAAYxI,GAAO,wBAEjB,IAAIyI,GADJ,cAAMzI,IACWA,MAAMyI,MAFN,OAGjB5E,oBAAkB6E,OAAmBD,IACrC,EAAK9F,MAAQ,CACXgG,OACiB,IAAfxI,OAAOkI,IACH,EAAKrI,MAAM2I,MAAM1H,KAAI,SAAAhB,GAAI,OAAI2I,gBAAiB3I,MAC9C,EAAKD,MAAM2I,OAAS,GAC1BE,MAAO,EAAK7I,MAAMwE,YAAYsE,SAAS,UAEzC,EAAKC,UAAYzG,MAAM0G,YACvB,EAAKC,UAAW,UAAA9I,OAAO+I,gBAAP,eAAiBC,KAAKC,SAAS,cAAc,EAC7DvF,oBAAkBwF,WAClBlJ,OAAOmF,mBAAqB,IAAI4C,IAAWlI,EAAMsJ,OACjDnJ,OAAOoJ,cAAgBvJ,EAAMU,GAC7BP,OAAOqJ,uBAAP,UACArJ,OAAOsJ,aAAe,EAAKzJ,MAAM0J,QACjC1C,QAAQG,IAAI,sBAAuBC,YAAYC,OAC/C,EAAKsC,gBAnBY,E,6EAsBnB,WAAgCC,GAAhC,oEACEC,aAEE5G,EAAEG,IAAI5C,KAAKR,MAAO,qBAClBiD,EAAEG,IAAIwG,EAAW,oBACjB3G,EAAEG,IAAI5C,KAAKR,MAAO,qBAClBiD,EAAEG,IAAIwG,EAAW,mBANrB,gCAQUpJ,KAAKsJ,wBAAwBF,GARvC,OASI/F,oBAAkBkG,QAA0B,MAAOb,SAASC,OAThE,OAgBKlG,EAAEc,QACDd,EAAEG,IAAI5C,KAAKR,MAAO,gBAClBiD,EAAEG,IAAIwG,EAAW,kBAGnBpJ,KAAKmJ,gBAEPnJ,KAAKwJ,UAAS,SAAArH,GAAK,cACdA,GADc,IAEjBkG,MAAOe,EAAUpF,YAAYsE,SAAS,cAzB1C,gD,kGAkCA,2FACE3I,OAAO8J,eAAiBzJ,KAAKuI,UAAUmB,QAKvCrG,oBAAkBkG,QAA0B,MAAOb,SAASC,QACxD3I,KAAKR,MAAMuI,OAAQ/H,KAAKR,MAAMmK,QAPpC,gCAQqB9G,WAAoB7C,KAAKR,MAAMU,IARpD,OAQQe,EARR,OASQkH,EAAQlH,EAAKkH,MAAM1H,KAAI,SAAAhB,GAAI,OAAI2I,gBAAiB3I,MACpD4D,oBAAkBuG,OAASzB,IAC3BnI,KAAKwJ,UAAS,SAAArH,GAAK,cACdA,GADc,IAEjBgG,aAbN,OAoBEnI,KAAKsJ,0BAILjG,oBAAkBwG,WAIlBlK,OAAOmK,aAAaC,qBACpBvD,QAAQG,IAAI,kBAAmBC,YAAYC,OACrCmD,EAAc,IAAIC,MAAM,gBAC9BtK,OAAOuK,cAAcF,GA/BvB,iD,+EAuCA,c,gDAOA,oFACErC,iBACIhI,OAAOmK,cACTA,aAAaK,kBAKTC,EAAiBpK,KAAKR,MAAtB4K,aACNzC,gBAAiCyC,GACjC/G,oBAAkBgH,WAVpB,gD,uGAeA,WAA8BjB,GAA9B,+EAEI3G,EAAEG,IAAI5C,KAAKR,MAAO,qBAClBiD,EAAEG,IAAI5C,KAAKR,MAAO,mBAHtB,wBAKQA,EAAQ4J,GAAwBpJ,KAAKR,MAL7C,kBAOwB,IAAI8C,IAAS,CAC7BC,MAAO,gBAAF,OAAkB/C,EAAM8K,MAAMC,aAClC3H,IAAIpD,EAAMsJ,MAAMlE,OAAO1E,IAThC,OAOUoK,EAPV,OAUUE,EAAWnH,qBAAoBoH,aAAaC,UAChDJ,EAAMK,mBAAoB,EACrBlI,EAAEc,QAAQ+G,EAAOE,KACpBnH,oBAAkBuH,OAAmB,CAAED,mBAAmB,KAC1DtH,oBAAkBuH,OAAmBN,KAd7C,kDAiBM9D,QAAQC,MAAR,MACApD,oBAAkBuH,OAAmB,CAAED,mBAAmB,KAlBhE,gCAqBItH,oBAAkBuH,OAAmB,CAAED,mBAAmB,KArB9D,0D,mGA8BA,WAAyBE,GAAzB,iEAEOpI,EAAEc,QAAQd,EAAEG,IAAI5C,KAAKR,MAAO,SAAUiD,EAAEG,IAAIiI,EAAW,YAC1DlL,OAAOmF,mBAAqB,IAAI4C,IAAW1H,KAAKR,MAAMsJ,QAH1D,gD,kEAQA,WAAS,WACP,OAAK9I,KAAKR,MAAMmK,QAId,oBAAC7H,MAAMgJ,SAAP,KACE,oBAACC,SAAD,CAAUC,SAAU,iCACjBhL,KAAKmC,MAAMkG,OACV,oBAACP,EAAD,CACEK,MAAOnI,KAAKmC,MAAMgG,MAClBtH,KAAMb,KAAKR,MAAMwE,YAAYnD,KAC7BoK,OAAQjL,KAAKR,MAAMU,KAEpB,KAsBH,2BAAKK,UAAU,gBAAgBL,GAAG,iBAC/BF,KAAKmC,MAAMgG,MAAM1H,KAAI,SAAChB,EAAMyL,GAC3B,OACE,oBAAC,GAAD,UACMzL,EADN,CAEEA,KAAMA,EACN0I,MAAO,EAAKhG,MAAMgG,MAClBlH,KAAM,EAAKzB,MAAMU,GACjBgB,OAAQ,CAAC,EAAK1B,MAAM8K,OACpB1J,IAAK,WAAanB,EAAKS,WA1C5B,oBAAC,KAAD,CAAUiL,GAAInL,KAAKR,MAAM4L,UAAY,U,GA9JvBnJ,WA6N3B,GAAeC,cAVS,SAAAC,GAAK,MAAK,CAChC6B,YAAa7B,EAAM6B,eASrB,EAGEqH,QAAWrD,I,ICzPPsD,G,wcACJ,WAAY9L,GAAO,6BACjB,cAAMA,IACD2C,MAAQ,CACXoJ,gBAAiB5L,OAAO4L,iBAE1B,EAAKC,cAAgB1J,MAAM0G,YAC3B7I,OAAO8L,wBAAP,UANiB,E,qCAcnB,WACE,IAAMzL,KAAKR,MAAMkM,uBAA0B1L,KAAKmC,MAAMoJ,gBACpD,OAAO,KAET,IAAItL,EAAcN,OAAOmD,aAAaE,YAAYhD,KAAKR,MAAMkM,qBAAqB7K,OAClFZ,EAAcN,OAAOoB,oBAAoBC,UAAUf,IACvC0L,aAAe,QAC3B,IAAIC,EAAU9J,MAAM+J,cAAc5L,EAAY8B,eAAgB,CAC5DC,QAAS/B,EACToB,SAAUpB,EAAYoB,SACtByK,WAAY9L,KAAKmC,MAAMoJ,kBAMzB,OAAO,6BAAOrL,GAAG,uBACH6L,MALQ,CACpBC,MAAO,OACPC,QAAS,QAIGC,IAAKlM,KAAKwL,eACpB,iCACA,8BACE,8BACGI,U,GArCwBjM,OAAOsC,WAgE5C,GAAetC,OAAOwM,WAAWjK,SAbjC,SAAyBC,GACvB,MAAO,CACLiK,eAAgBjK,EAAMiK,eACtBhJ,WAAYjB,EAAMiB,WAClBiJ,mBAAoBlK,EAAMkK,mBAC1B5B,aAActI,EAAMsI,aACpBzG,YAAa7B,EAAM6B,YACnBsI,UAAWnK,EAAMmK,UACjBC,eAAgBpK,EAAMoK,eACtBb,qBAAsBvJ,EAAMuJ,wBAIhC,CAA0DJ,I,gBC1DpDkB,G,wcACJ,WAAYhN,GAAO,6BACjB,cAAMA,IACDiN,aAAe3K,MAAM0G,YAC1B,EAAKkE,OAAS5K,MAAM0G,YAHH,E,gDAKnB,WACMxI,KAAK0M,OAAOhD,UACd/J,OAAOgN,eAAiB3M,KAAK0M,OAAOhD,SAMnC1J,KAAKyM,aAAa/C,SACnB1J,KAAKyM,aAAa/C,QAAQkD,iBAAiB,UAAU,SAAAC,GACnDxJ,oBAAkByJ,QAAe,CAAC1L,IAAKyL,EAAEE,OAAOC,kB,oBAKtD,WACE,OACE,oBAAC,KAAD,CAAQd,IAAKlM,KAAK0M,QAChB,oBAAC,GAAD,MACA,2BAAKR,IAAKlM,KAAKyM,aAAclM,UAAS,6BAAuB0M,uBAAoB,yBAA2B,KAC1G,oBAAC,KAAD,KACGjN,KAAKR,MAAM0N,OAAOzM,KAAI,SAAA8B,GAAK,OAC1B,oBAAC,KAAD,CACE3B,IAAK2B,EAAMrC,GACXmB,SAAU,oBAAC,EAAiBkB,GAC5B4K,KAAM5K,EAAM4K,KACZC,OAAK,SAKb,oBAACzN,OAAO0N,gBAAR,W,GArCiBpL,WAiDzB,IAAeC,cANf,SAAyBC,GACvB,MAAO,CACL+K,OAAQ/K,EAAMmL,UAAUJ,UAI5B,CAAwCV,I,wmBCrDlCe,G,0cAEJ,WAAY/N,GAAO,6BACjB,cAAMA,IACD2C,MAAQ,CACXqL,MAAO,IAET,EAAKC,UAAY3L,MAAM0G,YACvB7I,OAAO8N,UAAY,EAAKA,UANP,E,qEASnB,+FACQC,WAAM,KADd,OAEE1N,KAAKwJ,UAAS,SAAArH,GAAK,gBAAOA,GAAP,IAAcwL,aAAa,OAFhD,gD,6EAUA,SAAmB9C,EAAW+C,GAC5B,GAAI5N,KAAKmC,MAAMwL,YAAf,CAGA,IAAIH,EAAQ,IAAIK,IACGpL,EAAEqL,QAAQ9N,KAAKR,MAAMuO,WAAWrD,WACxCpJ,SAAQ,YAAkB,oBAAX2D,GAAW,WACnCuI,EAAMQ,IAAI/I,MAEZuI,EAAQ/K,EAAEwL,QAAQT,GACd/K,EAAEc,QAAQiK,EAAOxN,KAAKmC,MAAMqL,QAGhCxN,KAAKwJ,UAAS,SAAArH,GAAK,gBAASA,GAAT,IAAgBqL,gB,oBAGrC,WACE,IAAOA,EAASxN,KAAKmC,MAAdqL,MAEP,OAAO,oBAACU,GAAA,EAAD,CAAQhC,IAAKlM,KAAKyN,WACtBD,EAAM/M,IAAI0N,uB,GAzCUlM,WAoD3B,GAAetC,OAAOwM,WAAWjK,SANjC,SAAyBC,GACvB,MAAO,CACL4L,WAAY5L,EAAM4L,cAItB,CAA0DR,I,2lBCCnDa,GAAYzO,OAAOmD,aAAnBsL,SAEDC,GAAeC,kBAAH,4BAAuB,YAAiC,IAA9BC,EAA8B,EAA9BA,iBAAkBpG,EAAY,EAAZA,MACxDqG,EAAS,GACVrG,IACDqG,IAAUC,QAAetG,IAE3B,IAAIuG,EAAS,gBA0Pb,OAxPAjM,EAAEmD,KAAK2I,GAAkB,SAACI,EAAMzO,GAC9B,GAAIyO,EAAM,CACR,OAAQA,EAAKC,MACX,IAAK,iBACHJ,IAAQK,QAAuBF,EAAKG,SAAS5O,GAC7C,MACF,IAAK,cAGL,IAAK,eAGL,IAAK,cAGL,IAAK,gBACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB6O,QAAiBJ,EAAKG,UAA9C,KACN,MACF,IAAK,gBACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB8O,QAAsBL,EAAKG,UAAnD,KACN,MACF,IAAK,SACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB+O,QAAgBN,EAAKG,UAA7C,KACN,MACF,IAAK,WACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBgP,QAAkBP,EAAKG,UAA/C,KACN,MACF,IAAK,UACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBiP,QAAiBR,EAAKG,UAA9C,KACN,MACF,IAAK,UACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBkP,QAAiBT,EAAKG,UAA9C,KACN,MACF,IAAK,QACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBmP,QAAeV,EAAKG,UAA5C,KACN,MACF,IAAK,OACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBoP,QAAcX,EAAKG,UAA3C,KACN,MACF,IAAK,YACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBqP,QAAmBZ,EAAKG,UAAhD,KACN,MACF,IAAK,UAGL,IAAK,iBACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBsP,QAAuBb,EAAKG,SAAUH,EAAKc,gBAAkB,GAArF,KACN,MACF,IAAK,SACHjB,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBwP,QAAgBf,EAAKG,UAA7C,KACN,MACF,IAAK,UACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwByP,QAAuBhB,EAAKG,UAApD,KACN,MACF,IAAK,YACHN,GAAM,WAAME,GAAN,OAAexO,EAAf,cAAsB0P,QAAmBjB,EAAKG,UAA9C,KACN,MACF,IAAK,QACHN,IAAQqB,QAAelB,EAAKG,SAAS5O,GACrC,MACF,IAAK,OACHsO,IAAQsB,QAAcnB,EAAKG,SAAU5O,GACrC,MACF,IAAK,OACHsO,IAAQuB,QAAcpB,EAAKG,SAAS5O,GACpC,MACF,IAAK,cACHsO,IAAQwB,QAAqBrB,EAAKG,SAAS5O,GAC3C,MACF,IAAK,UACHsO,IAAUyB,QAA4BtB,EAAKG,SAAU5O,GAErD,MACF,IAAK,yBACHsO,IAAU0B,QAA8BvB,EAAKG,SAAU5O,GAEvD,MACF,IAAK,QACHsO,IAAU2B,QAAexB,EAAKG,SAAU5O,GAExC,MACF,IAAK,OACHsO,IAAU4B,QAAczB,EAAKG,SAAU5O,GAEvC,MACF,IAAK,QACHsO,IAAU6B,QAAe1B,EAAKG,SAAU5O,GAExC,MACF,IAAK,gBACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,aAAwBoQ,mBAC5B3B,EAAKG,SACL5O,GAFI,KAKNsO,GAAU,GAAJ,OAAO8B,oBAA6B3B,EAAKG,SAAU5O,GAAnD,KAEN,MACF,IAAK,aACHsO,IAAU+B,QACR5B,EAAKG,SACL5O,EACAwO,GAEFF,GAAU,GAAJ,QAAOgC,QACX7B,EAAKG,SACL5O,IAGF,MACF,IAAK,mBACHsO,IAAUiC,QACR9B,EAAKG,SACL5O,EACAwO,GAGJ,MACA,IAAK,iBACHF,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBwQ,QAC5B/B,EAAKG,SACL5O,GAFI,KAKN,MACF,IAAK,QACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwByQ,QAC5BhC,EAAKG,SACL5O,GAFI,KAKN,MACF,IAAK,eACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB0Q,QAC5BjC,EAAKG,SACL5O,GAFI,KAKN,MACF,IAAK,eACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB2Q,QAC5BlC,EAAKG,UADD,KAIN,MACF,IAAK,qBACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB4Q,QAC5BnC,EAAKG,UADD,KAIN,MACF,IAAK,oBACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB6Q,QAAyBpC,EAAKG,SAAU5O,GAAhE,KAEN,MACF,IAAK,0BACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB8Q,QAA+BrC,EAAKG,SAAU5O,GAAtE,KAEN,MACF,IAAK,eACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB+Q,QAAqBtC,EAAKG,SAAU5O,GAA5D,KACNsO,GAAU,GAAJ,QAAO0C,QAA4BvC,EAAKG,SAAU5O,IAExD,MACF,IAAK,oBACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB+Q,QAAqBtC,EAAKG,SAAU5O,GAA5D,KACNsO,GAAU,GAAJ,QAAO0C,QAA4BvC,EAAKG,SAAU5O,IACxDsO,GAAU,qBAAJ,OAAyBtO,EAAzB,cAAgCiR,QAAcxC,EAAKG,SAAU,SAA7D,KAEN,MACF,IAAK,qBACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBkR,QAA0BzC,EAAKG,SAAU5O,GAAjE,KACNsO,GAAU,GAAJ,QAAO6C,QAAiC1C,EAAKG,SAAU5O,IAE7D,MACF,IAAK,cACHsO,IAAU8C,QACR3C,EAAKG,SACL5O,EACAwO,GAEH,MACD,IAAK,aACL,IAAK,iBACL,IAAK,eACL,IAAK,cACL,IAAK,YACL,IAAK,aACHF,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBqR,QAC5B5C,EAAKG,SACL5O,GAFI,KAIP,MACD,IAAK,gBACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBsR,QAC5B7C,EAAKG,SACL5O,GAFI,KAIP,MACD,IAAK,WACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBuR,QAC5B9C,EAAKG,SACL5O,GAFI,KAIP,MACD,IAAK,qBACL,IAAK,eACL,IAAK,iBACL,IAAK,gBACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,aAAwBoQ,mBAC5B3B,EAAKG,SACL5O,GAFI,KAKN,MACF,IAAK,MACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBwR,QAAa/C,EAAKG,UAA1C,KACN,MACF,IAAK,cACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwByR,QAAwBhD,EAAKG,UAArD,KACN,MACF,IAAK,YACHN,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwB0R,QAAmBjD,EAAKG,SAAU5O,GAA1D,KACN,MACF,IAAK,OACHsO,GAAU,IAAJ,OAAQE,GAAR,OAAiBxO,EAAjB,cAAwBiR,QAAcxC,EAAKG,UAA3C,KAGVN,GAAU,OAAJ,OAAWE,GAAX,OAAoBxO,EAApB,YAA0BwO,GAA1B,OAAmCxO,EAAnC,cAA0C2R,QAC9ClD,EAAKG,UADD,KAMmB,WAFCH,EAAKG,SAASgD,mBAAqB,WAG3DtD,GAAU,iBAAJ,OAAqBtO,EAArB,cAA4B6R,QAAiBpD,EAAKG,UAAlD,MAGR,IAAIkD,GAAqBC,0BAAqBtD,EAAKG,SAAU,sBAC1DrM,EAAEyP,SAASF,KACZxD,GAAQwD,EAAmBlM,QAAQ,gBAA3B,WAAgD4I,GAAhD,OAAyDxO,SAKvEsO,GAAU,IAEV7O,OAAOwS,iBAAmB3D,GAAU7O,OAAOwS,eAAe3R,KAAK,KACxDgO,KAcT,GAAe7O,OAAOwM,WAAWjK,SAXjC,SAAyBC,GACvB,OAAGiM,KACM,GAEF,CACLG,iBAAkBpM,EAAMoM,iBACxBpG,MAAOhG,EAAMgG,MACbiK,cAAejQ,EAAMiQ,iBAIzB,CAA0D/D,I,WChU1D,OAA8B1O,OAAOmD,aAAnBR,IAAlB,GAAO+P,UAAP,GAAkB/P,UAGZgQ,G,0cACJ,WAAY9S,GAAO,4BACjB,cAAMA,GACNG,OAAO4S,UAAP,UACA,EAAKF,YAEL7L,QAAQG,IAAI,cAAcC,YAAYC,OALrB,E,wCAOnB,WAAY,WACV,OAAOlH,OAAOmD,aAAauP,YAAY9L,MAAK,SAAAR,GAC1C,EAAKmH,OAASnH,EAAIyM,a,2BAItB,WACEhM,QAAQG,IAAIC,YAAYC,S,oDAW1B,6GACE,IAAIvE,GAAS,CAAEC,MAAO,WAAYK,IAAI,gBAAgB2D,MAAK,SAAAR,GACpDtD,EAAEc,QAAQF,qBAAoBW,YAAY0G,UAAW3E,EAAIlF,OAC5DwC,oBAAkBe,QAAkB2B,EAAIlF,UAH9C,SAMwB,IAAIyB,GAAS,CAAEC,MAAO,yBAA0BK,IAAI,kBAN5E,cAMM6P,EANN,gBAO6B,IAAInQ,GAAS,CAAEC,MAAO,yBAA0BK,IAAI,mBAPjF,cAOM8P,EAPN,gBAQ6B,IAAIpQ,GAAS,CAAEC,MAAO,yBAA0BK,IAAI,eARjF,OAeE,GAPI+P,EARN,OAUEF,EAAS,UAAGA,SAAH,aAAG,EAAWG,eACvBF,EAAc,UAAGA,SAAH,aAAG,EAAgBG,gBACjCF,EAAc,UAAGA,SAAH,aAAG,EAAgBG,YAG9BL,GAAaC,EAAe,CAC7B,IACE/S,OAAOoT,OAASC,EAAQ,OACxBrT,OAAOsT,KAAO,IAAIA,KAAK,CACrBC,YAAa,SACbtS,IAAK6R,EACLU,OAAQR,EACRS,OAAQV,EACRW,UAAU,EACVC,cAAc,IAGhB,MAAO7M,GACPD,QAAQC,MAAMA,GAba,EAePpD,qBAAfW,EAfsB,EAetBA,YAEPrE,OAAOsT,KAAKM,QAAQ,YAAcvP,EAAY9D,IAC7CsT,cAAa,SAACA,GAEbnQ,oBAAkBoQ,QAAcD,IAChChN,QAAQG,IAAItD,qBAAoBW,YAAa,mBAI3C0P,EAAkB/T,OAAOsT,KAAKzS,KAAK,UACnCmT,EAAc,GAClBD,EAAgBE,MAAK,SAACC,GACpBF,EAAcE,EACdxQ,oBAAkByQ,QAAeH,OAElCI,SAAQ,SAACC,GACRL,EAAYxO,KAAK6O,GACjB3Q,oBAAkByQ,QAAeH,OAElCM,SAAQ,SAACD,GACRL,EAAYO,OAAOP,EAAYhP,QAAQqP,GAAO,GAC9C3Q,oBAAkByQ,QAAeH,YAIpCnN,QAAQG,IAAI,uBAxDf,4C,iEA4DA,WACE,OACE,oBAAC,EAAAwN,SAAD,CAAUC,MAAO/Q,WACf,oBAACgR,GAAA,EAAD,CAAaC,QAASC,OACpB,oBAAC,GAAD,OAEF,oBAAC,GAAD,MACA,oBAAC,GAAD,W,GA7FetS,WAmGvB,GAAetC,OAAO6U,MAAMC,EAA5B,CAAoCnC,K,41CC5G9BoC,EAAc,CAClB,CACEC,oBAAqB,CAAC,QAAS,MAAO,YACtCC,gBAAiB,cAEnB,CACED,oBAAqB,CAAC,UACtBC,gBAAiB,UAEnB,CACED,oBAAqB,CAAC,YACtBC,gBAAiB,YAEnB,CACED,oBAAqB,CAAC,MAAO,SAAU,eACvCC,gBAAiB,aASd,SAASC,EAA0BC,GACxC,IAAIF,EAAkB,GAMtB,OALAF,EAAYpT,SAAQ,SAAAyT,IAC6C,IAA3DA,EAAMJ,oBAAoBhQ,QAAQmQ,KACpCF,EAAkBG,EAAMH,oBAGrBA,EASF,SAASI,IAGd,IAFAnU,EAEA,uDAFO,GACPoU,EACA,uDADgB,UAEZzG,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAET,IAAQ0G,EAAmCrU,EAAnCqU,KAAM9T,EAA6BP,EAA7BO,IAAK+T,EAAwBtU,EAAxBsU,MAAOC,EAAiBvU,EAAjBuU,OAAQC,EAASxU,EAATwU,KAClC,OAAQJ,GACN,IAAK,eAEGC,IACF1G,GAAU,sBAAJ,OAA0B0G,GAA1B,OAAiCG,EAAjC,OAEJF,IACF3G,GAAU,uBAAJ,OAA2B2G,GAA3B,OAAmCE,EAAnC,OAEJjU,IACFoN,GAAU,qBAAJ,OAAyBpN,GAAzB,OAA+BiU,EAA/B,OAEJD,IACF5G,GAAU,wBAAJ,OAA4B4G,GAA5B,OAAqCC,EAArC,OAGV,MACF,IAAK,gBAEGjU,IACFoN,GAAU,2BAAJ,OAA+BpN,GAA/B,OAAqCiU,EAArC,OAEJF,IACF3G,GAAU,4BAAJ,OAAgC2G,GAAhC,OAAwCE,EAAxC,OAEJD,IACF5G,GAAU,+BAAJ,OAAmC4G,GAAnC,OAA4CC,EAA5C,OAEJH,IACF1G,GAAU,8BAAJ,OAAkC0G,GAAlC,OAAyCG,EAAzC,OAGV,MACF,QAEQH,IACF1G,GAAU,GAAJ,OAAOyG,EAAP,kBAA8BC,GAA9B,OAAqCG,EAArC,OAEJF,IACF3G,GAAU,GAAJ,OAAOyG,EAAP,mBAA+BE,GAA/B,OAAuCE,EAAvC,OAEJjU,IACFoN,GAAU,GAAJ,OAAOyG,EAAP,iBAA6B7T,GAA7B,OAAmCiU,EAAnC,OAEJD,IACF5G,GAAU,GAAJ,OAAOyG,EAAP,oBAAgCG,GAAhC,OAAyCC,EAAzC,OAMd,OAAO7G,EASF,SAAS8G,EAAyBzU,GAAsB,IAAhB0U,EAAgB,uDAAJ,GACrD/G,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,GAAG3N,EAAM,CACP,MAA8GA,EAAzG2U,YAAL,MAAY,UAAZ,EAAuBC,EAAuF5U,EAAvF4U,QAAQC,EAA+E7U,EAA/E6U,WAAYC,EAAmE9U,EAAnE8U,QAASC,EAA0D/U,EAA1D+U,SAAUC,EAAgDhV,EAAhDgV,WAAWC,EAAqCjV,EAArCiV,KAAKC,EAAgClV,EAAhCkV,OAAQC,EAAwBnV,EAAxBmV,aAAcC,EAAUpV,EAAVoV,MAChGC,EAAe,CAACT,EAASC,EAAYC,EAASC,EAAUC,EAAYC,EAAMC,EAAQC,GAAcvU,QAAO,SAAA0U,GAAI,OAC5GA,GAAiB,IAATA,KAEgB,IAAxBD,EAAa7V,SACdmO,GAAU,eAAJ,OAAmBgH,GAAQ,IAA3B,YAAkCC,GAAWC,GAAc,EAA3D,cAAkEC,GAAWC,GAAY,EAAzF,cAAgGC,GAAcC,GAAQ,EAAtH,cAA6HE,GAAgBD,GAAU,EAAvJ,cAA8JE,EAA9J,YAAuKV,EAAvK,OAGV,OAAO/G,EAQF,SAAS4H,EAA6BvV,GAC3C,GAAIA,EAAM,CACR,IAAQiV,EAAwDjV,EAAxDiV,KAAMO,EAAkDxV,EAAlDwV,eAAgBX,EAAkC7U,EAAlC6U,WAAqBE,GAAa/U,EAAtByV,QAAsBzV,EAAb+U,UAEnD,6BAAuBF,EAAvB,cAAuCE,EAAvC,cAAqDE,EAArD,cAA+DO,EAA/D,MAGF,MAAO,GASF,SAASE,EAAkC1V,EAAM2V,GAEtD,GAAI/T,EAAEwB,QAAQpD,GACZ,MAFW,GAKb,GAAIA,EAAM,CACR,IAAMwV,EAAmBxV,EAAnBwV,eAEN,YAAoB7O,IAAhBgP,EACF,YAAYA,EAAZ,+BAA8CH,EAA9C,OAGF,4BAA4BA,EAA5B,MAGF,MAfa,GAuBR,SAASI,EAAkC5V,GAGhD,GAAI4B,EAAEwB,QAAQpD,IAAsB,OAAbA,EAAK6V,IAC1B,MAHW,GAMb,IAAQA,EAAQ7V,EAAR6V,IAER,OAAGA,EACD,iCAAiCA,EAAjC,QAEO,GAUJ,SAASC,EAA0B9V,GAExC,GAAI4B,EAAEwB,QAAQpD,GACZ,MAFW,GAKb,MAOIA,EANFiV,YADF,MACS,IADT,IAOIjV,EALF+V,kBAFF,MAEe,MAFf,IAOI/V,EAJFgW,gBAHF,MAGa,MAHb,IAOIhW,EAHFiW,WAJF,MAIQ,IAJR,EAKEC,EAEElW,EAFFkW,SACAC,EACEnW,EADFmW,WAGF,6BAAuBlB,EAAvB,0BAA6Cc,EAA7C,uBAAsEC,EAAtE,uBAA6FE,GAC3FC,GACA,MAFF,yBAEwBF,EAFxB,UAcK,SAASG,EAAqBlL,EAAOkJ,GAAiC,IAAlBM,EAAkB,uDAAJ,GACvE,OAAIxJ,EAEF,UAAUkJ,EAAV,aAA4BlJ,EAAQwJ,EAApC,MAGK,GAYF,SAAS2B,EAAoBrW,EAAOoU,GAAiC,IAAlBM,EAAkB,uDAAJ,GAEtE,EADA1U,EAAOA,GAAQ,GACPoV,EAAR,EAAQA,MAER,OAAIA,EACF,UAAUhB,EAAV,aAA4BgB,EAAQV,EAApC,MAGK,GAUF,SAAS4B,EAA6BtW,GAC3C,IAAQuW,EAAwBvW,EAAxBuW,oBAER,OAAIA,EACF,4BAA4BA,EAA5B,MAGK,GASF,SAASC,IAA2B,IAAXxW,EAAW,uDAAJ,GACjC2N,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,IAAQ8I,EAAezW,EAAfyW,KAAMjC,EAASxU,EAATwU,KAId,MAFS,eAAH,OAAkBiC,EAAOjC,EAAzB,MAWD,SAASkC,IAA0B,IAAX1W,EAAW,uDAAJ,GAChC2N,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,IAAQ8I,EAAezW,EAAfyW,KAAMjC,EAASxU,EAATwU,KAId,MAFS,UAAH,OAAaiC,EAAOjC,EAApB,qBAAqCiC,EAAOjC,EAA5C,MAaD,SAASmC,IAAgC,IAArB3W,EAAqB,uDAAd,GAAI4W,EAAU,uCAC1CjJ,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,SAAuB2G,IAAd3G,EAAKyW,KAC1B,OAAO9I,EAGT,IAAQ8I,EAAezW,EAAfyW,KAAMjC,EAASxU,EAATwU,KAEd,MACe,wBAAboC,GACa,uBAAbA,GACa,qBAAbA,EAEAjJ,EAAS,GAAH,OAAMiJ,EAAN,aAAmBH,EAAnB,QAKLA,IACD9I,EAAS,GAAH,OAAMiJ,EAAN,aAAmBH,GAAQjC,GAAQ,IAAnC,OAGD7G,GASF,SAASkJ,IAA4B,IAAX7W,EAAW,uDAAJ,GAClC2N,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,SAAuB2G,IAAd3G,EAAKyW,KAC1B,OAAO9I,EAGT,IAAQ8I,EAAezW,EAAfyW,KAAMjC,EAASxU,EAATwU,KAId,MAFS,eAAH,OAAkBiC,EAAOjC,EAAzB,UAWD,SAASsC,IAA2B,IAAX9W,EAAW,uDAAJ,GACjC2N,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,IAAS+W,MAAM/W,EAAKyW,QAAUzW,EAAKyW,KAC/C,OAAO9I,EAGT,IAAQ8I,EAAezW,EAAfyW,KAAMjC,EAASxU,EAATwU,KAId,MAFS,cAAH,OAAiBxU,EAAKgX,SAAtB,YAAkCP,EAAOjC,EAAzC,OAWD,SAASyC,IAAiC,IAAXjX,EAAW,uDAAJ,GACvC2N,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,IAAS+W,MAAM/W,EAAKyW,QAAUzW,EAAKyW,KAC/C,OAAO9I,EAGT,IAAQ8I,EAASzW,EAATyW,KAIR,MAFS,qBAAH,OAAwBA,EAAxB,UAWD,SAASS,EAAchM,GAC5B,OAAIA,EACF,mBAAmBA,EAAMuL,KAAzB,MACY,GAQT,SAASU,IAAyC,IAAXnX,EAAW,uDAAJ,GAC/C2N,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,IACEyJ,EAUEpX,EAVFoX,OACAX,EASEzW,EATFyW,KACAY,EAQErX,EARFqX,WACAC,EAOEtX,EAPFsX,QACApM,EAMElL,EANFkL,MACAqM,EAKEvX,EALFuX,UACAC,EAIExX,EAJFwX,OACAC,EAGEzX,EAHFyX,WACAC,EAEE1X,EAFF0X,SACAC,EACE3X,EADF2X,eA6BF,OA1BIF,IACF9J,GAAU,oBAAJ,OAAwB8J,EAAxB,OAEJF,IACF5J,GAAU,mBAAJ,OAAuB4J,EAAvB,OAEJD,IACF3J,GAAU,mBAAJ,OAAuB2J,EAAvB,SAEJD,IACF1J,GAAU,gBAAJ,OACJgK,EAAiBN,EAAaM,EAAiBN,EAD3C,OAIJG,IACF7J,GAAU,gBAAJ,OAAoB6J,EAApB,OAEJtM,IACFyC,GAAU,eAAJ,OAAmBzC,EAAnB,OAEJuL,IACF9I,GAAU,cAAJ,OAAkB8I,EAAOA,GAAQiB,GAAY,MAAQ,GAArD,OAEH9V,EAAEwB,QAAQgU,KACbzJ,GAAU,gBAAJ,OAAoByJ,EAApB,OAEDzJ,EAUF,SAASiK,EAAYC,EAAY3M,GACtC,OAAI2M,GACEA,EAAWzC,MACb,UAAUlK,EAAV,aAAoB2M,EAAWzC,MAA/B,KAEU,GAQT,SAAS0C,EAAkBD,GAChC,OAAIA,GACEA,EAAWzC,MACb,UAAUyC,EAAWzC,OAEX,GAUT,SAAS2C,IAA+C,IAA7B/X,EAA6B,uDAAtB,GAAI0U,EAAkB,uDAAJ,GACrD/G,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,IAAQ4G,EAA0CvU,EAA1CuU,OAAQF,EAAkCrU,EAAlCqU,KAAMC,EAA4BtU,EAA5BsU,MAAO/T,EAAqBP,EAArBO,IAA7B,EAAkDP,EAAhBwU,YAAlC,MAAyC,KAAzC,EAkBA,OAhBIjU,GAAe,KAARA,IACToN,GAAU,qBAAJ,OAAyBpN,EAAMiU,EAAOE,EAAtC,OAGJJ,GAAmB,KAAVA,IACX3G,GAAU,uBAAJ,OAA2B2G,EAAQE,EAAOE,EAA1C,OAGJH,GAAqB,KAAXA,IACZ5G,GAAU,wBAAJ,OAA4B4G,EAASC,EAAOE,EAA5C,OAGJL,GAAiB,KAATA,IACV1G,GAAU,sBAAJ,OAA0B0G,EAAOG,EAAOE,EAAxC,OAGD/G,EAUF,SAASqK,IAAyC,IAArBhY,EAAqB,uDAAd,GAAIiY,EAAU,uCACnDtK,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,IAAQpN,EAAoBP,EAApBO,IAAK8T,EAAerU,EAAfqU,KAAMG,EAASxU,EAATwU,KAUnB,OARIjU,GAAe,KAARA,GAA2B,QAAb0X,IACvBtK,GAAU,gBAAJ,OAAoBpN,EAAMiU,EAA1B,OAGJjU,GAAe,KAARA,GAA2B,SAAb0X,IACvBtK,GAAU,iBAAJ,OAAqB0G,EAAOG,EAA5B,OAGD7G,EASD,SAASuK,IAA6C,IAA1BlY,EAA0B,uDAAnB,GAAG0U,EAAgB,uDAAJ,GACpD/G,EAAS,GAEb,GAAI/L,EAAEwB,QAAQpD,GACZ,OAAO2N,EAGT,IAAQ8I,EAAezW,EAAfyW,KAAMjC,EAASxU,EAATwU,KAId,MAFS,kBAAH,OAAqBiC,EAAOjC,EAAOE,EAAnC,MAYA,SAASyD,EAAiBN,EAAY3M,GAAuB,IAAhBkN,EAAgB,uDAAJ,GAC/D,GAAIP,EAAY,CACd,IAAMrD,EAAOqD,EAAWrD,MAAQ,KAC1BH,EAAOwD,EAAWxD,KAClBC,EAAQuD,EAAWvD,MACnBC,EAASsD,EAAWtD,OACpBhU,EAAMsX,EAAWtX,IAEnBoN,EAAS,GAEb,GAAGkK,EAAWxD,KACZ,OAAQnJ,GACN,IAAK,UACHyC,GAAU,iBAAJ,OAAqB0G,EAAOG,EAAO4D,EAAnC,KACN,MACF,IAAK,SACHzK,GAAU,gBAAJ,OAAoB0G,EAAOG,EAAO4D,EAAlC,KACN,MACF,IAAK,gBACHzK,GAAU,+BAAJ,OAAmC0G,EAAOG,EAAO4D,EAAjD,KACN,MACF,IAAK,eACHzK,GAAU,sBAAJ,OAA0B0G,EAAOG,EAAO4D,EAAxC,KAIZ,GAAGP,EAAWvD,MACZ,OAAQpJ,GACN,IAAK,UACHyC,GAAU,kBAAJ,OAAsB2G,EAAQE,EAAO4D,EAArC,KACN,MACF,IAAK,SACHzK,GAAU,iBAAJ,OAAqB2G,EAAQE,EAAO4D,EAApC,KACN,MACF,IAAK,gBACHzK,GAAU,4BAAJ,OAAgC2G,EAAQE,EAAO4D,EAA/C,KACN,MACF,IAAK,eACHzK,GAAU,uBAAJ,OAA2B2G,EAAQE,EAAO4D,EAA1C,KAIZ,GAAGP,EAAWtX,IACZ,OAAQ2K,GACN,IAAK,UACHyC,GAAU,gBAAJ,OAAoBpN,EAAMiU,EAAO4D,EAAjC,KACN,MACF,IAAK,SACHzK,GAAU,eAAJ,OAAmBpN,EAAMiU,EAAO4D,EAAhC,KACN,MACF,IAAK,gBACHzK,GAAU,2BAAJ,OAA+BpN,EAAMiU,EAAO4D,EAA5C,KACN,MACF,IAAK,eACHzK,GAAU,qBAAJ,OAAyBpN,EAAMiU,EAAO4D,EAAtC,KAIZ,GAAGP,EAAWtD,OACZ,OAAQrJ,GACN,IAAK,UACHyC,GAAU,mBAAJ,OAAuB4G,EAASC,EAAO4D,EAAvC,KACN,MACF,IAAK,SACHzK,GAAU,kBAAJ,OAAsB4G,EAASC,EAAO4D,EAAtC,KACN,MACF,IAAK,gBACHzK,GAAU,8BAAJ,OAAkC4G,EAASC,EAAO4D,EAAlD,KACN,MACF,IAAK,eACHzK,GAAU,wBAAJ,OAA4B4G,EAASC,EAAO4D,EAA5C,KAIZ,OAAOzK,EAEP,MAAO,GASJ,SAAS0K,EAAeR,GAC7B,OAAIA,GAAcA,EAAWS,eAC3B,4BAA4BT,EAAWzT,MAAvC,KAEO,GASJ,SAASmU,EAAcV,GAC5B,OAAIA,GAGK,GASJ,SAASW,EAAaX,GAC3B,GAAIA,EAAY,CACd,GAAIA,EAAWpB,KAAM,CACnB,IAAMjC,EAAOqD,EAAWrD,MAAQ,KAChC,OAAOqD,EAAWpB,KAAOjC,EACpB,MAAO,GACT,MAAO,GAST,SAASiE,IAA8C,IAAjCZ,EAAiC,uDAApB,GAAIO,EAAgB,uDAAJ,GACxD,GAAIP,EAAY,CACd,IAAMlD,EAAOkD,EAAWlD,MAAQ,GAC1BE,EAAagD,EAAWhD,YAAc,EACtCE,EAAW8C,EAAW9C,UAAY,EAClCE,EAAO4C,EAAW5C,MAAQ,EAC1BC,EAAS2C,EAAW3C,QAAU,EAC9BE,EAAQyC,EAAWzC,OAAS,GAElC,OAAkB,IAAfP,GAAiC,IAAbE,GAA2B,IAATE,GAAyB,IAAXC,EACrD,sBAAsBP,EAAtB,YAA8BE,EAA9B,cAA8CE,EAA9C,cAA4DE,EAA5D,cAAsEC,EAAtE,cAAkFE,EAAlF,YAA2FgD,EAA3F,KACY,GACT,MAAO,GAUT,SAASM,IAAkD,IAAjCb,EAAiC,uDAApB,GAAIO,EAAgB,uDAAJ,GAC5D,GAAIP,EAAY,CACd,IAAMhD,EAAagD,EAAWhD,YAAc,EACtCE,EAAW8C,EAAW9C,UAAY,EAClCE,EAAO4C,EAAW5C,MAAQ,EAC1BG,EAAQyC,EAAWzC,OAAS,GAClC,OAAIP,GAAcE,GAAYE,GAAQG,EACpC,uBAAuBP,EAAvB,cAAuCE,EAAvC,cAAqDE,EAArD,cAA+DG,EAA/D,YAAwEgD,EAAxE,KAEO,GAGT,MAAO,GASJ,SAASO,IACd,MACE,GAWG,SAASC,IAA6B,IAAjBf,EAAiB,uDAAJ,GACvC,OAAIA,WAAYhC,IACd,iCAAiCgC,EAAWhC,IAA5C,OAEO,GAWJ,SAASgD,EAAalL,EAAQM,GAAoB,IAAV6K,EAAU,uDAAJ,GAC/CC,EAAe,GA+EnB,OA9E+B,IAA5BnX,EAAEoX,KAAK/K,GAAUzO,QAClBmO,EAAOlN,SAAQ,SAACyK,EAAOb,GACrB,GAAGzI,EAAEyP,SAASnG,GACZ,GAAa,MAAVA,EACD,GAA0B,MAAvBA,EAAM+N,MAAM,IAAI,IAAqC,MAAvB/N,EAAM+N,MAAM,IAAI,GAC/CF,GAAgB,GAAJ,OAAO7N,EAAP,WACP,GAA0B,MAAvBA,EAAM+N,MAAM,IAAI,GAAY,CACpC,IAAIC,EAAchO,EAAM+N,MAAM,IAC9BC,EAAYC,QACZJ,GAAgB,GAAJ,OAAOnX,EAAEjC,KAAKuZ,EAAa,IAA3B,UAEZH,GAAgB,MAAJ,OAAU7N,EAAV,UAGd6N,GAAgB,QAEb,CACL,GAAInX,EAAEwX,QAAQlO,GAAQ,CACpB,IAAImO,EAAcnO,EAAM,GAErB4N,EAAMQ,iBACPD,EAAcP,EAAMQ,eAAiBD,GAGvC,IAAM/X,EAAQ4J,EAAM,IAAM,GACpBqO,GAAWnI,0BACfnD,EACAoL,EACA/X,GAEF,OAAQ4J,EAAM,IACZ,IAAK,aACH6N,GAAgBZ,EAAiBoB,EAAUrO,EAAM,IACjD,MACF,IAAK,QACH6N,GAAgBnB,EAAY2B,EAAUrO,EAAM,IAC5C,MACF,IAAK,WACH6N,GAAgBV,EAAekB,GAC/B,MACF,IAAK,cACHR,GAAgB5B,EAA8BoC,GAC9C,MACF,IAAK,SACAf,EAAae,KACdR,GAAgB,GAAJ,OAAO7N,EAAM,GAAb,YAAmBsN,EAAae,GAAhC,MAEd,MACF,IAAK,SACHR,GAAgBN,EAAac,GAC7B,MACF,IAAK,cACHR,GAAgBL,EAAiBa,GACjC,MACF,IAAK,QACHR,GAAgBH,EAAYW,GAC5B,MACF,IAAK,gBACHR,GAtFV,GAuFU,MACF,QACMR,EAAcgB,KAChBR,GAAgB,GAAJ,OAAO7N,EAAM,GAAb,YAAmBqN,EAC7BgB,GADU,OAOhB3X,EAAE4X,WAAWtO,IACZA,MACD6N,GAAgB7N,SAOnB6N","file":"FrontApp.0a17e1421694df4b59b8.bundle.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport FrontPopup from \"./FrontPopup\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass AreaComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // console.log(\"AreaComponent: \", performance.now());\r\n    props.area.component = this;\r\n  }\r\n  componentWillUnmount() {\r\n    /**\r\n     * Перенесем все секции для ленивой подгрузки в хранилище страниц (текущая стрнаца)\r\n     */\r\n    // if( _.isArray(window.lazySections)){\r\n    //   if(window.pageStorage.hasOwnProperty(page_id) ){\r\n    //     let page = window.pageStorage[page_id];\r\n    //\r\n    //     window.lazySections.forEach(section => {\r\n    //       let area = page.areas.find(area => area.id === section.area_name);\r\n    //       if(area){\r\n    //         section.element.lazySection = true;\r\n    //         area.template.data.children.push(section.element)\r\n    //       }\r\n    //     });\r\n    //   }\r\n    //   window.lazySections = null;\r\n    // }\r\n\r\n    if (window.pageUpdater) {\r\n      window.pageUpdater.startUpdating();\r\n    }\r\n    window.stylesModule.removeStyleById(this.rootElement?.id);\r\n  }\r\n\r\n  render() {\r\n    let classes = [`app-area`, `app-area_${this.props.id}`];\r\n    /**\r\n     * Если это попап\r\n     */\r\n    if (\r\n      typeof this.props.area.getTemplates !== \"undefined\" &&\r\n      this.props.area.getTemplates().length\r\n    ) {\r\n      if(window.SSR){\r\n        return null\r\n      }\r\n      let popups = (\r\n        <div className={classes.join(\" \")}>\r\n          {this.props.area.getTemplates().map(template => {\r\n            return <FrontPopup key={template.id} template={template} />;\r\n          })}\r\n        </div>\r\n      );\r\n      return popups;\r\n    }\r\n    /**\r\n     * Если шаблон привязанный к странице удалили, то ничего не отрисовываем\r\n     */\r\n    if (! this.props?.template?.data) {\r\n      return <div className={classes.join(\" \")} />;\r\n    }\r\n    if(this.props.id === 'footer'){\r\n      this.props.template.data.lastElement = true;\r\n    }\r\n    let rootElement = this.rootElement\r\n      ? this.rootElement\r\n      : window.frontElementsFabric.parseData(\r\n          this.props.template.data,\r\n          null,\r\n          this.props.page,\r\n          this.props.models\r\n        );\r\n    this.rootElement = rootElement;\r\n    window[`${this.props.id}_root_element`] = this.rootElement;\r\n    if (this.props.scrollPosition.top > 0) {\r\n      this.rootElement.children.forEach(section => {\r\n        section.lazySection = false;\r\n      });\r\n    }\r\n    let { children } = this.rootElement;\r\n    children = children.filter(child => ! child.lazySection);\r\n\r\n    if(this.props.area.isCustomArea()){\r\n      classes = classes.concat(this.props.area.getAreaClasses())\r\n    }\r\n\r\n    return React.createElement('div', {\r\n      className:classes.join(\" \"),\r\n    }, React.createElement(this.rootElement.componentClass, {\r\n      element: this.rootElement,\r\n      children\r\n    }));\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    scrollPosition: state.scrollPosition\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AreaComponent);\r\n","/**\r\n * Загружает и хранит страницы с шаблонами\r\n * @class PageLoader\r\n */\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\n\r\nclass PageLoader {\r\n  constructor() {\r\n    this.resource = new Resource({\r\n      route: \"/ajax/pages\"\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {int} pageId\r\n   * @return {Promise}\r\n   */\r\n  async loadPage(pageId) {\r\n    if (_.isObject(window.pageStorage[pageId])) {\r\n      // return new Promise((resolve, reject)=>{\r\n      //   resolve(this.pagesStorage[pageId]);\r\n      // });\r\n      return window.pageStorage[pageId];\r\n    }\r\n    let page = await this.resource.get(pageId);\r\n    window.pageStorage[pageId] = page;\r\n    return page;\r\n  }\r\n}\r\n\r\nwindow.pageLoader = new PageLoader();\r\nexport default window.pageLoader;\r\n","import {\r\n  changeCurrentDataStorage,\r\n  clearCurrentDataStorage,\r\n  currentDataStorageLoaded, currentDataStorageLoading\r\n} from \"../../store/current-data-storage/actions\";\r\nimport {changeCurrentUser} from \"../../store/current-user/actions\";\r\nimport Datasource from \"../Datasource\";\r\nimport {getDataByPath} from \"../../helpers\";\r\nconst { Resource, isJSON, mbParseJSON, replaceContentWithData} = window.altrpHelpers;\r\n\r\n/**\r\n * @class DataStorageUpdater\r\n */\r\nclass DataStorageUpdater extends AltrpModel {\r\n\r\n  constructor(data) {\r\n    super(data);\r\n    this.setProperty('dataSourcesFormsDependent', []);\r\n    this.setProperty('formsStore', appStore.getState().formsStore);\r\n    appStore.subscribe(this.onStoreUpdate)\r\n  }\r\n\r\n  /**\r\n   *  обновление currentDataStorage\r\n   *  @param {Datasource[]} dataSources\r\n   *  @param {boolean} initialUpdate\r\n   */\r\n  async updateCurrent(dataSources = null, initialUpdate = true) {\r\n    dataSources = dataSources.map(ds => {\r\n      if(ds instanceof Datasource){\r\n        return ds;\r\n      }\r\n      return new Datasource(ds)\r\n    });\r\n    if(appStore.getState().currentUser.isEmpty()){\r\n      let currentUser = await new Resource({ route: \"/ajax/current-user\" }).getAll();\r\n      currentUser = currentUser.data;\r\n      appStore.dispatch(changeCurrentUser(currentUser));\r\n    }\r\n    if(!initialUpdate && !_.get(dataSources, 'length')){\r\n      dataSources = this.getProperty('currentDataSources');\r\n    }\r\n    if(! dataSources){\r\n      dataSources = [];\r\n    }\r\n    if(initialUpdate){\r\n      this.setProperty('currentDataSources', dataSources);\r\n      this.setProperty('updated', false);\r\n      dataSources = dataSources.filter(dataSource => dataSource.getProperty('autoload'));\r\n    }\r\n\r\n    /**\r\n     * Фильтруем проверяя на наличие обязательных параметров\r\n     */\r\n    dataSources = dataSources.filter(dataSource => {\r\n      let parameters = dataSource.getProperty('parameters');\r\n      if(! isJSON(parameters)){\r\n        return true;\r\n      }\r\n      parameters = mbParseJSON(parameters, []);\r\n      /**\r\n       * Находим хотя бы один обязательный параметр, который не имеет значения\r\n       */\r\n\r\n      return ! (parameters && parameters.find(param=>{\r\n        if (param.paramValue.toString().indexOf('altrpforms.') !== -1) {\r\n          let params = dataSource.getParams(window.currentRouterMatch.data.params, 'altrpforms.');\r\n\r\n          initialUpdate && this.subscribeToFormsUpdate(dataSource, params);\r\n        } else {\r\n          return false;\r\n        }\r\n        if(! param.required){\r\n          return false;\r\n        }\r\n        let value = param.paramValue || '';\r\n        if(value.indexOf('{{') !== -1){\r\n          value = replaceContentWithData(value);\r\n        }\r\n        return ! value;\r\n      }));\r\n    });\r\n    // dataSources = _.sortBy(dataSources, ['data.priority']);\r\n    /**\r\n     * @member {Datasource} dataSource\r\n     */\r\n    const groupedDataSources = {};\r\n    dataSources.forEach(dataSource => {\r\n      groupedDataSources[dataSource.getProperty('priority')] = groupedDataSources[dataSource.getProperty('priority')] || [];\r\n      groupedDataSources[dataSource.getProperty('priority')].push(dataSource);\r\n    });\r\n    initialUpdate && appStore.dispatch(currentDataStorageLoading());\r\n    for (let groupPriority in groupedDataSources){\r\n      if(! groupedDataSources.hasOwnProperty(groupPriority)){\r\n        continue;\r\n      }\r\n      initialUpdate && appStore.dispatch(currentDataStorageLoading());\r\n      let requests = groupedDataSources[groupPriority].map(async dataSource => {\r\n        if (dataSource.getWebUrl()) {\r\n          let params = dataSource.getParams(window.currentRouterMatch.params, 'altrpforms.');\r\n          let defaultParams = _.cloneDeep(params);\r\n          let needUpdateFromForms = false;\r\n          _.each(params, (paramValue, paramName) => {\r\n            if (paramValue.toString().indexOf('altrpforms.') === 0) {\r\n              params[paramName] = _.get(appStore.getState().formsStore, paramValue.toString().replace('altrpforms.', ''), '');\r\n              needUpdateFromForms = true;\r\n            }\r\n          });\r\n          /**\r\n           * Если нужно взять параметры из формы, то подписываемся на изменения полeй формы\r\n           * и сохраняем параметры, с которыми уже получили данные\r\n           */\r\n          if (needUpdateFromForms) {\r\n            initialUpdate && this.subscribeToFormsUpdate(dataSource, _.cloneDeep(defaultParams));\r\n          }\r\n          let res = {};\r\n          try {\r\n            const preloadedData = _.get(window.altrpPreloadedDatasources, dataSource.getAlias());\r\n            if(preloadedData){\r\n              res = preloadedData;\r\n              _.unset(window.altrpPreloadedDatasources, dataSource.getAlias());\r\n            } else\r\n              if (dataSource.getType() === 'show') {\r\n              let id = _.get(params, 'id', _.get(this.props, 'match.params.id'));\r\n              if (id) {\r\n                res = await (new Resource({ route: dataSource.getWebUrl() })).get(id);\r\n              }\r\n            } else if (!_.isEmpty(params)) {\r\n              res = await (new Resource({ route: dataSource.getWebUrl() })).getQueried(params);\r\n              dataSource.params = _.cloneDeep(params);\r\n            } else {\r\n              res = await (new Resource({ route: dataSource.getWebUrl() })).getAll();\r\n            }\r\n          } catch (err) {\r\n            if(err instanceof Promise){\r\n              err = await err.then();\r\n            }\r\n            console.error(err);\r\n          }\r\n          res = _.get(res, 'data', res);\r\n          dataSources = dataSources.filter(ds => ds !== dataSource);\r\n          if(! dataSources.length){\r\n            this.setProperty('updated', true);\r\n          }\r\n          appStore.dispatch(changeCurrentDataStorage(dataSource.getAlias(), res));\r\n          return res;\r\n        }\r\n      });\r\n      console.log('Update Datasource Start: ',performance.now());\r\n      let responses = await Promise.all(requests);\r\n      console.log('Update Datasource End: ',performance.now());\r\n      initialUpdate && appStore.dispatch(currentDataStorageLoaded());\r\n    }\r\n    if(_.isEmpty(groupedDataSources)){\r\n      this.setProperty('updated', true);\r\n    }\r\n    if(! dataSources.length){\r\n      appStore.dispatch(currentDataStorageLoaded());\r\n    }\r\n\r\n  }\r\n  /**\r\n   * Обнуляем текущее хранилище dataStorage\r\n   */\r\n  clearCurrent() {\r\n    this.unsetProperty('currentDataSources');\r\n    this.setProperty('dataSourcesFormsDependent', []);\r\n    appStore.dispatch(clearCurrentDataStorage())\r\n  }\r\n  /**\r\n    * подписывает какой либо источник данных на обновление от формы\r\n   * @param {Datasource} dataSource\r\n   * @param {{}} params\r\n   */\r\n  subscribeToFormsUpdate(dataSource, params) {\r\n    let dataSources = this.getProperty('dataSourcesFormsDependent');\r\n    // if(dataSources.indexOf(dataSource) === -1){\r\n    //   dataSources.push(dataSource);\r\n    // }\r\n    if (_.findIndex(dataSources, ds => {\r\n      return ds.dataSource === dataSource;\r\n    }) === -1) {\r\n      dataSources.push({\r\n        dataSource,\r\n        params\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Вызывается, когда обновляется redux-хранилище\r\n   */\r\n  onStoreUpdate = async () => {\r\n    /**\r\n     * Проверяем обновились ли формы\r\n     * @type {formsStore}\r\n     */\r\n    let formsStore = appStore.getState().formsStore;\r\n    if (! _.isEqual(this.getProperty('formsStore'), formsStore) && this.getProperty('updated')) {\r\n      this.setProperty('formsStore', formsStore);\r\n      await this.onFormsUpdate();\r\n    }\r\n  };\r\n  /**\r\n   * Вызывается, когда обновляется поле формы для того,\r\n   * чтобы сделать новый запрос по тем dataSource,\r\n   * которые зависят от полей формы\r\n   */\r\n  async onFormsUpdate() {\r\n    let dataSources = this.getProperty('dataSourcesFormsDependent', []);\r\n\r\n    /**\r\n     * Фильтруем, проверяя на наличие обязательных параметров\r\n     */\r\n    dataSources = dataSources.filter(ds => {\r\n      const {dataSource} = ds;\r\n      let parameters = dataSource.getProperty('parameters');\r\n      if(! isJSON(parameters)){\r\n        return true;\r\n      }\r\n      parameters = mbParseJSON(parameters, []);\r\n      /**\r\n       * Находим хотя бы один обзяательный параметр, который имеет пустое значения\r\n       */\r\n      return ! parameters.find(param=>{\r\n        if(! param.required){\r\n          return false;\r\n        }\r\n        let value = param.paramValue || '';\r\n        if(value.indexOf('{{') !== -1){\r\n          value = replaceContentWithData(value);\r\n        }\r\n        return ! value;\r\n      });\r\n    });\r\n    dataSources = _.sortBy(dataSources, data_source => data_source.priority);\r\n    let formsStore = appStore.getState().formsStore;\r\n    for (let ds of dataSources) {\r\n      let { dataSource, updating } = ds;\r\n      let oldParams = _.cloneDeep(dataSource.params);\r\n      /**\r\n       * @member {Datasource} dataSource\r\n       */\r\n      let params = dataSource.getParams(window.currentRouterMatch.params, 'altrpforms.');\r\n      _.forEach(params, (paramValue, paramName) => {\r\n        if (paramValue.toString().indexOf('altrpforms.') === 0) {\r\n          params[paramName] = _.get(formsStore, paramValue.replace('altrpforms.', ''));\r\n          // if(_.isArray(params[paramName])){\r\n          //   params[paramName] = JSON.stringify(params[paramName]);\r\n          // }\r\n        }\r\n      });\r\n      if(updating){\r\n        // console.error(params);\r\n        // console.error(ds);\r\n      }\r\n      if (! _.isEqual(params, oldParams) && ! updating) {\r\n        dataSource.params = _.cloneDeep(params);\r\n        ds.updating = true;\r\n        let res = {};\r\n        try{\r\n          res = await (new Resource({ route: dataSource.getWebUrl() })).getQueried(params);\r\n          res = _.get(res, 'data', res);\r\n          appStore.dispatch(changeCurrentDataStorage(dataSource.getAlias(), res));\r\n        } catch (err) {\r\n          if(err instanceof Promise){\r\n            err = await err.then();\r\n            err = mbParseJSON(err);\r\n          }\r\n          console.error(err);\r\n        } finally {\r\n          /**\r\n           * В случае, если во время запроса возникла необходимость обновления с новыми параметрами,\r\n           * сделаем новый запрос\r\n           */\r\n          if((ds.pendingParameters !== undefined) && ! _.isEqual(ds.pendingParameters, params)){\r\n            try{\r\n              res = await (new Resource({ route: dataSource.getWebUrl() })).getQueried(ds.pendingParameters);\r\n              res = _.get(res, 'data', res);\r\n              appStore.dispatch(changeCurrentDataStorage(dataSource.getAlias(), res));\r\n              dataSource.params = _.cloneDeep(ds.pendingParameters);\r\n            } catch (err) {\r\n              if(err instanceof Promise){\r\n                err = await err.then();\r\n                err = mbParseJSON(err);\r\n              }\r\n              console.error(err);\r\n            } finally {\r\n              _.unset(ds, 'pendingParameters');\r\n            }\r\n          }\r\n          ds.updating = false;\r\n        }\r\n        /**\r\n         * В случае, если во время запроса возникла необходимость обновления с новыми параметрами,\r\n         * сохраним эти параметры\r\n         */\r\n      } else if((! _.isEqual(params, oldParams)) && updating){\r\n        ds.pendingParameters = _.cloneDeep(params);\r\n      }\r\n    }\r\n  }\r\n}\r\nwindow.dataStorageUpdater = window.dataStorageUpdater || new DataStorageUpdater();\r\nexport default window.dataStorageUpdater\r\n","import {setAreas} from \"../store/areas/actions\";\r\n\r\nif (typeof window === \"undefined\") {\r\n  global.window = {};\r\n  global.window.ssr = true;\r\n}\r\nif (typeof document === \"undefined\") {\r\n  global.document = {};\r\n}\r\nimport AreaComponent from \"./AreaComponent\";\r\nconst AdminBar = React.lazy(() => import(/* webpackChunkName: 'AdminBar' */\"./AdminBar\"));\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport pageLoader from \"./../classes/PageLoader\";\r\nimport Area from \"../classes/Area\";\r\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\r\nimport appStore from \"../store/store\";\r\nimport { changeCurrentModel } from \"../store/current-model/actions\";\r\nimport { queryCache } from \"react-query\";\r\nimport { connect } from \"react-redux\";\r\nimport AltrpModel from \"../../../../editor/src/js/classes/AltrpModel\";\r\nimport dataStorageUpdater from \"../classes/modules/DatastorageUpdater\";\r\nimport { clearElements } from \"../store/elements-storage/actions\";\r\nimport { clearAllResponseData } from \"../store/responses-storage/actions\";\r\nimport { clearPageState } from \"../store/altrp-page-state-storage/actions\";\r\nimport { changeCurrentTitle } from \"../store/current-title/actions\";\r\nimport { changeCurrentPageProperty } from \"../store/current-page/actions\";\r\n\r\nclass RouteContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let title = this.props.title;\r\n    appStore.dispatch(changeCurrentTitle(title));\r\n    this.state = {\r\n      areas:\r\n        window.ssr === true\r\n          ? this.props.areas.map(area => Area.areaFactory(area))\r\n          : this.props.areas || [],\r\n      admin: this.props.currentUser.hasRoles(\"admin\")\r\n    };\r\n    this.scrollbar = React.createRef();\r\n    this.isReport = window.location?.href.includes(\"reports\") || false;\r\n    appStore.dispatch(clearElements());\r\n    window.currentRouterMatch = new AltrpModel(props.match);\r\n    window.currentPageId = props.id;\r\n    window.currentRouteComponent = this;\r\n    window.altrpHistory = this.props.history;\r\n    console.log('Route constructor: ', performance.now());\r\n    this.updateAppData();\r\n  }\r\n\r\n  async componentWillReceiveProps(nextProps) {\r\n    queryCache.clear();\r\n    if (\r\n      _.get(this.props, \"model.modelName\") !==\r\n      _.get(nextProps, \"model.modelName\") ||\r\n      _.get(this.props, \"match.params.id\") !==\r\n      _.get(nextProps, \"match.params.id\")\r\n    ) {\r\n      await this.changeRouteCurrentModel(nextProps);\r\n      appStore.dispatch(changeCurrentPageProperty(\"url\", location.href));\r\n    }\r\n    /**\r\n     * При изменении страницы без изменения текущего роута\r\n     * отправляем запросы на обновление данных и altrpPageState\r\n     */\r\n    if (\r\n      !_.isEqual(\r\n        _.get(this.props, \"match.params\"),\r\n        _.get(nextProps, \"match.params\")\r\n      )\r\n    ) {\r\n      this.updateAppData();\r\n    }\r\n    this.setState(state => ({\r\n      ...state,\r\n      admin: nextProps.currentUser.hasRoles(\"admin\")\r\n    }));\r\n  }\r\n  /**\r\n   * Меняем заголовок страницы\r\n   * лениво подгружаем области, если необходимо и страница доступна к просмотру\r\n   * главный скролбар сохраняем в глобальной области видимости\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidMount() {\r\n    window.mainScrollbars = this.scrollbar.current;\r\n\r\n    /**\r\n     * Запускаем обновление списка страниц\r\n     */\r\n    appStore.dispatch(changeCurrentPageProperty(\"url\", location.href));\r\n    if (this.props.lazy && this.props.allowed) {\r\n      let page = await pageLoader.loadPage(this.props.id);\r\n      let areas = page.areas.map(area => Area.areaFactory(area));\r\n      appStore.dispatch(setAreas(areas))\r\n      this.setState(state => ({\r\n        ...state,\r\n        areas\r\n      }));\r\n    }\r\n\r\n    /**\r\n     * Меняем текущую модель\r\n     */\r\n    this.changeRouteCurrentModel();\r\n    /**\r\n     * Обнуляем хранилище ответов на отправленные формы\r\n     */\r\n    appStore.dispatch(clearAllResponseData());\r\n    /**\r\n     * затем отправляем запросы на обновление данных и altrpPageState\r\n     */\r\n    window.formsManager.clearFieldsStorage();\r\n    console.log('Route Mounted: ', performance.now());\r\n    const renderEvent = new Event('render-altrp');\r\n    window.dispatchEvent(renderEvent);\r\n\r\n  }\r\n\r\n  /**\r\n   * Очистим currentDataSource после удаления компонента\r\n   * todo: отключили очищение так как componentWillUnmount вызывается после загрузки другого RouteContent\r\n   */\r\n  componentWillUnmount() {\r\n    // dataStorageUpdater.clearCurrent();\r\n  }\r\n  /**\r\n   *  обновление currentDataStorage\r\n   *  Сброс altrpPageState\r\n   */\r\n  async updateAppData() {\r\n    dataStorageUpdater.clearCurrent();\r\n    if (window.formsManager) {\r\n      formsManager.clearFormsStore();\r\n    }\r\n    /**\r\n     * @member {array} data_sources\r\n     */\r\n    let { data_sources } = this.props;\r\n    dataStorageUpdater.updateCurrent(data_sources);\r\n    appStore.dispatch(clearPageState());\r\n  }\r\n  /**\r\n   * Меняем текущую модель\r\n   */\r\n  async changeRouteCurrentModel(nextProps) {\r\n    if (\r\n      _.get(this.props, \"model.modelName\") &&\r\n      _.get(this.props, \"match.params.id\")\r\n    ) {\r\n      let props = nextProps ? nextProps : this.props\r\n      try {\r\n        let model = await new Resource({\r\n          route: `/ajax/models/${props.model.modelName}`\r\n        }).get(props.match.params.id);\r\n        let oldModel = appStore.getState().currentModel.getData();\r\n        model.altrpModelUpdated = true;\r\n        if(! _.isEqual(model, oldModel)){\r\n          appStore.dispatch(changeCurrentModel({ altrpModelUpdated: false }));\r\n          appStore.dispatch(changeCurrentModel(model));\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n        appStore.dispatch(changeCurrentModel({ altrpModelUpdated: true }));\r\n      }\r\n    } else {\r\n      appStore.dispatch(changeCurrentModel({ altrpModelUpdated: true }));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Если меняется роут\r\n   * @params {{}} prevProps\r\n   * @return {Promise<void>}\r\n   */\r\n  async componentDidUpdate(prevProps) {\r\n\r\n    if (!_.isEqual(_.get(this.props, \"match\"), _.get(prevProps, \"match\"))) {\r\n      window.currentRouterMatch = new AltrpModel(this.props.match);\r\n      // appStore.dispatch(clearFormStorage());\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.allowed) {\r\n      return <Redirect to={this.props.redirect || \"/\"} />;\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <Suspense fallback={<div />}>\r\n          {this.state.admin && (\r\n            <AdminBar\r\n              areas={this.state.areas}\r\n              data={this.props.currentUser.data}\r\n              idPage={this.props.id}\r\n            />\r\n          )}{\" \"}\r\n        </Suspense>\r\n\r\n        {/*<Scrollbars*/}\r\n        {/*  className=\"main-content\"*/}\r\n        {/*  universal={true}*/}\r\n        {/*  ref={this.scrollbar}*/}\r\n        {/*  onUpdate={this.props.setScrollValue}*/}\r\n        {/*  // style={{ zIndex: 99999 }}*/}\r\n        {/*  autoHide*/}\r\n        {/*  autoHideTimeout={500}*/}\r\n        {/*  autoHideDuration={200}*/}\r\n        {/*  renderTrackVertical={({ style, ...props }) => {*/}\r\n        {/*    return (*/}\r\n        {/*      <div*/}\r\n        {/*        className=\"altrp-scroll__vertical-track\"*/}\r\n        {/*        style={style}*/}\r\n        {/*        {...props}*/}\r\n        {/*      />*/}\r\n        {/*    );*/}\r\n        {/*  }}*/}\r\n        {/*>*/}\r\n          <div className=\"route-content\" id=\"route-content\">\r\n            {this.state.areas.map((area, idx) => {\r\n              return (\r\n                <AreaComponent\r\n                  {...area}\r\n                  area={area}\r\n                  areas={this.state.areas}\r\n                  page={this.props.id}\r\n                  models={[this.props.model]}\r\n                  key={\"appArea_\" + area.id}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        {/*</Scrollbars>*/}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  currentUser: state.currentUser\r\n});\r\n//\r\n// const mapDispatchToProps = dispatch => {\r\n//   return {\r\n//     setScrollValue: topPosition => dispatch(setScrollValue(topPosition))\r\n//   };\r\n// };\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  // mapDispatchToProps\r\n)(withRouter(RouteContent));\r\n","\r\n\r\nclass EmailTemplatesRenderer extends window.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      baseEmailRender: window.baseEmailRender\r\n    };\r\n    this.emailTemplate = React.createRef();\r\n    window.emailTemplatesRenderer = this;\r\n  }\r\n\r\n\r\n  /**\r\n   *\r\n   * @return {*}\r\n   */\r\n  render() {\r\n    if (! this.props.currentEmailTemplate || ! this.state.baseEmailRender) {\r\n      return null\r\n    }\r\n    let rootElement = window.altrpHelpers.mbParseJSON(this.props.currentEmailTemplate.data);\r\n    rootElement = window.frontElementsFabric.parseData(rootElement);\r\n    rootElement.templateType = 'email';\r\n    let content = React.createElement(rootElement.componentClass, {\r\n      element: rootElement,\r\n      children: rootElement.children,\r\n      baseRender: this.state.baseEmailRender,\r\n    });\r\n    const wrapperStyles = {\r\n      width: '100%',\r\n      display: 'none',\r\n    };\r\n    return <table id=\"altrp-email-renderer\"\r\n                  style={wrapperStyles}\r\n                  ref={this.emailTemplate}>\r\n        <tbody>\r\n        <tr>\r\n          <td>\r\n            {content}\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param state\r\n * @return {{altrpresponses: *, formsStore: *, currentDataStorage: *, currentModel: *, currentUser: *, altrpMeta: *, altrpPageState: *, currentEmailTemplate: currentEmailTemplate}}\r\n */\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    altrpresponses: state.altrpresponses,\r\n    formsStore: state.formsStore,\r\n    currentDataStorage: state.currentDataStorage,\r\n    currentModel: state.currentModel,\r\n    currentUser: state.currentUser,\r\n    altrpMeta: state.altrpMeta,\r\n    altrpPageState: state.altrpPageState,\r\n    currentEmailTemplate: state.currentEmailTemplate,\r\n  };\r\n}\r\n\r\nexport default window.reactRedux.connect(mapStateToProps)(EmailTemplatesRenderer)\r\n","\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport RouteContent from \"./RouteContent\";\r\nimport {isAltrpTestMode} from \"../helpers\";\r\nimport EmailTemplatesRenderer from \"./EmailTemplatesRenderer\";\r\nimport appStore from \"../store/store\";\r\nimport {setScrollValue} from \"../store/scroll-position/actions\";\r\nclass AppContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.mainScroller = React.createRef();\r\n    this.router = React.createRef();\r\n  }\r\n  componentDidMount() {\r\n    if (this.router.current) {\r\n      window.frontAppRouter = this.router.current;\r\n    }\r\n\r\n    /**\r\n     * todo: изменить подписку на скролл при необходимости\r\n     */\r\n    if(this.mainScroller.current){\r\n      this.mainScroller.current.addEventListener('scroll', e=>{\r\n        appStore.dispatch(setScrollValue({top: e.target.scrollTop}))\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router ref={this.router}>\r\n        <EmailTemplatesRenderer/>\r\n        <div ref={this.mainScroller} className={`front-app-content ${isAltrpTestMode() ? 'front-app-content_test' : ''}`}>\r\n          <Switch>\r\n            {this.props.routes.map(route => (\r\n              <Route\r\n                key={route.id}\r\n                children={<RouteContent {...route} />}\r\n                path={route.path}\r\n                exact\r\n              />\r\n            ))}\r\n          </Switch>\r\n        </div>\r\n        <window.StylesComponent />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    routes: state.appRoutes.routes\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(AppContent);\r\n","import {Helmet} from \"react-helmet\";\r\nimport {renderFontLink, delay} from \"../helpers\";\r\n\r\n\r\nclass FontsManager extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      fonts: [],\r\n    };\r\n    this.helmetRef = React.createRef();\r\n    window.helmetRef = this.helmetRef;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await delay(1000);\r\n    this.setState(state=>({...state, renderFonts: true}));\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {{}} prevProps\r\n   * @param {{}} prevState\r\n   */\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if(!this.state.renderFonts){\r\n      return;\r\n    }\r\n    let fonts = new Set();\r\n    const fontsPairs = _.toPairs(this.props.altrpFonts.getData());\r\n    fontsPairs.forEach(([key, value]) => {\r\n      fonts.add(value);\r\n    });\r\n    fonts = _.toArray(fonts);\r\n    if (_.isEqual(fonts, this.state.fonts)) {\r\n      return;\r\n    }\r\n    this.setState(state => ({...state, fonts}));\r\n  }\r\n\r\n  render() {\r\n    const {fonts} = this.state;\r\n\r\n    return <Helmet ref={this.helmetRef}>\r\n      {fonts.map(renderFontLink)}\r\n    </Helmet>\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    altrpFonts: state.altrpFonts,\r\n  };\r\n}\r\n\r\nexport default window.reactRedux.connect(mapStateToProps)(FontsManager);\r\n\r\n\r\n","import { getHeadingTypeHeadingStyles } from \"./helpers/stylesForTheHeadingTypeHeading\";\r\nimport { getHeadingTypeAnimatingStyles } from \"./helpers/stylesForTheHeadingTypeAnimating\";\r\nimport {getTextStyles} from \"./helpers/stylesForTheText\";\r\nimport {getTableStyles} from \"./helpers/stylesForTheTable\";\r\nimport {getPostsStyles} from \"./helpers/stylesForThePosts\";\r\nimport getImageStyles from \"./helpers/stylesForTheImage\";\r\nimport getTabsStyles from \"./helpers/stylesForTheTabs\";\r\nimport getMenuStyles from \"./helpers/getMenuStyles\";\r\nimport getBreadcrumbsStyles from \"./helpers/stylesForTheBreadcrumbs\";\r\nimport ButtonComponent from \"../../../../editor/src/js/components/widgets/styled-components/ButtonComponent\";\r\nimport CarouselComponent from \"../../../../editor/src/js/components/widgets/styled-components/CarouselComponent\";\r\nimport GalleryComponent from \"../../../../editor/src/js/components/widgets/styled-components/GalleryComponent\";\r\nimport DividerComponent from \"../../../../editor/src/js/components/widgets/styled-components/DividerComponent\";\r\nimport VideoComponent from \"../../../../editor/src/js/components/widgets/styled-components/VideoComponent\";\r\nimport ListComponent from \"../../../../editor/src/js/components/widgets/styled-components/ListComponent\";\r\nimport DashboardComponent from \"../../../../editor/src/js/components/widgets/styled-components/DashboardComponent\";\r\nimport AdvancedComponent from \"../../../../editor/src/js/components/widgets/styled-components/AdvancedComponent\";\r\nimport SectionWidgetComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/SectionWidgetComponent\";\r\nimport ColumnComponent from \"../../../../editor/src/js/components/widgets/styled-components/ColumnComponents\";\r\nimport DropbarWidgetComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/DropbarWidgetComponent\";\r\nimport FormComponent from \"../../../../editor/src/js/components/widgets/styled-components/FormComponent\";\r\nimport AccordionComponent from \"../../../../editor/src/js/components/widgets/styled-components/AccordionComponent\";\r\nimport getRouteStyles from \"../functions/get-route-styles\";\r\nimport MapComponent from \"../../../../editor/src/js/components/widgets/styled-components/MapComponent\";\r\nimport MapConstructorComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/MapConstructorComponent\";\r\nimport TabsSwitcherComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/TabsSwitcherComponent\";\r\nimport DiagramComponent from \"../../../../editor/src/js/components/widgets/styled-components/DiagramComponent\";\r\nimport ImageLightboxComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/ImageLightboxComponent\";\r\nimport InputDateComponent from \"../../../../editor/src/js/components/widgets/styled-components/InputDateComponent\";\r\nimport DatePickerComponent from \"../../../../editor/src/js/components/widgets/styled-components/DatePickerComponent\";\r\nimport InputCheckboxComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/InputCheckboxComponent\";\r\nimport getInputTextCommonStyles from \"./helpers/getInputTextCommonStyles\";\r\nimport getInputSelectStyles, {getInputSelectPopoverStyles} from \"./helpers/getInputSelectStyles\";\r\nimport InputRadioComponent from \"../../../../editor/src/js/components/widgets/styled-components/InputRadioComponent\";\r\nimport InputSliderComponent from \"../../../../editor/src/js/components/widgets/styled-components/InputSliderComponent\";\r\nimport getInputFileStyles from \"./helpers/getInputFileStyles\";\r\nimport getInputGalleryStyles from \"./helpers/getInputGalleryStyles\";\r\nimport {getResponsiveSetting} from \"../helpers\";\r\nimport InputRangeSliderComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/InputRangeSliderComponent\";\r\nimport getTemplateStyles from \"./helpers/getTemplateStyles\";\r\nimport TooltipComponent from \"../../../../editor/src/js/components/widgets/styled-components/TooltipComponent\";\r\nimport getInputMultiSelectStyles, {getInputMultiSelectPopoverStyles} from \"./helpers/getInputMultiSelectStyles\";\r\nimport getSchedulerStyles from \"./helpers/getSchedulerStyles\";\r\nimport getInputTextAutocompleteStyles from \"./helpers/getInputTextAutocompleteStyles\";\r\nimport TreeComponent from \"../../../../editor/src/js/components/widgets/styled-components/TreeComponent\";\r\nimport InputDateRangeComponent\r\n  from \"../../../../editor/src/js/components/widgets/styled-components/InputDateRangeComponent\";\r\nimport StarsComponent from \"../../../../editor/src/js/components/widgets/styled-components/StarsComponent\";\r\nimport ProgressBarComponent from \"../../../../editor/src/js/components/widgets/styled-components/ProgressBarComponent\";\r\n\r\nconst {isEditor} = window.altrpHelpers;\r\n\r\nconst GlobalStyles = createGlobalStyle`${({ elementsSettings, areas }) => {\r\n  let styles = \"\";\r\n  if(areas){\r\n    styles += getRouteStyles(areas);\r\n  }\r\n  let prefix = \"altrp-element\";\r\n\r\n  _.each(elementsSettings, (item, id) => {\r\n    if (item) {\r\n      switch (item.name) {\r\n        case \"image-lightbox\":\r\n          styles+=ImageLightboxComponent(item.settings,id);\r\n          break;\r\n        case \"pie-diagram\":\r\n          styles += `.${prefix}${id} {${DiagramComponent(item.settings)}}`;\r\n          break;\r\n        case \"line-diagram\":\r\n          styles += `.${prefix}${id} {${DiagramComponent(item.settings)}}`;\r\n          break;\r\n        case \"bar-diagram\":\r\n          styles += `.${prefix}${id} {${DiagramComponent(item.settings)}}`;\r\n          break;\r\n        case \"point-diagram\":\r\n          styles += `.${prefix}${id} {${DiagramComponent(item.settings)}}`;\r\n          break;\r\n        case \"tabs-switcher\":\r\n          styles += `.${prefix}${id} {${TabsSwitcherComponent(item.settings)}}`;\r\n          break;\r\n        case \"button\":\r\n          styles += `.${prefix}${id} {${ButtonComponent(item.settings)}}`;\r\n          break;\r\n        case \"carousel\":\r\n          styles += `.${prefix}${id} {${CarouselComponent(item.settings)}}`;\r\n          break;\r\n        case \"gallery\":\r\n          styles += `.${prefix}${id} {${GalleryComponent(item.settings)}}`;\r\n          break;\r\n        case \"divider\":\r\n          styles += `.${prefix}${id} {${DividerComponent(item.settings)}}`;\r\n          break;\r\n        case \"video\":\r\n          styles += `.${prefix}${id} {${VideoComponent(item.settings)}}`;\r\n          break;\r\n        case \"list\":\r\n          styles += `.${prefix}${id} {${ListComponent(item.settings)}}`;\r\n          break;\r\n        case \"accordion\":\r\n          styles += `.${prefix}${id} {${AccordionComponent(item.settings)}}`;\r\n          break;\r\n        case \"section\":\r\n          styles += `.${prefix}${id} {${SectionWidgetComponent(item.settings, item.childrenLength || 1)}}`;\r\n          break;\r\n        case \"section_widget\":\r\n          styles += `.${prefix}${id} {${SectionWidgetComponent(item.settings, item.childrenLength || 1)}}`;\r\n          break;\r\n        case \"column\":\r\n          styles += `.${prefix}${id} {${ColumnComponent(item.settings)}}`;\r\n          break;\r\n        case \"dropbar\":\r\n          styles += `.${prefix}${id} {${DropbarWidgetComponent(item.settings)}}`;\r\n          break;\r\n        case \"dashboard\":\r\n          styles+=`.${prefix}${id} {${DashboardComponent(item.settings)}}`;\r\n          break;\r\n        case \"image\":\r\n          styles+=getImageStyles(item.settings,id);\r\n          break;\r\n        case \"tabs\":\r\n          styles+=getTabsStyles(item.settings, id);\r\n          break;\r\n        case \"menu\":\r\n          styles+=getMenuStyles(item.settings,id);\r\n          break;\r\n        case \"breadcrumbs\":\r\n          styles+=getBreadcrumbsStyles(item.settings,id);\r\n          break;\r\n        case 'heading': {\r\n          styles += getHeadingTypeHeadingStyles(item.settings, id);\r\n        }\r\n          break;\r\n        case 'heading-type-animating': {\r\n          styles += getHeadingTypeAnimatingStyles(item.settings, id);\r\n        }\r\n          break;\r\n        case 'table': {\r\n          styles += getTableStyles(item.settings, id);\r\n        }\r\n          break;\r\n        case 'text': {\r\n          styles += getTextStyles(item.settings, id);\r\n        }\r\n          break;\r\n        case 'posts': {\r\n          styles += getPostsStyles(item.settings, id);\r\n        }\r\n          break;\r\n        case \"input-select2\": {\r\n          styles += `.${prefix}${id} {${FormComponent.FormComponent(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n          //select2 options style\r\n          styles += `${FormComponent.select2Options(item.settings, id)}}`;\r\n        }\r\n          break;\r\n        case \"input-date\": {\r\n          styles += InputDateComponent(\r\n            item.settings,\r\n            id,\r\n            prefix\r\n          );\r\n          styles += `${DatePickerComponent(\r\n            item.settings,\r\n            id,\r\n          )}`;\r\n        }\r\n          break\r\n        case \"input-date-range\": {\r\n          styles += InputDateRangeComponent(\r\n            item.settings,\r\n            id,\r\n            prefix\r\n          );\r\n        }\r\n        break\r\n        case \"input-checkbox\": {\r\n          styles += `.${prefix}${id} {${InputCheckboxComponent(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }\r\n          break\r\n        case \"stars\": {\r\n          styles += `.${prefix}${id} {${StarsComponent(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }\r\n          break\r\n        case \"progress-bar\": {\r\n          styles += `.${prefix}${id} {${ProgressBarComponent(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }\r\n          break\r\n        case \"input-slider\": {\r\n          styles += `.${prefix}${id} {${InputSliderComponent(\r\n            item.settings,\r\n          )}}`;\r\n        }\r\n          break\r\n        case \"input-range-slider\": {\r\n          styles += `.${prefix}${id} {${InputRangeSliderComponent(\r\n            item.settings,\r\n          )}}`;\r\n        }\r\n          break\r\n        case \"input-text-common\":{\r\n          styles += `.${prefix}${id} {${getInputTextCommonStyles(item.settings, id)}}`\r\n        }\r\n          break\r\n        case \"input-text-autocomplete\":{\r\n          styles += `.${prefix}${id} {${getInputTextAutocompleteStyles(item.settings, id)}}`\r\n        }\r\n          break;\r\n        case \"input-select\":{\r\n          styles += `.${prefix}${id} {${getInputSelectStyles(item.settings, id)}}`\r\n          styles += `${getInputSelectPopoverStyles(item.settings, id)}`\r\n        }\r\n          break;\r\n        case \"input-select-tree\": {\r\n          styles += `.${prefix}${id} {${getInputSelectStyles(item.settings, id)}}`\r\n          styles += `${getInputSelectPopoverStyles(item.settings, id)}`\r\n          styles += `.altrp-select-tree${id} {${TreeComponent(item.settings, \"tree_\")}}`;\r\n        }\r\n          break;\r\n        case \"input-multi-select\":{\r\n          styles += `.${prefix}${id} {${getInputMultiSelectStyles(item.settings, id)}}`\r\n          styles += `${getInputMultiSelectPopoverStyles(item.settings, id)}`\r\n        }\r\n          break;\r\n        case \"input-radio\": {\r\n          styles += InputRadioComponent(\r\n            item.settings,\r\n            id,\r\n            prefix\r\n          )\r\n        }break;\r\n        case \"input-text\":\r\n        case \"input-password\":\r\n        case \"input-number\":\r\n        case \"input-email\":\r\n        case \"input-tel\":\r\n        case \"input-file\":{\r\n          styles += `.${prefix}${id} {${getInputFileStyles(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }break\r\n        case \"input-gallery\":{\r\n          styles += `.${prefix}${id} {${getInputGalleryStyles(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }break\r\n        case \"template\":{\r\n          styles += `.${prefix}${id} {${getTemplateStyles(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }break\r\n        case \"input-image-select\":\r\n        case \"input-accept\":\r\n        case \"input-textarea\":\r\n        case \"input-wysiwyg\": {\r\n          styles += `.${prefix}${id} {${FormComponent.FormComponent(\r\n            item.settings,\r\n            id\r\n          )}}`;\r\n        }\r\n          break;\r\n        case \"map\":\r\n          styles += `.${prefix}${id} {${MapComponent(item.settings)}}`;\r\n          break;\r\n        case \"map_builder\":\r\n          styles += `.${prefix}${id} {${MapConstructorComponent(item.settings)}}`;\r\n          break;\r\n        case \"scheduler\":\r\n          styles += `.${prefix}${id} {${getSchedulerStyles(item.settings, id)}}`;\r\n          break;\r\n        case \"tree\":\r\n          styles += `.${prefix}${id} {${TreeComponent(item.settings)}}`;\r\n          break;\r\n      }\r\n      styles += `div.${prefix}${id}.${prefix}${id} {${AdvancedComponent(\r\n        item.settings\r\n      )}}`;\r\n\r\n      const tooltip_show_type = item.settings.tooltip_show_type || \"never\";\r\n\r\n      if(tooltip_show_type !== \"never\") {\r\n        styles += `.altrp-tooltip${id} {${TooltipComponent(item.settings)}}`\r\n      }\r\n\r\n      let element_css_editor = getResponsiveSetting(item.settings, \"element_css_editor\");\r\n      if(_.isString(element_css_editor)){\r\n        styles+=element_css_editor.replace(/__selector__/g, `.${prefix}${id}`)\r\n      }\r\n    }\r\n  });\r\n\r\n  styles += ` `;\r\n\r\n  window.globalDefaults && (styles += window.globalDefaults.join(''));\r\n  return styles;\r\n}}`\r\n\r\nfunction mapStateToProps(state) {\r\n  if(isEditor()){\r\n    return {};\r\n  }\r\n  return {\r\n    elementsSettings: state.elementsSettings,\r\n    areas: state.areas,\r\n    currentScreen: state.currentScreen,\r\n  };\r\n}\r\n\r\nexport default window.reactRedux.connect(mapStateToProps)(GlobalStyles)\r\n\r\n","import appStore from \"./js/store/store\";\r\nimport AppContent from \"./js/components/AppContent\";\r\nimport { Provider } from \"react-redux\";\r\nimport {changeCurrentUser, setUserNotice, setUsersOnline} from \"./js/store/current-user/actions\";\r\nimport FontsManager from \"./js/components/FontsManager\";\r\nimport Echo from \"laravel-echo\";\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\nimport { DndProvider, } from 'react-dnd'\r\nconst {getRoutes, Resource} = window.altrpHelpers;\r\nimport GlobalStyles from \"./js/components/GlobalStyles\";\r\n\r\nclass FrontApp extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    window.frontApp = this;\r\n    this.getRoutes();\r\n    // this.onWidgetMount();\r\n    console.log('FRONT APP: ',performance.now());\r\n  }\r\n  getRoutes() {\r\n    return window.altrpHelpers.getRoutes().then(res => {\r\n      this.routes = res.default;\r\n    });\r\n  }\r\n\r\n  onWidgetMount(){\r\n    console.log(performance.now());\r\n    // if(this.timeoutId){\r\n    //   clearTimeout(this.timeoutId);\r\n    // }\r\n    // this.timeoutId = setTimeout(() =>{\r\n    // }, 100);\r\n  }\r\n\r\n  /**\r\n   * Обновляем текущего пользователя\r\n   */\r\n  async componentDidMount() {\r\n    new Resource({ route: '/ajax/' }).get('current-user').then(res=>{\r\n      if(! _.isEqual(appStore.getState().currentUser.getData(), res.data)){\r\n        appStore.dispatch(changeCurrentUser(res.data));\r\n      }\r\n    })\r\n    let pusherKey = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"pusher_app_key\");\r\n    let websocketsPort = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"websockets_port\");\r\n    let websocketsHost = await new Resource({ route: \"/admin/ajax/settings\" }).get(\"pusher_host\");\r\n\r\n    pusherKey = pusherKey?.pusher_app_key;\r\n    websocketsPort = websocketsPort?.websockets_port;\r\n    websocketsHost = websocketsHost?.pusher_host;\r\n\r\n    // Проверка наличия ключа и порта\r\n    if(pusherKey && websocketsPort){\r\n      try {\r\n        window.Pusher = require(\"pusher-js\");\r\n        window.Echo = new Echo({\r\n          broadcaster: \"pusher\",\r\n          key: pusherKey,\r\n          wsHost: websocketsHost,\r\n          wsPort: websocketsPort,\r\n          forceTLS: false,\r\n          disableStats: true,\r\n        });\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n      const {currentUser} = appStore.getState();\r\n      // Подключение слушателя канала\r\n      window.Echo.private(\"App.User.\" + currentUser.id)\r\n      .notification((notification) => {\r\n        // Запись пришедших по каналу уведомлений в appStore\r\n        appStore.dispatch(setUserNotice(notification));\r\n        console.log(appStore.getState().currentUser, 'STORE NOTICE');\r\n      });\r\n\r\n      // Подключение слушателя для получения users online\r\n      let presenceChannel = window.Echo.join(\"online\");\r\n      let activeUsers = [];\r\n      presenceChannel.here((users) => {\r\n        activeUsers = users;\r\n        appStore.dispatch(setUsersOnline(activeUsers));\r\n      })\r\n      .joining((user) => {\r\n        activeUsers.push(user);\r\n        appStore.dispatch(setUsersOnline(activeUsers));\r\n      })\r\n      .leaving((user) => {\r\n        activeUsers.splice(activeUsers.indexOf(user), 1);\r\n        appStore.dispatch(setUsersOnline(activeUsers));\r\n      });\r\n\r\n    } else {\r\n     console.log(\"Вебсокеты выключены\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Provider store={appStore}>\r\n        <DndProvider backend={HTML5Backend}>\r\n          <AppContent />\r\n        </DndProvider>\r\n        <FontsManager />\r\n        <GlobalStyles/>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default window.__hot(module)(FrontApp);\r\n","import { getResponsiveSetting } from \"../helpers\";\r\n\r\nconst ALIGN_ITEMS = [\r\n  {\r\n    verticalAlignValues: [\"super\", \"top\", \"text-top\"],\r\n    alignItemsValue: \"flex-start\"\r\n  },\r\n  {\r\n    verticalAlignValues: [\"middle\"],\r\n    alignItemsValue: \"center\"\r\n  },\r\n  {\r\n    verticalAlignValues: [\"baseline\"],\r\n    alignItemsValue: \"baseline\"\r\n  },\r\n  {\r\n    verticalAlignValues: [\"sub\", \"bottom\", \"text-bottom\"],\r\n    alignItemsValue: \"flex-end\"\r\n  }\r\n];\r\n\r\n/**\r\n * Преобразейт значение css-свойства vertical-align в align-items\r\n * @param {string} verticalAlignValue\r\n * @return {string}\r\n */\r\nexport function verticalAlignToAlignItems(verticalAlignValue) {\r\n  let alignItemsValue = \"\";\r\n  ALIGN_ITEMS.forEach(items => {\r\n    if (items.verticalAlignValues.indexOf(verticalAlignValue) !== -1) {\r\n      alignItemsValue = items.alignItemsValue;\r\n    }\r\n  });\r\n  return alignItemsValue;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер dimension, в строку css  для вставки в styled-компонент\r\n * @param {{}} data - settings\r\n * @param {string} styleProperty - padding|margin|border-radius\r\n * @return {string}\r\n */\r\nexport function dimensionsControllerToStyles(\r\n  data = {},\r\n  styleProperty = \"padding\"\r\n) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n  const { left, top, right, bottom, unit } = data;\r\n  switch (styleProperty) {\r\n    case \"border-width\":\r\n      {\r\n        if (left) {\r\n          styles += `border-left-width: ${left}${unit}; `;\r\n        }\r\n        if (right) {\r\n          styles += `border-right-width: ${right}${unit}; `;\r\n        }\r\n        if (top) {\r\n          styles += `border-top-width: ${top}${unit}; `;\r\n        }\r\n        if (bottom) {\r\n          styles += `border-bottom-width: ${bottom}${unit}; `;\r\n        }\r\n      }\r\n      break;\r\n    case \"border-radius\":\r\n      {\r\n        if (top) {\r\n          styles += `border-top-left-radius: ${top}${unit}; `;\r\n        }\r\n        if (right) {\r\n          styles += `border-top-right-radius: ${right}${unit}; `;\r\n        }\r\n        if (bottom) {\r\n          styles += `border-bottom-right-radius: ${bottom}${unit}; `;\r\n        }\r\n        if (left) {\r\n          styles += `border-bottom-left-radius: ${left}${unit}; `;\r\n        }\r\n      }\r\n      break;\r\n    default:\r\n      {\r\n        if (left) {\r\n          styles += `${styleProperty}-left: ${left}${unit}; `;\r\n        }\r\n        if (right) {\r\n          styles += `${styleProperty}-right: ${right}${unit}; `;\r\n        }\r\n        if (top) {\r\n          styles += `${styleProperty}-top: ${top}${unit}; `;\r\n        }\r\n        if (bottom) {\r\n          styles += `${styleProperty}-bottom: ${bottom}${unit}; `;\r\n        }\r\n      }\r\n      break;\r\n  }\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер box-shadow, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @param {string} declaration\r\n * @return {string}\r\n */\r\nexport function shadowControllerToStyles(data, declaration=\"\") {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  if(data) {\r\n    let {type = 'outline', offsetX,horizontal, offsetY, vertical, blurRadius,blur,spread, spreadRadius, color } = data;\r\n    let returnShadow = [offsetX, horizontal, offsetY, vertical, blurRadius, blur, spread, spreadRadius].filter(elem => (\r\n      (elem && elem !== 0)\r\n    ));\r\n    if(returnShadow.length !== 0) {\r\n      styles += `box-shadow: ${type || ' '} ${offsetX || horizontal || 0}px ${offsetY || vertical || 0}px ${blurRadius || blur || 0}px ${spreadRadius || spread || 0}px ${color} ${declaration}; `;\r\n    }\r\n  }\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер text-shadow, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\nexport function textShadowControllerToStyles(data) {\r\n  if (data) {\r\n    const { blur, colorPickedHex, horizontal, opacity, vertical } = data;\r\n\r\n    return `text-shadow: ${horizontal}px ${vertical}px ${blur}px ${colorPickedHex}; `;\r\n  }\r\n\r\n  return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер Color, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @param {string} pseudoClass\r\n * @return {string}\r\n */\r\nexport function backgroundColorControllerToStyles(data, pseudoClass) {\r\n  let styles = \"\";\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  if (data) {\r\n    let { colorPickedHex } = data;\r\n\r\n    if (pseudoClass !== undefined) {\r\n      return `&:${pseudoClass} {background-color: ${colorPickedHex};} `;\r\n    }\r\n\r\n    return `background-color: ${colorPickedHex}; `;\r\n  }\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер background-image, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\nexport function backgroundImageControllerToStyles(data) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data) || data.url === null) {\r\n    return styles;\r\n  }\r\n\r\n  const { url } = data;\r\n\r\n  if(url) {\r\n    return `background-image: url('${url}'); `;\r\n  } else {\r\n    return \"\"\r\n  }\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер Filters, в строку css сразу с селектором '& .altrp-image' для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\nexport function filtersControllerToStyles(data) {\r\n  let styles = \"\";\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  let {\r\n    blur = \"0\",\r\n    brightness = \"100\",\r\n    contrast = \"100\",\r\n    hue = \"0\",\r\n    saturate,\r\n    saturation\r\n  } = data;\r\n\r\n  return `filter: blur(${blur}px) brightness(${brightness}%) contrast(${contrast}%) saturate(${saturate ||\r\n    saturation ||\r\n    \"100\"}%) hue-rotate(${hue}deg); `;\r\n}\r\n\r\n/**\r\n * Преобразует значение одного из свойств, перечисленных ниже, в строку css для вставки в styled-компонент\r\n * Варианты принимаемых свойств: column-count, z-index, border-style\r\n * @param {string} style\r\n * @param {string} styleProperty\r\n * @param {string} declaration\r\n * @return {string}\r\n */\r\n\r\nexport function simplePropertyStyled(style, styleProperty, declaration = \"\") {\r\n  if (style) {\r\n\r\n    return `${styleProperty}: ${style + declaration}; `;\r\n  }\r\n\r\n  return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует значение одного из свойств, перечисленных ниже, в строку css для вставки в styled-компонент\r\n * Варианты принимаемых свойств: color, background-color, border-color\r\n * @param {{}} data\r\n * @param {string} styleProperty\r\n * @param {string} declaration\r\n * @return {string}\r\n */\r\n\r\nexport function colorPropertyStyled(data , styleProperty, declaration = \"\") {\r\n  data = data || {}\r\n  const { color } = data;\r\n\r\n  if (color) {\r\n    return `${styleProperty}: ${color + declaration}; `;\r\n  }\r\n\r\n  return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет значение background-color из контроллера creative_link_controller, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @param {string} styleProperty\r\n * @return {string}\r\n */\r\n\r\nexport function backgroundCreativeLinkStyled(data) {\r\n  const { backgroundPickedHex } = data;\r\n\r\n  if (backgroundPickedHex) {\r\n    return `background-color: ${backgroundPickedHex}; `;\r\n  }\r\n\r\n  return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер column-gap, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\nexport function columnGapStyled(data = {}) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  const { size, unit } = data;\r\n\r\n  styles = `column-gap: ${size + unit}; `;\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер icon-size, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\nexport function iconSizeStyled(data = {}) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  const { size, unit } = data;\r\n\r\n  styles = `width: ${size + unit}; height: ${size + unit}; `;\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер Size | Icon Left Spacing | Icon Right Spacing | Top Translate | Left Translate,\r\n * в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @param {string} property\r\n * @return {string}\r\n */\r\n\r\nexport function sizeStyled(data = {}, property) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data) || data.size === undefined) {\r\n    return styles;\r\n  }\r\n\r\n  const { size, unit } = data;\r\n\r\n  if (\r\n    property === \"transition-duration\" ||\r\n    property === \"animation-duration\" ||\r\n    property === \"transition-delay\"\r\n  ) {\r\n    styles = `${property}: ${size}s; `;\r\n\r\n    return styles;\r\n  }\r\n\r\n  if(size) {\r\n    styles = `${property}: ${size + (unit || '')}; `;\r\n  }\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер height в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\nexport function heightCalcStyled(data = {}) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data) || data.size === undefined) {\r\n    return styles;\r\n  }\r\n\r\n  const { size, unit } = data;\r\n\r\n  styles = `height: calc${size + unit} * 2; `;\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер Translate, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\nexport function translateStyled(data = {}) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data) || isNaN(data.size) || !data.size) {\r\n    return styles;\r\n  }\r\n\r\n  const { size, unit } = data;\r\n\r\n  styles = `transform: ${data.function}(${size + unit}); `;\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер transform rotate, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\nexport function transformRotateStyled(data = {}) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data) || isNaN(data.size) || !data.size) {\r\n    return styles;\r\n  }\r\n\r\n  const { size } = data;\r\n\r\n  styles = `transform: rotate(${size}deg); `;\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер opacity, в строку css для вставки в styled-компонент\r\n * @param {string} style\r\n * @return {string}\r\n */\r\n\r\nexport function opacityStyled(style) {\r\n  if (style) {\r\n    return `opacity: ${style.size}; `;\r\n  } else return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер typographic, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\nexport function typographicControllerToStyles(data = {}) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  const {\r\n    family,\r\n    size,\r\n    lineHeight,\r\n    spacing,\r\n    style,\r\n    transform,\r\n    weight,\r\n    decoration,\r\n    sizeUnit,\r\n    lineHeightUnit\r\n  } = data;\r\n\r\n  if (decoration) {\r\n    styles += `text-decoration: ${decoration}; `;\r\n  }\r\n  if (transform) {\r\n    styles += `text-transform: ${transform}; `;\r\n  }\r\n  if (spacing) {\r\n    styles += `letter-spacing: ${spacing}px; `;\r\n  }\r\n  if (lineHeight) {\r\n    styles += `line-height: ${\r\n      lineHeightUnit ? lineHeight + lineHeightUnit : lineHeight\r\n    }; `;\r\n  }\r\n  if (weight) {\r\n    styles += `font-weight: ${weight}; `;\r\n  }\r\n  if (style) {\r\n    styles += `font-style: ${style}; `;\r\n  }\r\n  if (size) {\r\n    styles += `font-size: ${size ? size + (sizeUnit || \"px\") : \"\"}; `;\r\n  }\r\n  if (!_.isEmpty(family)) {\r\n    styles += `font-family: ${family}; `;\r\n  }\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер color, в строку css для вставки в styled-компонент\r\n * @return {string}\r\n * @param {{}} controller\r\n * @param {string} style\r\n * @param {string} important\r\n */\r\nexport function colorStyled(controller, style) {\r\n  if (controller) {\r\n    if (controller.color) {\r\n      return `${style}: ${controller.color};`;\r\n    } else return \"\";\r\n  } else return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер color, в строку css для вставки в styled-компонент\r\n * @return {string}\r\n * @param {{}} controller\r\n */\r\nexport function colorStyledSecond(controller) {\r\n  if (controller) {\r\n    if (controller.color) {\r\n      return `${controller.color}`;\r\n    } else return \"\";\r\n  } else return \"\";\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер border-width, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @param {string} declaration\r\n * @return {string}\r\n */\r\n\r\nexport function borderWidthStyled(data = {}, declaration = \"\") {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  const { bottom, left, right, top, unit = \"px\" } = data;\r\n\r\n  if (top && top !== \"\") {\r\n    styles += `border-top-width: ${top + unit + declaration}; `;\r\n  }\r\n\r\n  if (right && right !== \"\") {\r\n    styles += `border-right-width: ${right + unit + declaration}; `;\r\n  }\r\n\r\n  if (bottom && bottom !== \"\") {\r\n    styles += `border-bottom-width: ${bottom + unit + declaration}; `;\r\n  }\r\n\r\n  if (left && left !== \"\") {\r\n    styles += `border-left-width: ${left + unit + declaration}; `;\r\n  }\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер border-width, в строку css со свойством margin-top или margin-left с таким же значением, но отритцательным\r\n * @param {{}} data\r\n * @param {string} position\r\n * @return {string}\r\n */\r\n\r\nexport function marginTopLeftStyled(data = {}, position) {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  const { top, left, unit } = data;\r\n\r\n  if (top && top !== \"\" && position === \"top\") {\r\n    styles += `margin-top: -${top + unit}; `;\r\n  }\r\n\r\n  if (top && top !== \"\" && position === \"left\") {\r\n    styles += `margin-left: -${left + unit}; `;\r\n  }\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер border-radius, в строку css для вставки в styled-компонент\r\n * @param {{}} data\r\n * @return {string}\r\n */\r\n\r\n export function borderRadiusStyled(data = {},declaration=\"\") {\r\n  let styles = \"\";\r\n\r\n  if (_.isEmpty(data)) {\r\n    return styles;\r\n  }\r\n\r\n  const { size, unit } = data;\r\n\r\n  styles = `border-radius: ${size + unit + declaration}; `;\r\n\r\n  return styles;\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер dimensions, в строку css для вставки в styled-компонент\r\n * @return {string}\r\n * @param {{}} controller\r\n * @param {string} style\r\n * @param {string} important\r\n */\r\n export function dimensionsStyled(controller, style, important = '') {\r\n  if (controller) {\r\n    const unit = controller.unit || \"px\";\r\n    const left = controller.left;\r\n    const right = controller.right;\r\n    const bottom = controller.bottom;\r\n    const top = controller.top;\r\n\r\n    let styles = \"\";\r\n\r\n    if(controller.left) {\r\n      switch (style) {\r\n        case \"padding\":\r\n          styles += `padding-left: ${left + unit + important};`\r\n          break;\r\n        case \"margin\":\r\n          styles += `margin-left: ${left + unit + important};`\r\n          break;\r\n        case \"border-radius\":\r\n          styles += `border-bottom-right-radius: ${left + unit + important};`\r\n          break;\r\n        case \"border-width\":\r\n          styles += `border-left-width: ${left + unit + important};`\r\n      }\r\n    }\r\n\r\n    if(controller.right) {\r\n      switch (style) {\r\n        case \"padding\":\r\n          styles += `padding-right: ${right + unit + important};`\r\n          break;\r\n        case \"margin\":\r\n          styles += `margin-right: ${right + unit + important};`\r\n          break;\r\n        case \"border-radius\":\r\n          styles += `border-top-right-radius: ${right + unit + important};`\r\n          break;\r\n        case \"border-width\":\r\n          styles += `border-right-width: ${right + unit + important};`\r\n      }\r\n    }\r\n\r\n    if(controller.top) {\r\n      switch (style) {\r\n        case \"padding\":\r\n          styles += `padding-top: ${top + unit + important};`\r\n          break;\r\n        case \"margin\":\r\n          styles += `margin-top: ${top + unit + important};`\r\n          break;\r\n        case \"border-radius\":\r\n          styles += `border-top-left-radius: ${top + unit + important};`\r\n          break;\r\n        case \"border-width\":\r\n          styles += `border-top-width: ${top + unit + important};`\r\n      }\r\n    }\r\n\r\n    if(controller.bottom) {\r\n      switch (style) {\r\n        case \"padding\":\r\n          styles += `padding-bottom: ${bottom + unit + important};`\r\n          break;\r\n        case \"margin\":\r\n          styles += `margin-bottom: ${bottom + unit + important};`\r\n          break;\r\n        case \"border-radius\":\r\n          styles += `border-bottom-left-radius: ${bottom + unit + important};`\r\n          break;\r\n        case \"border-width\":\r\n          styles += `border-bottom-width: ${bottom + unit + important};`\r\n      }\r\n    }\r\n\r\n    return styles\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * Преобразует объект, который сохраняет контроллер gradient, в строку css для вставки в styled-компонент\r\n * @return {string}\r\n * @param {{}} controller\r\n */\r\nexport function gradientStyled(controller) {\r\n  if (controller && controller.isWithGradient) {\r\n    return `background-image: ${controller.value} `;\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * проверяет наличичие значения select или number\r\n * @return {string}\r\n * @param {string} controller\r\n */\r\nexport function defaultStyled(controller) {\r\n  if (controller) {\r\n    return controller;\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * проверяет наличичие значения slider\r\n * @return {string}\r\n * @param {{}} controller\r\n */\r\nexport function sliderStyled(controller) {\r\n  if (controller) {\r\n    if (controller.size) {\r\n      const unit = controller.unit || \"px\";\r\n      return controller.size + unit;\r\n    } else return \"\";\r\n  } else return \"\";\r\n}\r\n\r\n/**\r\n * проверяет наличичие значения shadow\r\n * @return {string}\r\n * @param {{}} controller\r\n * @param {string} important\r\n */\r\nexport function shadowStyled(controller = {}, important = '') {\r\n  if (controller) {\r\n    const type = controller.type || \"\";\r\n    const horizontal = controller.horizontal || 0;\r\n    const vertical = controller.vertical || 0;\r\n    const blur = controller.blur || 0;\r\n    const spread = controller.spread || 0;\r\n    const color = controller.color || \"\";\r\n\r\n    if(horizontal !== 0 || vertical !== 0 || blur !== 0 || spread !== 0) {\r\n      return `box-shadow: ${type} ${horizontal}px ${vertical}px ${blur}px ${spread}px ${color} ${important};`;\r\n    } else return \"\"\r\n  } else return \"\"\r\n}\r\n\r\n\r\n/**\r\n * проверяет наличичие значения text shadow\r\n * @return {string}\r\n * @param {{}} controller\r\n * @param {string} important\r\n */\r\nexport function textShadowStyled(controller = {}, important = '') {\r\n  if (controller) {\r\n    const horizontal = controller.horizontal || 0;\r\n    const vertical = controller.vertical || 0;\r\n    const blur = controller.blur || 0;\r\n    const color = controller.color || \"\";\r\n    if (horizontal || vertical || blur || color) {\r\n      return `text-shadow: ${horizontal}px ${vertical}px ${blur}px ${color} ${important};`;\r\n    } else {\r\n      return \"\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * проверяет наличичие значения creative_media\r\n * @return {string}\r\n * @param {{}} controller\r\n */\r\nexport function creativeLinkStyled(controller = {}) {\r\n  if (controller) {\r\n    return ``;\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * проверяет наличичие значения media, в основном используется для background-image\r\n * @return {string}\r\n * @param {{}} controller\r\n */\r\nexport function mediaStyled(controller = {}) {\r\n  if (controller?.url) {\r\n    return `background-image: url(\"${controller.url}\");`;\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * принимает настройки виджета settings и принимает массив стилей для преобразования в строку css для styled-components\r\n * @return {string}\r\n * @param {[]} styles - массив стилей\r\n * @param {{}} settings - настройки виджета\r\n * @param {{}} other - дополнительные настройки функции\r\n */\r\nexport function styledString(styles, settings, other={}) {\r\n  let stringStyles = \"\";\r\n  if(_.keys(settings).length !== 0) {\r\n    styles.forEach((style, idx) => {\r\n      if(_.isString(style)) {\r\n        if(style !== \"}\") {\r\n          if(style.split('')[0] === \".\" || style.split('')[0] === \"&\") {\r\n            stringStyles += `${style} {`;\r\n          } else if(style.split(\"\")[0] === \"!\") {\r\n            let styleModify = style.split(\"\");\r\n            styleModify.shift();\r\n            stringStyles += `${_.join(styleModify, \"\")}{`\r\n          } else {\r\n            stringStyles += `& .${style}{`;\r\n          }\r\n        } else {\r\n          stringStyles += `}`;\r\n        }\r\n      } else {\r\n        if (_.isArray(style)) {\r\n          let settingName = style[1];\r\n\r\n          if(other.settingsPrefix) {\r\n            settingName = other.settingsPrefix + settingName\r\n          }\r\n\r\n          const state = style[3] || \"\";\r\n          const variable = getResponsiveSetting(\r\n            settings,\r\n            settingName,\r\n            state,\r\n          );\r\n          switch (style[2]) {\r\n            case \"dimensions\":\r\n              stringStyles += dimensionsStyled(variable, style[0]);\r\n              break;\r\n            case \"color\":\r\n              stringStyles += colorStyled(variable, style[0]);\r\n              break;\r\n            case \"gradient\":\r\n              stringStyles += gradientStyled(variable);\r\n              break;\r\n            case \"typographic\":\r\n              stringStyles += typographicControllerToStyles(variable);\r\n              break;\r\n            case \"slider\":\r\n              if(sliderStyled(variable)) {\r\n                stringStyles += `${style[0]}:${sliderStyled(variable)};`;\r\n              }\r\n              break;\r\n            case \"shadow\":\r\n              stringStyles += shadowStyled(variable);\r\n              break;\r\n            case \"text-shadow\":\r\n              stringStyles += textShadowStyled(variable);\r\n              break;\r\n            case \"media\":\r\n              stringStyles += mediaStyled(variable);\r\n              break;\r\n            case \"creative-link\":\r\n              stringStyles += creativeLinkStyled(variable);\r\n              break;\r\n            default:\r\n              if (defaultStyled(variable)) {\r\n                stringStyles += `${style[0]}:${defaultStyled(\r\n                  variable\r\n                )};`;\r\n              }\r\n          }\r\n        }\r\n\r\n        if (_.isFunction(style)) {\r\n          if(style()) {\r\n            stringStyles += style();\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  return stringStyles;\r\n}\r\n"],"sourceRoot":""}