(self.webpackChunk=self.webpackChunk||[]).push([[5227],{63349:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},96156:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},77608:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},10379:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(14665);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},46070:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(90484),o=n(63349);function i(e,t){return!t||"object"!==(0,r.Z)(t)&&"function"!=typeof t?(0,o.Z)(e):t}},14665:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},32465:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},90484:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},62132:function(e,t,n){"use strict";n.r(t);var r,o,i,c,u=n(96156),a=n(92137),l=n(6610),s=n(5991),f=n(63349),p=n(10379),d=n(46070),h=n(77608),v=n(32465),y=n(87757),b=n.n(y),g=n(67294),m=n(48379);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){return g.createElement("svg",e,g.createElement("path",{d:"M20 7.6l-6.9-1.1L10 0 6.9 6.6 0 7.6l5 5.1L3.8 20l6.2-3.4 6.2 3.4-1.2-7.2 5-5.2zM10 15l-4.5 2.4.9-5.2-3.6-3.6 5-.8L10 3.1l2.2 4.7 5 .8-3.6 3.7.9 5.2L10 15z",fillRule:"evenodd"}))};Z.defaultProps={"data-icon":"star-empty",width:"20",height:"20",viewBox:"0 0 20 20"};var j=function(e){return g.createElement("svg",e,g.createElement("path",{d:"M10 0l3.1 6.6 6.9 1-5 5.1 1.2 7.3-6.2-3.4L3.8 20 5 12.7 0 7.6l6.9-1z",fillRule:"evenodd"}))};j.defaultProps={"data-icon":"star",width:"20",height:"20",viewBox:"0 0 20 20"};var S=styled.ul(r||(r=(0,v.Z)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  display: flex;\n\n"]))),E=styled.li(o||(o=(0,v.Z)(["\n  cursor: pointer;\n\n  & svg {\n    transition: none\n  }\n"]))),P=styled(Z)(i||(i=(0,v.Z)(["\n\n"]))),k=styled(j)(c||(c=(0,v.Z)(["\n"]))),C=window.altrpHelpers,F=C.isEditor,I=(C.getDataByPath,C.replaceContentWithData),x=function(e){(0,p.Z)(i,e);var t,r,o=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,h.Z)(t);if(r){var o=(0,h.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,d.Z)(this,e)});function i(e){var t;(0,l.Z)(this,i),(t=o.call(this,e)).dispatchFieldValueToStore=function(){var e=(0,a.Z)(b().mark((function e(r){var o,i,c,u,a,l=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>1&&void 0!==l[1]&&l[1],i=t.props.element.getFormId(),-1!==(c=t.props.element.getFieldId()).indexOf("{{")&&(c=I(c)),!(_.isObject(t.props.appStore)&&c&&i)){e.next=14;break}if(t.props.appStore.dispatch((0,m.Az)(c,r,i,o)),!o){e.next=14;break}if(!(u=t.props.element.getSettings("change_actions"))||F()){e.next=14;break}return e.next=11,Promise.all([n.e(4279),n.e(6593),n.e(2167),n.e(6737)]).then(n.bind(n,2167));case 11:return a=e.sent.default,e.next=14,a.callAllWidgetActions(t.props.element.getIdForAction(),"change",u,t.props.element);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.getValue=function(){var e,n=t.props.element.getFormId(),r=t.props.element.getFieldId();return F()?e=t.state.value:(e=_.get(appStore.getState().formsStore,"".concat(n),""),e=_.get(e,r,"")),e},e.element.component=(0,f.Z)(t),window.elementDecorator&&window.elementDecorator((0,f.Z)(t)),e.baseRender&&(t.render=e.baseRender((0,f.Z)(t)));var r=e.element.getSettings(),c=t.getContent("default_value");return c=isNaN(c)?-1:_.parseInt(c)||-1,t.state={settings:r,value:c,changed:!1},t.dispatchFieldValueToStore(c||0),t.handleClick=t.handleClick.bind((0,f.Z)(t)),t}return(0,s.Z)(i,[{key:"handleClick",value:function(e){var t=this,n=e+1;this.state.value===n&&(n=0),this.setState((function(e){return w(w({},e),{},{changed:!0,value:n})}),(function(){t.dispatchFieldValueToStore(n,!0)}))}},{key:"_componentDidUpdate",value:function(e,t){if(this.state.settings.default_value!==t.settings.default_value){var n=this.getContent("default_value");n=isNaN(n)?-1:_.parseInt(n)||-1,this.setState((function(e){return w(w({},e),{},{value:n})})),this.dispatchFieldValueToStore(n||0)}}},{key:"render",value:function(){var e,t=this,n=parseInt(null===(e=this.props.element.getContent("count"))||void 0===e?void 0:e.size)||1,r=new Array(n).fill("",0,n),o=this.getValue(),i=this.getContent("second_default_value");return i=isNaN(i)?0:_.parseInt(i)||0,g.createElement(S,{className:"altrp-stars-list"},r.map((function(e,n){var r=o-1>=n;return t.state.changed||-1!==t.state.value||(r=_.parseInt(i)-1>=n),g.createElement(E,{onClick:function(){return t.handleClick(n)},className:"altrp-stars-star"+(r?" active":"")+(t.state.changed?"":" altrp-stars-visual"),acitve:r,key:n},r?g.createElement(k,null):g.createElement(P,null))})))}}]),i}(Component);t.default=x},48379:function(e,t,n){"use strict";n.d(t,{sc:function(){return r},Yw:function(){return o},Az:function(){return i}});var r="CHANGE_FORM_FIELD_VALUE",o="CHANGE_FORM_FIELD_VALUE";function i(e,t,n,o){return{type:r,fieldName:e,value:t,formId:n,changedField:o?"".concat(n,".").concat(e):null}}}}]);
//# sourceMappingURL=Stars.b54a02759ebe26a7f2ba.bundle.js.map