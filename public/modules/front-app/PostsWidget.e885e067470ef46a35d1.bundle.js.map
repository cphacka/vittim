{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./resources/modules/editor/src/js/components/altrp-posts/components/PostsWrapper.js","webpack:///./resources/modules/editor/src/js/components/altrp-posts/altrp-posts.js","webpack:///./resources/modules/editor/src/js/components/widgets/PostsWidget.js","webpack:///./node_modules/react-select/async/dist/react-select.browser.esm.js"],"names":["_setPrototypeOf","o","p","Object","setPrototypeOf","__proto__","styled","columnsCount","posts_columns_gap","posts_rows_gap","styles","Number","AltrpPosts","props","renderPost","idx","transitionType","_","get","settings","post","cloneDeep","data","PostContentComponent","component","HoverPostContentComponent","state","simpleTemplate","postsComponents","simpleTemplateId","template","frontElementsFabric","setCardModel","AltrpModel","React","componentClass","element","ElementWrapper","children","set","hoverSimpleTemplate","hoverSimpleTemplateId","className","key","id","altrpIndex","currentPage","this","setState","templateLoader","nextProps","nextState","isEditor","isEqual","prevProps","newSimpleTemplateId","newHoverSimpleTemplateId","posts","hoverTemplate","posts_per_page","getResponsiveSetting","Math","ceil","length","page","getPageCount","prev_text","next_text","posts_pagination_type","pageCount","hide_pagination_select","hide_page_input","paginationProps","pageIndex","nextPage","setPage","previousPage","gotoPage","pageSize","widgetId","getId","Pagination","disabled","onClick","posts_prev_text","renderAssetIcon","prev_icon","posts_next_text","next_icon","hide_pre_page_button","dangerouslySetInnerHTML","__html","hide_pages_buttons_button","pageText","hide_next_page_button","isArray","isObject","postsStart","slice","map","renderPagination","choose_datasource","Array","from","setAltrpIndex","getSettings","window","elementDecorator","baseRender","render","query","modelName","dataSource","currentModel","getProperty","Query","table_query","showPosts","getFromModel","modelData","path","replace","getDataByPath","getCurrentModel","getData","Component","SelectComponent","_class","_temp","SelectState","m","S","Async","_Component","Derived","hasNativeReflectConstruct","_super","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","constructor","arguments","apply","_this","select","lastRequest","mounted","optionsCache","handleInputChange","newValue","actionMeta","_this$props","cacheOptions","onInputChange","inputValue","loadedInputValue","loadedOptions","isLoading","passEmptyOptions","request","loadOptions","options","defaultOptions","undefined","value","_this2","focus","blur","callback","loader","then","_this3","_this$props2","isLoadingProp","_this$state","ref","_ref","defaultProps","filterOption"],"mappings":"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","file":"PostsWidget.e885e067470ef46a35d1.bundle.js","sourcesContent":["export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import styled from \"styled-components\";\r\n\r\nconst PostsWrapper = styled.div`{\r\n  grid-template-columns: repeat(${({columnsCount})=>columnsCount}, 1fr);\r\n  display: grid;    \r\n  ${({posts_columns_gap, posts_rows_gap}) =>{\r\n    let styles = '';\r\n    if(posts_columns_gap && ! Number(posts_columns_gap)){\r\n      styles += `grid-column-gap:${posts_columns_gap};`;\r\n    } else if(Number(posts_columns_gap)){\r\n      styles += `grid-column-gap:${posts_columns_gap}px;`;\r\n    }\r\n    if(posts_rows_gap && ! Number(posts_rows_gap)){\r\n      styles += `grid-row-gap:${posts_rows_gap};`;\r\n    } else if(Number(posts_rows_gap)){\r\n      styles += `grid-row-gap:${posts_rows_gap}px;`;\r\n    }\r\n    return styles;\r\n  }}\r\n`;\r\n\r\nexport default PostsWrapper;","import React from \"react\";\r\nimport '../../../sass/altrp-pagination.scss';\r\nimport './altrp-posts.scss';\r\nimport AltrpQueryComponent from \"../altrp-query-component/altrp-query-component\";\r\nimport templateLoader from \"../../classes/modules/TemplateLoader\"\r\nimport frontElementsFabric from \"../../../../../front-app/src/js/classes/FrontElementsFabric\"\r\nimport AltrpModel from \"../../classes/AltrpModel\";\r\nimport ElementWrapper from \"../../../../../front-app/src/js/components/ElementWrapper\";\r\nimport {getResponsiveSetting, isEditor, renderAssetIcon, setAltrpIndex} from \"../../../../../front-app/src/js/helpers\";\r\nimport PostsWrapper from \"./components/PostsWrapper\";\r\nimport Pagination from \"../altrp-table/components/Pagination\";\r\n\r\nclass AltrpPosts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      simpleTemplate: '',\r\n      simpleTemplateId : null,\r\n      currentPage: 1,\r\n    }\r\n    this.postsComponents = {};\r\n  }\r\n\r\n  /**\r\n   * Компонент загрузился\r\n   */\r\n  async componentDidMount() {\r\n    const{settings} = this.props;\r\n    let simpleTemplateId = _.get(settings, 'posts_card_template');\r\n    if(simpleTemplateId){\r\n      if(! simpleTemplateId){\r\n        return;\r\n      }\r\n      this.setState(state=>({...state, simpleTemplateId}), async()=>{\r\n        let template = await templateLoader.loadParsedTemplate(simpleTemplateId);\r\n        this.setState(state=>({...state, simpleTemplate:template}))\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Когда нужно обновлять компонент\r\n   * @param {{}} nextProps\r\n   * @param {{}} nextState\r\n   */\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    if(! isEditor()){\r\n      return true;\r\n    }\r\n    if(this.props.settings !== nextProps.settings){\r\n      return true;\r\n    }\r\n    if(! _.isEqual(this.state.simpleTemplate, nextState.simpleTemplate)){\r\n      return true;\r\n    }\r\n    if(! _.isEqual(this.state.hoverSimpleTemplate, nextState.hoverSimpleTemplate)){\r\n      return true;\r\n    }\r\n    if(! _.isEqual(this.state.simpleTemplateId, nextState.simpleTemplateId)){\r\n      return true;\r\n    }\r\n    if(this.state.hoverSimpleTemplateId == nextState.hoverSimpleTemplateId){\r\n      return true;\r\n    }\r\n    // if(this.props.data !== nextProps.data){\r\n    if(! _.isEqual(this.props.data, nextProps.data)){\r\n      return true;\r\n    }\r\n    if(this.state.currentPage !== nextState.currentPage){\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  /**\r\n   * Компонент обновился\r\n   * @param {{}} prevProps\r\n   */\r\n  async componentDidUpdate(prevProps) {\r\n    const{settings} = this.props;\r\n    const{simpleTemplateId, hoverSimpleTemplateId} = this.state;\r\n    const newSimpleTemplateId = _.get(settings, 'posts_card_template');\r\n    const newHoverSimpleTemplateId = _.get(settings, 'posts_card_hover_template');\r\n    // if(prevProps.posts !== this.state.posts)\r\n    if(! _.isEqual(prevProps.data, this.props.data)){\r\n      this.setState(state =>({...state, posts: this.props.data}));\r\n    }\r\n    if(this.props.data !== prevProps.data){\r\n      this.postsComponents = {};\r\n    }\r\n    if(newSimpleTemplateId !== simpleTemplateId){\r\n      if(! newSimpleTemplateId){\r\n        this.setState(state=>({...state, simpleTemplateId: newSimpleTemplateId, simpleTemplate:null}));\r\n        return;\r\n      }\r\n      this.setState(state=>({...state, simpleTemplateId: newSimpleTemplateId}),async ()=>{\r\n        let template = await templateLoader.loadParsedTemplate(newSimpleTemplateId);\r\n        this.setState(state=>({...state, simpleTemplate:template}));\r\n      });\r\n    }\r\n    if(newHoverSimpleTemplateId !== hoverSimpleTemplateId){\r\n      if(! newHoverSimpleTemplateId){\r\n\r\n        this.setState(state=>({...state, hoverSimpleTemplateId: newHoverSimpleTemplateId, hoverSimpleTemplate: null}));\r\n        return;\r\n      }\r\n      this.setState(state=>({...state, hoverSimpleTemplateId: newHoverSimpleTemplateId}),async ()=>{\r\n        let hoverTemplate = await templateLoader.loadParsedTemplate(newHoverSimpleTemplateId);\r\n        this.setState(state=>({...state, hoverSimpleTemplate:hoverTemplate}));\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Отрисовывает отдельную карточку\r\n   * @param {int} idx - индекс в массиве записей\r\n   */\r\n  renderPost = (idx) => {\r\n    const transitionType = _.get(this.props.settings, 'posts_transition_type', null);\r\n    let post = _.cloneDeep(this.props.data[idx] || this.props.data);\r\n    let PostContentComponent = post.component || '';\r\n    let HoverPostContentComponent = post.component || '';\r\n    if(this.state.simpleTemplate && ! _.get(this.postsComponents, `${this.state.simpleTemplateId}.${idx}`)){\r\n      let template = frontElementsFabric.cloneElement(this.state.simpleTemplate);\r\n      template.setCardModel(new AltrpModel(post), idx);\r\n      PostContentComponent = React.createElement(template.componentClass,\r\n        {\r\n          element: template,\r\n          ElementWrapper: ElementWrapper,\r\n          children: template.children\r\n        });\r\n      _.set(this.postsComponents, `${this.state.simpleTemplateId}.${idx}`, PostContentComponent)\r\n    } else if(_.get(this.postsComponents, `${this.state.simpleTemplateId}.${idx}`)){\r\n      PostContentComponent = _.get(this.postsComponents, `${this.state.simpleTemplateId}.${idx}`)\r\n    }\r\n    if(this.state.hoverSimpleTemplate && ! _.get(this.postsComponents, `hover.${this.state.hoverSimpleTemplateId}.${idx}`)){\r\n      let template = frontElementsFabric.cloneElement(this.state.hoverSimpleTemplate);\r\n      template.setCardModel(new AltrpModel(post), idx);\r\n      HoverPostContentComponent = React.createElement(template.componentClass,\r\n        {\r\n          element: template,\r\n          ElementWrapper: ElementWrapper,\r\n          children: template.children\r\n        });\r\n      _.set(this.postsComponents, `hover.${this.state.hoverSimpleTemplateId}.${idx}`, HoverPostContentComponent)\r\n    } else if(_.get(this.postsComponents, `hover.${this.state.hoverSimpleTemplateId}.${idx}`)){\r\n      HoverPostContentComponent = _.get(this.postsComponents, `hover.${this.state.hoverSimpleTemplateId}.${idx}`)\r\n    }\r\n    return <div className=\"altrp-post\" key={(post.id || post.altrpIndex)}>\r\n        {PostContentComponent}\r\n        {this.state.hoverSimpleTemplateId && <div className={`altrp-post altrp-post--hover altrp-post--hover--${transitionType}`}>{HoverPostContentComponent}</div>}\r\n      </div>\r\n\r\n  };\r\n\r\n  /**\r\n   * Получаем количество страниц\r\n   * @return {int}\r\n   */\r\n\r\n  getPageCount(){\r\n    let {data: posts} = this.props;\r\n    const posts_per_page = Number(getResponsiveSetting(this.props.settings,'posts_per_page')) || 12;\r\n    if(! posts_per_page || ! _.get(posts, 'length')){\r\n      return 1;\r\n    }\r\n    return Math.ceil(posts.length / posts_per_page);\r\n  }\r\n\r\n  /**\r\n   * поменяем страницу\r\n   * @param {number} page\r\n   */\r\n  setPage(page){\r\n    page = Number(page);\r\n    if(! page){\r\n      page = 1;\r\n    }\r\n    if(page < 0){\r\n      page = 0;\r\n    }\r\n    if(page > this.getPageCount()){\r\n      page = this.getPageCount();\r\n    }\r\n    if(this.state.currentPage === page){\r\n      return;\r\n    }\r\n    this.setState(state =>({...state, currentPage: page}))\r\n  }\r\n\r\n  /**\r\n   * Выводим пагинацию\r\n   * @return {*}\r\n   */\r\n  renderPagination(){\r\n    const settings = {...this.props.settings};\r\n    const element = this.props.element;\r\n    let {data: posts} = this.props;\r\n    if(! posts.length && ! isEditor()){\r\n      return null;\r\n    }\r\n\r\n    if(element.getResponsiveSetting('posts_per_page') >= posts?.length || element.getResponsiveSetting('posts_per_page') <= 0){\r\n      return null;\r\n    }\r\n    let prev_text = element.getResponsiveSetting('prev_text', '', 'Previous Page')\r\n    let next_text = element.getResponsiveSetting('next_text', '', 'Next Page')\r\n    let posts_pagination_type = getResponsiveSetting(this.props.settings, 'posts_pagination_type') || '';\r\n    if(posts_pagination_type){\r\n      const {currentPage} = this.state;\r\n      const pageCount = this.getPageCount();\r\n      if(posts_pagination_type === 'pages'){\r\n        settings.hide_pagination_select = true;\r\n        settings.hide_page_input = true;\r\n        const paginationProps = {\r\n          settings,\r\n          pageCount,\r\n          pageIndex: this.state.currentPage - 1,\r\n          nextPage: ()=>{\r\n            this.setPage(this.state.currentPage + 1);\r\n          },\r\n          previousPage: ()=>{\r\n            this.setPage(this.state.currentPage - 1);\r\n          },\r\n          gotoPage: (page)=>{\r\n            this.setPage(page + 1);\r\n          },\r\n          pageSize: this.props.element.getResponsiveSetting('posts_per_page'),\r\n          widgetId: this.props.element.getId(),\r\n        };\r\n\r\n        return <Pagination {...paginationProps} />\r\n      }\r\n      return posts_pagination_type === \"prev_next\" ? <div className=\"altrp-pagination-pages\">\r\n        <button className={\"altrp-pagination__previous \" + (currentPage <= 1 ? 'state-disabled' : '')}\r\n                disabled={currentPage <= 1}\r\n                onClick={()=>{this.setPage(currentPage - 1)}}>\r\n          <span>{settings.posts_prev_text || ''}</span>\r\n          {renderAssetIcon(settings.prev_icon)}\r\n        </button>\r\n\r\n        <button className={\"altrp-pagination__next \" + (currentPage === pageCount ? 'state-disabled' : '')}\r\n                disabled={currentPage === pageCount}\r\n                onClick={()=>{this.setPage(currentPage + 1)}}>\r\n          <span>{settings.posts_next_text || ''}</span>\r\n          {renderAssetIcon(settings.next_icon)}\r\n        </button>\r\n      </div> :\r\n      <div className=\"altrp-pagination\">\r\n        {! settings.hide_pre_page_button && <button className={\"altrp-pagination__previous\"}\r\n          onClick={() => this.setPage(currentPage - 1)}\r\n          disabled={currentPage <= 1}\r\n        >\r\n          <span dangerouslySetInnerHTML={{ __html: prev_text }} />\r\n            {renderAssetIcon(settings.prev_icon)}\r\n        </button>}\r\n        {! settings.hide_pages_buttons_button && <div className=\"altrp-pagination__count\">\r\n          {settings.pageText}\r\n        </div>}\r\n        {!settings.hide_next_page_button && <button className=\"altrp-pagination__next\"\r\n            onClick={() => this.setPage(currentPage + 1)}\r\n            disabled={currentPage === pageCount}\r\n          >\r\n            <span dangerouslySetInnerHTML={{ __html: next_text }} />\r\n            {renderAssetIcon(settings.next_icon)}\r\n          </button>}\r\n        {/* {!settings.hide_page_input && <input className=\"altrp-pagination__goto-page\"\r\n          type=\"number\"\r\n          defaultValue={pageIndex + 1}\r\n          onChange={e => this.setPage(+e.target.value)}\r\n        />}\r\n        {!settings.hide_pagination_select && countOptions && <AltrpSelect className=\"altrp-pagination__select-size\"\r\n          options={countOptions}\r\n          classNamePrefix={widgetId + ' altrp-field-select2'}\r\n          value={countOptions.find(o => o.value === pageSize)}\r\n          isSearchable={false}\r\n          onChange={value => {\r\n            setPageSize(value.value)\r\n          }} />} */}\r\n      </div>\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const {currentPage} = this.state;\r\n    const posts_per_page = Number(getResponsiveSetting(this.props.settings,'posts_per_page')) || 12;\r\n    let {data: posts} = this.props;\r\n    if((! _.isArray(posts)) && _.isObject(posts)){\r\n      posts = [posts];\r\n    }\r\n    if(! _.isArray(posts)){\r\n      posts = [];\r\n    }\r\n    let postsStart = 0;\r\n    if(posts_per_page && Number(posts_per_page) && posts_per_page > 0){\r\n      if(currentPage > 1){\r\n        postsStart = (currentPage - 1) * posts_per_page\r\n      }\r\n      posts = posts.slice(postsStart, postsStart + posts_per_page);\r\n    }\r\n    let columnsCount = Number(getResponsiveSetting(this.props.settings,'posts_columns')) || 1;\r\n    let posts_columns_gap = getResponsiveSetting(this.props.settings,'posts_columns_gap') || '';\r\n    let posts_rows_gap = getResponsiveSetting(this.props.settings,'posts_rows_gap') || '';\r\n\r\n    return<React.Fragment>\r\n      <PostsWrapper columnsCount={columnsCount}\r\n                                        posts_columns_gap={posts_columns_gap}\r\n                                        posts_rows_gap={posts_rows_gap}\r\n                                        className=\"altrp-posts\">\r\n        {posts.map((p, idx)=>{\r\n          return this.renderPost(postsStart + idx);\r\n        })}\r\n      </PostsWrapper>\r\n      {this.renderPagination()}\r\n    </React.Fragment>\r\n  }\r\n}\r\n\r\nexport default (props) => {\r\n  if(props.settings.choose_datasource === 'datasource'){\r\n    if(isEditor()){\r\n      props = {...props};\r\n      props.settings = {...props.settings};\r\n      props.data = Array.from({length: 3}, () => ({}));\r\n      setAltrpIndex(props.data);\r\n    }\r\n    return<AltrpPosts {...props}/>\r\n  }\r\n  return <AltrpQueryComponent {...props}><AltrpPosts/></AltrpQueryComponent>\r\n}\r\n","import Query from \"../../classes/Query\";\r\nimport {getDataByPath} from \"../../../../../front-app/src/js/helpers\";\r\nimport PostsComponent from '../altrp-posts/altrp-posts';\r\n\r\nclass PostsWidget extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      settings: props.element.getSettings(),\r\n    };\r\n    props.element.component = this;\r\n    if (window.elementDecorator) {\r\n      window.elementDecorator(this);\r\n    }\r\n    if (props.baseRender) {\r\n      this.render = props.baseRender(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Показывать ли записи\r\n   * @param{Query} query\r\n   * @return {boolean}\r\n   */\r\n  showPosts(query = {}) {\r\n    if (this.props.element.getSettings('choose_datasource') === 'datasource') {\r\n      return true;\r\n    }\r\n    if (!query.modelName && !query.dataSource) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.currentModel.getProperty('altrpModelUpdated')) {\r\n      return '';\r\n    }\r\n    let query = new Query(this.props.element.getSettings().table_query || {}, this);\r\n    if (!this.showPosts(query)) {\r\n      return <div children=\"Please Choose Source\"/>\r\n    }\r\n    let data = query.getFromModel(this.state.modelData) || [];\r\n    if (this.props.element.getSettings('choose_datasource') === 'datasource') {\r\n      let path = this.props.element.getSettings('posts_datasource', '');\r\n      path = path.replace(/}}/g, '').replace(/{{/g, '');\r\n      data = getDataByPath(path, [], this.props.element.getCurrentModel().getData());\r\n    }\r\n    return <PostsComponent query={query}\r\n                           currentModel={this.props.currentModel}\r\n                           data={data}\r\n                           element={this.props.element}\r\n                           settings={this.props.element.getSettings()}/>;\r\n  }\r\n}\r\n\r\nexport default PostsWidget\r\n\r\n","import _objectWithoutProperties from '@babel/runtime/helpers/esm/objectWithoutProperties';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport '@babel/runtime/helpers/slicedToArray';\nimport '@babel/runtime/helpers/toConsumableArray';\nimport '@babel/runtime/helpers/defineProperty';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport '@babel/runtime/helpers/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport React, { Component } from 'react';\nimport 'memoize-one';\nimport '@emotion/core';\nimport 'react-dom';\nimport '@babel/runtime/helpers/typeof';\nimport { G as handleInputChange } from '../../dist/index-75b02bac.browser.esm.js';\nimport { S as Select } from '../../dist/Select-e1cf49ae.browser.esm.js';\nimport '@emotion/css';\nimport '@babel/runtime/helpers/taggedTemplateLiteral';\nimport 'react-input-autosize';\nimport { m as manageState } from '../../dist/stateManager-2f2b6f5b.browser.esm.js';\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\nvar defaultProps = {\n  cacheOptions: false,\n  defaultOptions: false,\n  filterOption: null,\n  isLoading: false\n};\nvar makeAsyncSelect = function makeAsyncSelect(SelectComponent) {\n  var _class, _temp;\n\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    _inherits(Async, _Component);\n\n    var _super = _createSuper(Async);\n\n    function Async(props) {\n      var _this;\n\n      _classCallCheck(this, Async);\n\n      _this = _super.call(this);\n      _this.select = void 0;\n      _this.lastRequest = void 0;\n      _this.mounted = false;\n      _this.optionsCache = {};\n\n      _this.handleInputChange = function (newValue, actionMeta) {\n        var _this$props = _this.props,\n            cacheOptions = _this$props.cacheOptions,\n            onInputChange = _this$props.onInputChange; // TODO\n\n        var inputValue = handleInputChange(newValue, actionMeta, onInputChange);\n\n        if (!inputValue) {\n          delete _this.lastRequest;\n\n          _this.setState({\n            inputValue: '',\n            loadedInputValue: '',\n            loadedOptions: [],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n\n          return;\n        }\n\n        if (cacheOptions && _this.optionsCache[inputValue]) {\n          _this.setState({\n            inputValue: inputValue,\n            loadedInputValue: inputValue,\n            loadedOptions: _this.optionsCache[inputValue],\n            isLoading: false,\n            passEmptyOptions: false\n          });\n        } else {\n          var request = _this.lastRequest = {};\n\n          _this.setState({\n            inputValue: inputValue,\n            isLoading: true,\n            passEmptyOptions: !_this.state.loadedInputValue\n          }, function () {\n            _this.loadOptions(inputValue, function (options) {\n              if (!_this.mounted) return;\n\n              if (options) {\n                _this.optionsCache[inputValue] = options;\n              }\n\n              if (request !== _this.lastRequest) return;\n              delete _this.lastRequest;\n\n              _this.setState({\n                isLoading: false,\n                loadedInputValue: inputValue,\n                loadedOptions: options || [],\n                passEmptyOptions: false\n              });\n            });\n          });\n        }\n\n        return inputValue;\n      };\n\n      _this.state = {\n        defaultOptions: Array.isArray(props.defaultOptions) ? props.defaultOptions : undefined,\n        inputValue: typeof props.inputValue !== 'undefined' ? props.inputValue : '',\n        isLoading: props.defaultOptions === true,\n        loadedOptions: [],\n        passEmptyOptions: false\n      };\n      return _this;\n    }\n\n    _createClass(Async, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        this.mounted = true;\n        var defaultOptions = this.props.defaultOptions;\n        var inputValue = this.state.inputValue;\n\n        if (defaultOptions === true) {\n          this.loadOptions(inputValue, function (options) {\n            if (!_this2.mounted) return;\n            var isLoading = !!_this2.lastRequest;\n\n            _this2.setState({\n              defaultOptions: options || [],\n              isLoading: isLoading\n            });\n          });\n        }\n      }\n    }, {\n      key: \"UNSAFE_componentWillReceiveProps\",\n      value: function UNSAFE_componentWillReceiveProps(nextProps) {\n        // if the cacheOptions prop changes, clear the cache\n        if (nextProps.cacheOptions !== this.props.cacheOptions) {\n          this.optionsCache = {};\n        }\n\n        if (nextProps.defaultOptions !== this.props.defaultOptions) {\n          this.setState({\n            defaultOptions: Array.isArray(nextProps.defaultOptions) ? nextProps.defaultOptions : undefined\n          });\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.mounted = false;\n      }\n    }, {\n      key: \"focus\",\n      value: function focus() {\n        this.select.focus();\n      }\n    }, {\n      key: \"blur\",\n      value: function blur() {\n        this.select.blur();\n      }\n    }, {\n      key: \"loadOptions\",\n      value: function loadOptions(inputValue, callback) {\n        var loadOptions = this.props.loadOptions;\n        if (!loadOptions) return callback();\n        var loader = loadOptions(inputValue, callback);\n\n        if (loader && typeof loader.then === 'function') {\n          loader.then(callback, function () {\n            return callback();\n          });\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this3 = this;\n\n        var _this$props2 = this.props,\n            loadOptions = _this$props2.loadOptions,\n            isLoadingProp = _this$props2.isLoading,\n            props = _objectWithoutProperties(_this$props2, [\"loadOptions\", \"isLoading\"]);\n\n        var _this$state = this.state,\n            defaultOptions = _this$state.defaultOptions,\n            inputValue = _this$state.inputValue,\n            isLoading = _this$state.isLoading,\n            loadedInputValue = _this$state.loadedInputValue,\n            loadedOptions = _this$state.loadedOptions,\n            passEmptyOptions = _this$state.passEmptyOptions;\n        var options = passEmptyOptions ? [] : inputValue && loadedInputValue ? loadedOptions : defaultOptions || [];\n        return /*#__PURE__*/React.createElement(SelectComponent, _extends({}, props, {\n          ref: function ref(_ref) {\n            _this3.select = _ref;\n          },\n          options: options,\n          isLoading: isLoading || isLoadingProp,\n          onInputChange: this.handleInputChange\n        }));\n      }\n    }]);\n\n    return Async;\n  }(Component), _class.defaultProps = defaultProps, _temp;\n};\nvar SelectState = manageState(Select);\nvar Async = makeAsyncSelect(SelectState);\n\nexport default Async;\nexport { defaultProps, makeAsyncSelect };\n"],"sourceRoot":""}