{"version":3,"sources":["webpack:///./resources/modules/front-app/src/js/components/FrontPopupWrapper.js","webpack:///./resources/modules/front-app/src/js/components/FrontPopup.js"],"names":["getResponsiveSetting","window","altrpHelpers","styled","div","settings","styles","layout_bg","_","get","width_popup_layout","size","unit","content_position_popup_layout","timeout","type_popup","height_custom_popup_layout","sliderStyled","popup_bg","color","popup_pa","dimensionsControllerToStyles","popup_border","popup_border_width","popup_radius","popup_border_color","animations_offcanvas","vertical_position_popup_layout","horizontal_position_popup_layout","topOffset","leftOffset","leftOffsetEnd","topOffsetEnd","top","left","right","bottom","close_pa","close_right","close_top","close_c","colorPropertyStyled","icon_fill","time_offcanvas","iconsManager","FrontPopup","props","close","setState","isVisible","isShownOnScroll","closePopup","onExited","document","body","classList","remove","dispatchEvent","Event","onExit","rootElement","state","appContainer","getElementById","style","onEntered","onExiting","onEntering","transitionDuration","onEnter","add","ElementWrapper","frontElementsFabric","parseData","template","data","page","models","bind","prevProps","popupTrigger","this","getSettings","popupID","classes","popupGUID","rootElementSettings","popup_close_icon","popup_close_icon_width_size","popup_close_icon_height_size","push","rootElementId","getId","close_context","overlayCondition","height_popup_layout","closeButtonCondition","popup_close_icon_alignment","closeButton","className","onClick","AltrpImage","image","lazy","width","height","default","assetType","name","url","renderIcon","CSSTransition","in","Number","unmountOnExit","classNames","join","e","stopPropagation","autoHide","renderThumbHorizontal","renderTrackHorizontal","renderTrackVertical","autoHideTimeout","autoHideDuration","React","createElement","componentClass","element","children","Component","reactRedux","connect","scrollPosition","dispatch","togglePopup"],"mappings":"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","file":"4734.3c81bbdb1696103a117b.bundle.js","sourcesContent":["const {getResponsiveSetting} = window.altrpHelpers;\r\nimport {\r\n  shadowControllerToStyles,\r\n  dimensionsControllerToStyles,\r\n  sliderStyled,\r\n  colorPropertyStyled\r\n} from '../helpers/styles';\r\n\r\n\r\nconst FrontPopupWrapper = window.styled.div`\r\n&{\r\n  overflow: hidden;\r\n${({settings}) => {\r\n  let styles = \"\";\r\n  const layout_bg = getResponsiveSetting(settings, 'layout_bg')\r\n  styles += `background-color:${_.get(layout_bg, 'color', 'rgba(0,0,0,0.7)')};`\r\n  return styles\r\n}\r\n}\r\n& .popup-content {\r\n  ${({settings}) => {\r\n  let styles = \"\";\r\n  const height_custom_popup_layout = getResponsiveSetting(settings, 'height_custom_popup_layout')\r\n  if (height_custom_popup_layout) {\r\n\r\n  }\r\n  if (settings.width_popup_layout && settings.width_popup_layout.size)\r\n    styles += `width: ${settings.width_popup_layout.size} ${settings.width_popup_layout.unit};`;\r\n\r\n  return styles;\r\n}}\r\n}\r\n& .popup-window > .popup-scrollbar > div{\r\n  ${({settings}) => {\r\n  let styles = \"\";\r\n  const content_position_popup_layout = getResponsiveSetting(settings, 'content_position_popup_layout')\r\n  if (content_position_popup_layout && content_position_popup_layout !== 'flex-start') {\r\n    styles += `align-items:${content_position_popup_layout};`\r\n    styles += `display:flex;`\r\n  }\r\n  return styles;\r\n}}\r\n}\r\n&& .popup-window{\r\n  ${({settings}) => {\r\n  let styles = \"\";\r\n\r\n  let timeout = _.get(getResponsiveSetting(settings, 'time'), 'size', 0)\r\n  const type_popup = getResponsiveSetting(settings, 'type_popup')\r\n  if (type_popup === 'popup') {\r\n    timeout = 0\r\n  }\r\n  if (timeout != 0) {\r\n    styles += `transition-duration: ${timeout}ms;`\r\n  }\r\n  const height_custom_popup_layout = getResponsiveSetting(settings, 'height_custom_popup_layout')\r\n  if (height_custom_popup_layout) {\r\n    styles += `height:${sliderStyled(height_custom_popup_layout)};`\r\n  }\r\n  const content_position_popup_layout = getResponsiveSetting(settings, 'content_position_popup_layout')\r\n  if (content_position_popup_layout) {\r\n    styles += `justify-content:${content_position_popup_layout};`\r\n  }\r\n  const width_popup_layout = getResponsiveSetting(settings, 'width_popup_layout')\r\n  if (width_popup_layout) {\r\n    styles += `width:${sliderStyled(width_popup_layout)};`\r\n  }\r\n\r\n  const popup_bg = getResponsiveSetting(settings, 'popup_bg')\r\n  if (popup_bg) {\r\n    styles += `background-color:${popup_bg.color};`\r\n  }\r\n  const popup_pa = getResponsiveSetting(settings, 'popup_pa')\r\n  if (popup_pa) {\r\n    styles += dimensionsControllerToStyles(popup_pa, 'padding')\r\n  }\r\n  const popup_border = getResponsiveSetting(settings, 'popup_border')\r\n  if (popup_border) {\r\n    styles += `border-style:${popup_border};`\r\n  }\r\n  const popup_border_width = getResponsiveSetting(settings, 'popup_border_width')\r\n  if (popup_border_width) {\r\n    styles += dimensionsControllerToStyles(popup_border_width, 'border-width')\r\n  }\r\n  const popup_radius = getResponsiveSetting(settings, 'popup_radius')\r\n  if (popup_radius) {\r\n    styles += dimensionsControllerToStyles(popup_radius, 'border-radius')\r\n  }\r\n  const popup_border_color = getResponsiveSetting(settings, 'popup_border_color')\r\n  if (popup_border_color) {\r\n    styles += `border-color:${popup_border_color.color};`\r\n  }\r\n  const animations_offcanvas = getResponsiveSetting(settings, 'animations_offcanvas')\r\n  timeout = _.get(getResponsiveSetting(settings, 'time'), 'size', 0)\r\n  if (timeout && type_popup === 'popup' && animations_offcanvas === 'slide') {\r\n    styles += `transition-duration:${timeout}ms;`\r\n  }\r\n  return styles;\r\n}}\r\n  max-height: 100%;\r\n  max-width: 100%;\r\n}\r\n& .popup-close-button .altrp-image-placeholder svg{\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n}\r\n&.popup-transition-state{\r\n${({settings}) => {\r\n  let styles = '';\r\n  const vertical_position_popup_layout = getResponsiveSetting(settings, 'vertical_position_popup_layout')\r\n  const horizontal_position_popup_layout = getResponsiveSetting(settings, 'horizontal_position_popup_layout')\r\n  /**\r\n   * @var s_direction\r\n   * @type {string}\r\n   */\r\n  const s_direction = getResponsiveSetting(settings, 's_direction') || 'left'\r\n  let topOffset = '0';\r\n  let leftOffset = '0';\r\n  let leftOffsetEnd = '0';\r\n  let topOffsetEnd = '0';\r\n  // if(vertical_position_popup_layout === 'top' || vertical_position_popup_layout === 'bottom') {\r\n  //   topOffset = '0'\r\n  // } else {\r\n  //   topOffset = '-50%'\r\n  // }\r\n\r\n  if(horizontal_position_popup_layout === 'center') {\r\n    leftOffsetEnd = '-50%'\r\n  }\r\n  if(vertical_position_popup_layout === 'center') {\r\n    topOffsetEnd = '-50%'\r\n  }\r\n  switch (s_direction) {\r\n    case 'left': {\r\n      if(horizontal_position_popup_layout === 'center') {\r\n        leftOffset = '-100%'\r\n      } else {\r\n        leftOffset = '-50%'\r\n      }\r\n      topOffset = topOffsetEnd\r\n    } break;\r\n    case 'top': {\r\n      topOffset = '-50%'\r\n      leftOffset = leftOffsetEnd\r\n    } break;\r\n    case 'right': {\r\n      if(horizontal_position_popup_layout === 'center') {\r\n        leftOffset = '0'\r\n      } else {\r\n        leftOffset = '50%'\r\n      }\r\n      topOffset = topOffsetEnd\r\n    } break;\r\n    case 'bottom': {\r\n      topOffset = '50%'\r\n      leftOffset = leftOffsetEnd\r\n    } break;\r\n  }\r\n\r\n  styles += `&-exit-active .popup-window.popup-window.popup-window.popup-window{\r\n      opacity: 0;\r\n      transform: translate(${leftOffset}, ${topOffset});\r\n    }\r\n    &-enter .popup-window.popup-window.popup-window.popup-window{\r\n      opacity: 0;\r\n      transform: translate(${leftOffset}, ${topOffset});\r\n    }\r\n    &-enter-active .popup-window.popup-window.popup-window.popup-window{\r\n      opacity: 1;\r\n      transform: translate(${leftOffsetEnd}, ${topOffsetEnd});\r\n    }`/*\r\n    `\r\n    &-enter-done .popup-window.popup-window.popup-window{\r\n      transform: translate(${leftOffsetEnd}, ${topOffsetEnd});\r\n    }`*/\r\n  return styles\r\n}}\r\n}\r\n&.app-popup_offcanvas .popup-window{\r\n${({settings}) => {\r\n  let styles = ''\r\n  const type_popup = getResponsiveSetting(settings, 'type_popup')\r\n  if (type_popup !== 'offcanvas') {\r\n    return styles\r\n  }\r\n  let top = 0, left = 0, right = 'auto', bottom = 'auto';\r\n  const horizontal_position_popup_layout = getResponsiveSetting(settings, 'horizontal_position_popup_layout')\r\n  const vertical_position_popup_layout = getResponsiveSetting(settings, 'vertical_position_popup_layout')\r\n\r\n  switch (vertical_position_popup_layout) {\r\n    case 'bottom': {\r\n      bottom = 0\r\n      top = 'auto'\r\n    }\r\n      break;\r\n    case 'center': {\r\n      styles += 'height:100%;';\r\n    }\r\n      break;\r\n  }\r\n  switch (horizontal_position_popup_layout) {\r\n    case 'right': {\r\n      right = 0\r\n      left = 'auto'\r\n    }\r\n      break;\r\n    case 'center': {\r\n      styles += 'width:100%;';\r\n    }\r\n      break;\r\n  }\r\n  styles += `top:${top};left:${left};right:${right};bottom:${bottom};`\r\n  return styles\r\n}}\r\n}\r\n&&& .popup-close-button{\r\n  padding: 0;\r\n  ${({settings}) => {\r\n  let styles = ''\r\n  const close_pa = getResponsiveSetting(settings, 'close_pa')\r\n  if (close_pa) {\r\n    styles += dimensionsControllerToStyles(close_pa, 'padding')\r\n  }\r\n  const close_right = getResponsiveSetting(settings, 'close_right')\r\n  if (close_right) {\r\n    styles += `right:${sliderStyled(close_right)};`\r\n  }\r\n  const close_top = getResponsiveSetting(settings, 'close_top')\r\n  if (close_top) {\r\n    styles += `top:${sliderStyled(close_top)};`\r\n  }\r\n  let close_c = getResponsiveSetting(settings, 'close_c');\r\n  if (close_c) {\r\n    styles += colorPropertyStyled(close_c, 'background-color')\r\n  }\r\n  close_c = getResponsiveSetting(settings, 'close_c', '.active');\r\n  if (close_c) {\r\n    styles += `&:active{${colorPropertyStyled(close_c, 'background-color')}}`\r\n  }\r\n  close_c = getResponsiveSetting(settings, 'close_c', ':hover');\r\n  if (close_c) {\r\n    styles += `&:hover{${colorPropertyStyled(close_c, 'background-color')}}`\r\n  }\r\n  let icon_fill = getResponsiveSetting(settings, 'icon_fill');\r\n  if (icon_fill) {\r\n    styles += `& svg *{${colorPropertyStyled(icon_fill, 'fill')}}`\r\n  }\r\n  icon_fill = getResponsiveSetting(settings, 'icon_fill', ':hover');\r\n  if (icon_fill) {\r\n    styles += `&:hover svg *{${colorPropertyStyled(icon_fill, 'fill')}}`\r\n  }\r\n  icon_fill = getResponsiveSetting(settings, 'icon_fill', '.active');\r\n  if (icon_fill) {\r\n    styles += `&:active svg *{${colorPropertyStyled(icon_fill, 'fill')}}`\r\n  }\r\n  return styles;\r\n}\r\n}\r\n& .altrp-offcanvas {\r\n  ${({settings}) => {\r\n  let styles = '';\r\n  if (settings.time_offcanvas && settings.time_offcanvas.size) {\r\n    styles += `animation-duration: ${settings.time_offcanvas.size}${settings.time_offcanvas.unit} !important;`\r\n  }\r\n  return styles;\r\n}}\r\n}\r\n`\r\n\r\nexport default FrontPopupWrapper;\r\n","import {CSSTransition} from \"react-transition-group\";\r\n\r\nconst {iconsManager} = window.altrpHelpers\r\nimport { Scrollbars } from \"react-custom-scrollbars\";\r\nimport { togglePopup } from \"../store/popup-trigger/actions\";\r\nimport AltrpImage from \"../../../../editor/src/js/components/altrp-image/AltrpImage\";\r\nimport FrontPopupWrapper from \"./FrontPopupWrapper\";\r\nimport '../../sass/altrp-popup.scss'\r\n\r\nclass FrontPopup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ElementWrapper = props.ElementWrapper || window.ElementWrapper;\r\n    this.state = {\r\n      isVisible: false,\r\n      rootElement: window.frontElementsFabric.parseData(\r\n        this.props.template.data,\r\n        null,\r\n        this.props.page,\r\n        this.props.models\r\n      ),\r\n      isShownOnScroll: false\r\n    };\r\n    this.close = this.close.bind(this);\r\n  }\r\n\r\n\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let { popupTrigger } = this.props;\r\n    switch (this.state.rootElement.getSettings(\"type_popup\", \"popup\")) {\r\n      case \"popup\":\r\n        if (popupTrigger !== prevProps.popupTrigger) {\r\n          this.setState({\r\n            isVisible:\r\n              popupTrigger.popupID === _.get(this.props, \"template.guid\")\r\n          });\r\n        }\r\n        break;\r\n      case \"offcanvas\":\r\n        if (popupTrigger !== prevProps.popupTrigger) {\r\n          this.setState({\r\n            isVisible:\r\n              popupTrigger.popupID === _.get(this.props, \"template.guid\")\r\n          });\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  close = ()=> {\r\n    this.setState({ isVisible: false, isShownOnScroll: false });\r\n    this.props.closePopup();\r\n  }\r\n  onExited = ()=> {\r\n    document.body.classList.remove('overflow-hidden');\r\n    window.dispatchEvent(new Event('resize'));\r\n  }\r\n  onExit = ()=>{\r\n    const rootElement = this.state.rootElement;\r\n    const type_popup = rootElement.getResponsiveSetting('type_popup')\r\n    const animations_offcanvas = rootElement.getResponsiveSetting('animations_offcanvas')\r\n    const appContainer = document.getElementById('front-app')\r\n    const vertical_position_popup_layout = rootElement.getResponsiveSetting('vertical_position_popup_layout')\r\n    const horizontal_position_popup_layout = rootElement.getResponsiveSetting('horizontal_position_popup_layout')\r\n    if(type_popup === 'offcanvas' && animations_offcanvas === 'push' ) {\r\n      switch (vertical_position_popup_layout) {\r\n        case 'top':{\r\n          appContainer.style.top = 0\r\n          appContainer.style.bottom = 'auto'\r\n        }break;\r\n        case 'bottom':{\r\n          appContainer.style.bottom = 0\r\n          appContainer.style.top = 'auto'\r\n        }break;\r\n      }\r\n      switch (horizontal_position_popup_layout) {\r\n        case 'left':{\r\n          appContainer.style.left = 0\r\n          appContainer.style.right = 'auto'\r\n        }break;\r\n        case 'right':{\r\n          appContainer.style.right = 0\r\n          appContainer.style.left = 'auto'\r\n        }break;\r\n      }\r\n    }\r\n  }\r\n  onEntered = ()=>{\r\n  }\r\n  onExiting = ()=>{\r\n  }\r\n  onEntering = ()=>{\r\n    const rootElement = this.state.rootElement;\r\n    const type_popup = rootElement.getResponsiveSetting('type_popup')\r\n    const animations_offcanvas = rootElement.getResponsiveSetting('animations_offcanvas')\r\n    const vertical_position_popup_layout = rootElement.getResponsiveSetting('vertical_position_popup_layout')\r\n    const width_popup_layout = rootElement.getResponsiveSetting('width_popup_layout')\r\n    const height_custom_popup_layout = rootElement.getResponsiveSetting('height_custom_popup_layout')\r\n    const appContainer = document.getElementById('front-app')\r\n    const horizontal_position_popup_layout = rootElement.getResponsiveSetting('horizontal_position_popup_layout')\r\n    if(type_popup === 'offcanvas' && animations_offcanvas === 'push'){\r\n      appContainer.style.transitionDuration =  _.get(rootElement.getResponsiveSetting('time'), 'size', 0) + 'ms'\r\n      switch (vertical_position_popup_layout) {\r\n        case 'top':{\r\n          appContainer.style.top = height_custom_popup_layout?.size + (height_custom_popup_layout?.unit || 'px')\r\n          appContainer.style.bottom = 'auto'\r\n        }break;\r\n        case 'bottom':{\r\n          appContainer.style.bottom = height_custom_popup_layout?.size + (height_custom_popup_layout?.unit || 'px')\r\n          appContainer.style.top = 'auto'\r\n        }break;\r\n      }\r\n      switch (horizontal_position_popup_layout) {\r\n        case 'left':{\r\n          appContainer.style.left = width_popup_layout?.size + (width_popup_layout?.unit || 'px')\r\n          appContainer.style.right = 'auto'\r\n        }break;\r\n        case 'right':{\r\n          appContainer.style.right = width_popup_layout?.size + (width_popup_layout?.unit || 'px')\r\n          appContainer.style.left = 'auto'\r\n        }break;\r\n      }\r\n    }\r\n  }\r\n  onEnter = ()=> {\r\n    document.body.classList.add('overflow-hidden');\r\n    window.dispatchEvent(new Event('resize'));\r\n    const rootElement = this.state.rootElement;\r\n    const type_popup = rootElement.getResponsiveSetting('type_popup')\r\n    const animations_offcanvas = rootElement.getResponsiveSetting('animations_offcanvas')\r\n    const vertical_position_popup_layout = rootElement.getResponsiveSetting('vertical_position_popup_layout')\r\n    const appContainer = document.getElementById('front-app')\r\n    const horizontal_position_popup_layout = rootElement.getResponsiveSetting('horizontal_position_popup_layout')\r\n    if(type_popup === 'offcanvas' && animations_offcanvas === 'push' ) {\r\n      switch (vertical_position_popup_layout) {\r\n        case 'top':{\r\n          appContainer.style.top = 0\r\n          appContainer.style.bottom = 0\r\n        }break;\r\n        case 'bottom':{\r\n          appContainer.style.bottom = 0\r\n          appContainer.style.top = 0\r\n        }break;\r\n      }\r\n      switch (horizontal_position_popup_layout) {\r\n        case 'left':{\r\n          appContainer.style.left = 0\r\n          appContainer.style.right = 0\r\n        }break;\r\n        case 'right':{\r\n          appContainer.style.right = 0\r\n          appContainer.style.left = 0\r\n        }break;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isVisible } = this.state;\r\n    let classes = [`app-popup`];\r\n    const rootElement = this.state.rootElement;\r\n    rootElement.popupGUID = _.get(this.props, \"template.guid\");\r\n    const rootElementSettings = rootElement.getSettings(\"\");\r\n    let  popup_close_icon =  rootElement.getResponsiveSetting('popup_close_icon')\r\n    let  popup_close_icon_width_size =  rootElement.getResponsiveSetting('popup_close_icon_width_size')\r\n    let  popup_close_icon_height_size =  rootElement.getResponsiveSetting('popup_close_icon_height_size')\r\n    if(! popup_close_icon_height_size){\r\n      popup_close_icon_height_size = '50px'\r\n    } else {\r\n      popup_close_icon_height_size = `${popup_close_icon_height_size.size || '0'}${popup_close_icon_height_size.unit}`\r\n    }\r\n\r\n    if(! popup_close_icon_width_size){\r\n      popup_close_icon_width_size = '50px'\r\n    } else {\r\n      popup_close_icon_width_size = `${popup_close_icon_width_size.size || '0'}${popup_close_icon_width_size.unit}`\r\n    }\r\n    const type_popup = rootElement.getResponsiveSetting('type_popup')\r\n    if(type_popup === 'offcanvas'){\r\n      classes.push(\"app-popup_offcanvas\")\r\n    }\r\n    const rootElementId = rootElement.getId();\r\n    const close_context = rootElement.getResponsiveSetting( 'close_context')\r\n\r\n    classes.push(`${rootElementId}-app-popup`);\r\n    const overlayCondition =\r\n      rootElement.getResponsiveSetting('overlay_close_popup_layout');\r\n\r\n    if (overlayCondition) {\r\n      classes.push(\"app-popup-overlay\");\r\n    }\r\n\r\n    //height popup\r\n    switch (rootElementSettings.height_popup_layout) {\r\n      case \"fitToScreen\":\r\n        classes.push(\"app-popup-height-fit-to-screen\");\r\n        break;\r\n      case \"custom\":\r\n        classes.push(\"app-popup-height-custom\");\r\n        break;\r\n    }\r\n\r\n    //horizontal position horizontal_position_popup_layout\r\n    switch (rootElementSettings.horizontal_position_popup_layout) {\r\n      case \"left\":\r\n        classes.push(\"app-popup-horizontal-left\");\r\n        break;\r\n      case \"center\":\r\n        classes.push(\"app-popup-horizontal-center\");\r\n        break;\r\n      case \"right\":\r\n        classes.push(\"app-popup-horizontal-right\");\r\n        break;\r\n      default:\r\n        classes.push(\"app-popup-horizontal-center\");\r\n    }\r\n\r\n    //vertical position vertical_position_popup_layout\r\n    switch (rootElementSettings.vertical_position_popup_layout) {\r\n      case \"top\":\r\n        classes.push(\"app-popup-vertical-top\");\r\n        break;\r\n      case \"center\":\r\n        classes.push(\"app-popup-vertical-center\");\r\n        break;\r\n      case \"bottom\":\r\n        classes.push(\"app-popup-vertical-bottom\");\r\n        break;\r\n      default:\r\n        classes.push(\"app-popup-vertical-center\");\r\n    }\r\n\r\n    const closeButtonCondition =\r\n      rootElement.getResponsiveSetting('switcher_close_button_popup_layout');\r\n    let { popup_close_icon_alignment } = rootElementSettings;\r\n    popup_close_icon_alignment = popup_close_icon_alignment || \"right\";\r\n    const closeButton = closeButtonCondition ? (\r\n      <button\r\n        className={\r\n          \"popup-close-button\" +\r\n          (popup_close_icon_alignment === \"right\"\r\n            ? \" popup-close-button-right\"\r\n            : \" popup-close-button-left\")\r\n        }\r\n        onClick={() => {\r\n          this.setState({ isVisible: false });\r\n          this.props.closePopup();\r\n        }}\r\n      >\r\n        <AltrpImage\r\n          image={popup_close_icon}\r\n          lazy={false}\r\n          width={popup_close_icon_width_size}\r\n          height={popup_close_icon_height_size}\r\n          default={{\r\n            assetType: \"icon\",\r\n            name: \"deleteOne\",\r\n            url: \"/img/nullImage.png\"\r\n          }}\r\n          className=\"popup-close-button-icon\"\r\n        />\r\n      </button>\r\n    ) : (\r\n      <button\r\n        className={\r\n          \"popup-close-button\" +\r\n          (popup_close_icon_alignment === \"right\"\r\n            ? \" popup-close-button-right\"\r\n            : \" popup-close-button-left\")\r\n        }\r\n        onClick={() => {\r\n          this.setState({ isVisible: false });\r\n          this.props.closePopup();\r\n        }}\r\n      >\r\n        {iconsManager().renderIcon('times' ,{\r\n          width:popup_close_icon_width_size,\r\n          height:popup_close_icon_height_size,\r\n          className: \"popup-close-button-icon\"\r\n        })}\r\n      </button>\r\n    );\r\n    classes.push(\r\n      `${type_popup || 'popup'}-${rootElement.getResponsiveSetting('horizontal_position_popup_layout') || 'center'}-${rootElement.getResponsiveSetting('vertical_position_popup_layout') || 'center'}-${rootElement.getResponsiveSetting('animations_offcanvas') || 'animations_offcanvas'}`\r\n    );\r\n    const animations_offcanvas = rootElement.getResponsiveSetting('animations_offcanvas')\r\n\r\n    let timeout = _.get(rootElement.getResponsiveSetting('time'), 'size', 0)\r\n    if(type_popup === 'popup' && timeout && animations_offcanvas === 'slide'){\r\n      classes.push(`popup-slide-direction_${rootElement.getResponsiveSetting('s_direction') || 'left'}`);\r\n    }\r\n\r\n    return (\r\n    <CSSTransition\r\n      in={isVisible}\r\n      timeout={Number(timeout)}\r\n      onEnter={this.onEnter}\r\n      onEntering={this.onEntering}\r\n      onEntered={this.onEntered}\r\n      onExit={this.onExit}\r\n      onExiting={this.onExiting}\r\n      onExited={this.onExited}\r\n      unmountOnExit={true}\r\n      classNames=\"popup-transition-state\">\r\n      <FrontPopupWrapper\r\n        settings={rootElementSettings}\r\n        className={classes.join(\" \")}\r\n        onClick={() => {\r\n          if (\r\n            overlayCondition\r\n          ) {\r\n            this.setState({ isVisible: false });\r\n            this.props.closePopup();\r\n          }\r\n        }}\r\n      >\r\n        {close_context === 'window' && closeButton}\r\n        <div\r\n          className=\"popup-window\"\r\n          // style={{ top: positioning_custom_top.size + positioning_custom_top.unit}}\r\n          onClick={e => e.stopPropagation()}\r\n        >\r\n          {close_context !== 'window' && closeButton}\r\n          <Scrollbars\r\n            autoHide\r\n            renderThumbHorizontal={props => (\r\n              <div {...props} className=\"popup-scrollbar-vertical\" />\r\n            )}\r\n            renderTrackHorizontal={() => (\r\n              <div className=\"popup-scrollbar-track-horizontal\" />\r\n            )}\r\n            renderTrackVertical={props => (\r\n              <div {...props} className=\"popup-scrollbar-track-vertical\" />\r\n            )}\r\n            className=\"popup-scrollbar\"\r\n            autoHideTimeout={1000}\r\n            autoHideDuration={200}\r\n          >\r\n            <div className=\"popup-content\">\r\n              {React.createElement(rootElement.componentClass, {\r\n                element: rootElement,\r\n                ElementWrapper :this.ElementWrapper,\r\n                children: rootElement.children\r\n              })}\r\n            </div>\r\n          </Scrollbars>\r\n        </div>\r\n      </FrontPopupWrapper>\r\n    </CSSTransition>\r\n  );\r\n\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    scrollPosition: state.scrollPosition,\r\n    popupTrigger: state.popupTrigger\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    closePopup: () => dispatch(togglePopup(null))\r\n  };\r\n};\r\n\r\nexport default window.reactRedux.connect(mapStateToProps, mapDispatchToProps)(FrontPopup);\r\n"],"sourceRoot":""}