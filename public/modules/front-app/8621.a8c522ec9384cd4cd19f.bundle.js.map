{"version":3,"sources":["webpack:///./node_modules/@blueprintjs/core/lib/esm/common/abstractComponent2.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/common/classes.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/common/itemListRenderer.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/common/listItemsProps.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/common/listItemsUtils.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/components/query-list/queryList.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/components/omnibar/omnibar.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/components/select/multiSelect.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/components/select/select.js","webpack:///./node_modules/@blueprintjs/select/lib/esm/components/select/suggest.js"],"names":["AbstractComponent2","_super","props","context","_this","call","this","timeoutIds","requestIds","clearTimeouts","length","_i","_a","timeoutId","window","clearTimeout","cancelAnimationFrames","requestId","cancelAnimationFrame","validateProps","prototype","componentDidUpdate","_prevProps","_prevState","_snapshot","componentWillUnmount","requestAnimationFrame","callback","handle","push","setTimeout","timeout","_props","NS","MULTISELECT","MULTISELECT_POPOVER","MULTISELECT_TAG_INPUT_INPUT","OMNIBAR","OMNIBAR_OVERLAY","SELECT","SELECT_POPOVER","SELECT_MATCH_TARGET_WIDTH","renderFilteredItems","noResults","initialContent","query","undefined","items","filteredItems","map","renderItem","filter","item","executeItemsEqual","itemsEqualProp","itemA","itemB","getCreateNewItem","__blueprintCreateNewItemBrand","isCreateNewItem","keys","Object","getActiveItem","activeItem","QueryList","_b","refHandlers","itemsParent","ref","itemsParentRef","shouldCheckActiveItemInViewport","expectedNextActiveItem","isEnterKeyPressed","renderItemList","listProps","createItemView","renderCreateItem","menuContent","createFirst","isCreateItemFirst","ulRef","index","disabled","state","matchesPredicate","indexOf","modifiers","active","itemsEqual","isItemDisabled","itemDisabled","itemRenderer","handleClick","e","handleItemSelect","renderCreateItemMenuItem","isCreateItemRendered","trimmedQuery_1","trim","isActive","createNewItemRenderer","evt","handleItemCreate","_c","_d","createNewItemFromQuery","onItemSelect","maybeResetQuery","event","setActiveItem","handlePaste","queries","nextActiveItem","onItemsPaste","nextQueries","pastedItemsToEmit","queries_1","equalItem","getMatchingItem","canCreateItems","newItem","setQuery","join","handleKeyDown","keyCode","preventDefault","getNextActiveItem","onKeyDown","handleKeyUp","onKeyUp","handleInputQueryChange","target","value","onQueryChange","createNewItem","getFilteredItems","initialActiveItem","getFirstEnabledItem","ofType","render","className","renderer","itemListRenderer","spreadableState","handleQueryChange","itemList","prevProps","setState","resetOnQuery","include","scrollActiveItemIntoView","scrollToActiveItem","externalChangeToActiveItem","activeElement","getActiveElement","activeTop","offsetTop","activeHeight","offsetHeight","parentOffsetTop","parentScrollTop","scrollTop","parentHeight","clientHeight","getItemsParentPadding","paddingTop","activeBottomEdge","paddingBottom","activeTopEdge","resetActiveItem","trimmedQuery","activeIndex","getActiveIndex","onActiveItemChange","children","i","getComputedStyle","pxToNumber","direction","startIndex","wouldCreatedItemMatchSomeExistingItem","createNewItemPosition","some","resetOnSelect","displayName","defaultProps","parseInt","slice","itemPredicate","itemListPredicate","max","maxIndex","Omnibar","apply","arguments","TypedQueryList","renderQueryList","inputProps","isOpen","overlayProps","handlers","hasBackdrop","onClose","handleOverlayClose","autoFocus","large","leftIcon","placeholder","onChange","restProps","MultiSelect","popoverProps","input","queryList","tagInputProps","inputRef","fill","_e","selectedItems","canEscapeKeyClose","enforceFocus","position","interactionKind","onInteraction","handlePopoverInteraction","popoverClassName","onOpened","handlePopoverOpened","getTagInputKeyDownHandler","getTagInputKeyUpHandler","inputValue","onAdd","values","method","onInputChange","onRemove","handleTagRemove","tagRenderer","focus","openOnKeyDown","nextOpenState","isInputFocused","document","node","tag","handleQueryListKeyDown","which","blur","isTargetingTagRemoveButton","closest","handleQueryListKeyUp","isTargetingInput","classList","contains","Select","inputElement","handleInputRef","handleQueryListRef","filterable","_f","matchTargetWidth","minWidth","enabled","fn","data","styles","width","offsets","reference","order","usePortal","wrapperTagName","rightElement","maybeRenderClearButton","onOpening","handlePopoverOpening","onClosing","handlePopoverClosing","handleTargetKeyDown","previousFocusedElement","resetOnClose","resetQuery","prevState","icon","minimal","onClick","Suggest","selectedItem","getInitialSelectedItem","autoComplete","selectedItemText","inputValueRenderer","inputPlaceholder","onFocus","handleInputFocus","getTargetKeyDownHandler","getTargetKeyUpHandler","selectText","setSelectionRange","closeOnSelect","_g","transitionDuration","maybeResetActiveItemToSelectedItem","defaultSelectedItem","shouldResetActiveItemToSelectedItem"],"mappings":"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","file":"8621.a8c522ec9384cd4cd19f.bundle.js","sourcesContent":["/*\n * Copyright 2019 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __extends } from \"tslib\";\nimport * as React from \"react\";\nimport { isNodeEnv } from \"./utils\";\n/**\n * An abstract component that Blueprint components can extend\n * in order to add some common functionality like runtime props validation.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nvar AbstractComponent2 = /** @class */ (function (_super) {\n    __extends(AbstractComponent2, _super);\n    function AbstractComponent2(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        // Not bothering to remove entries when their timeouts finish because clearing invalid ID is a no-op\n        _this.timeoutIds = [];\n        _this.requestIds = [];\n        /**\n         * Clear all known timeouts.\n         */\n        _this.clearTimeouts = function () {\n            if (_this.timeoutIds.length > 0) {\n                for (var _i = 0, _a = _this.timeoutIds; _i < _a.length; _i++) {\n                    var timeoutId = _a[_i];\n                    window.clearTimeout(timeoutId);\n                }\n                _this.timeoutIds = [];\n            }\n        };\n        /**\n         * Clear all known animation frame requests.\n         */\n        _this.cancelAnimationFrames = function () {\n            if (_this.requestIds.length > 0) {\n                for (var _i = 0, _a = _this.requestIds; _i < _a.length; _i++) {\n                    var requestId = _a[_i];\n                    window.cancelAnimationFrame(requestId);\n                }\n                _this.requestIds = [];\n            }\n        };\n        if (!isNodeEnv(\"production\")) {\n            _this.validateProps(_this.props);\n        }\n        return _this;\n    }\n    AbstractComponent2.prototype.componentDidUpdate = function (_prevProps, _prevState, _snapshot) {\n        if (!isNodeEnv(\"production\")) {\n            this.validateProps(this.props);\n        }\n    };\n    AbstractComponent2.prototype.componentWillUnmount = function () {\n        this.clearTimeouts();\n        this.cancelAnimationFrames();\n    };\n    /**\n     * Request an animation frame and remember its ID.\n     * All pending requests will be canceled when component unmounts.\n     *\n     * @returns a \"cancel\" function that will cancel the request when invoked.\n     */\n    AbstractComponent2.prototype.requestAnimationFrame = function (callback) {\n        var handle = window.requestAnimationFrame(callback);\n        this.requestIds.push(handle);\n        return function () { return window.cancelAnimationFrame(handle); };\n    };\n    /**\n     * Set a timeout and remember its ID.\n     * All stored timeouts will be cleared when component unmounts.\n     *\n     * @returns a \"cancel\" function that will clear timeout when invoked.\n     */\n    AbstractComponent2.prototype.setTimeout = function (callback, timeout) {\n        var handle = window.setTimeout(callback, timeout);\n        this.timeoutIds.push(handle);\n        return function () { return window.clearTimeout(handle); };\n    };\n    /**\n     * Ensures that the props specified for a component are valid.\n     * Implementations should check that props are valid and usually throw an Error if they are not.\n     * Implementations should not duplicate checks that the type system already guarantees.\n     *\n     * This method should be used instead of React's\n     * [propTypes](https://facebook.github.io/react/docs/reusable-components.html#prop-validation) feature.\n     * Like propTypes, these runtime checks run only in development mode.\n     */\n    AbstractComponent2.prototype.validateProps = function (_props) {\n        // implement in subclass\n    };\n    return AbstractComponent2;\n}(React.Component));\nexport { AbstractComponent2 };\n//# sourceMappingURL=abstractComponent2.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Classes } from \"@blueprintjs/core\";\nvar NS = Classes.getClassNamespace();\nexport var MULTISELECT = NS + \"-multi-select\";\nexport var MULTISELECT_POPOVER = MULTISELECT + \"-popover\";\nexport var MULTISELECT_TAG_INPUT_INPUT = MULTISELECT + \"-tag-input-input\";\nexport var OMNIBAR = NS + \"-omnibar\";\nexport var OMNIBAR_OVERLAY = OMNIBAR + \"-overlay\";\nexport var SELECT = NS + \"-select\";\nexport var SELECT_POPOVER = SELECT + \"-popover\";\nexport var SELECT_MATCH_TARGET_WIDTH = SELECT + \"-match-target-width\";\n//# sourceMappingURL=classes.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * `ItemListRenderer` helper method for rendering each item in `filteredItems`,\n * with optional support for `noResults` (when filtered items is empty)\n * and `initialContent` (when query is empty).\n */\nexport function renderFilteredItems(props, noResults, initialContent) {\n    if (props.query.length === 0 && initialContent !== undefined) {\n        return initialContent;\n    }\n    var items = props.filteredItems.map(props.renderItem).filter(function (item) { return item != null; });\n    return items.length > 0 ? items : noResults;\n}\n//# sourceMappingURL=itemListRenderer.js.map","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Utils } from \"@blueprintjs/core\";\n/**\n * Utility function for executing the {@link IListItemsProps#itemsEqual} prop to test\n * for equality between two items.\n *\n * @return `true` if the two items are equivalent according to `itemsEqualProp`.\n */\nexport function executeItemsEqual(itemsEqualProp, itemA, itemB) {\n    // Use strict equality if:\n    // A) Default equality check is necessary because itemsEqualProp is undefined.\n    // OR\n    // B) Either item is null/undefined. Note that null represents \"no item\", while\n    //    undefined represents an uncontrolled prop. This strict equality check ensures\n    //    nothing will ever be considered equivalent to an uncontrolled prop.\n    if (itemsEqualProp === undefined || itemA == null || itemB == null) {\n        return itemA === itemB;\n    }\n    if (Utils.isFunction(itemsEqualProp)) {\n        // itemsEqualProp is an equality comparator function, so use it\n        return itemsEqualProp(itemA, itemB);\n    }\n    else {\n        // itemsEqualProp is a property name, so strictly compare the values of the property.\n        return itemA[itemsEqualProp] === itemB[itemsEqualProp];\n    }\n}\n//# sourceMappingURL=listItemsProps.js.map","/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Returns an instance of a \"Create Item\" object. */\nexport function getCreateNewItem() {\n    return { __blueprintCreateNewItemBrand: \"blueprint-create-new-item\" };\n}\n/**\n * Type guard returning `true` if the provided item (e.g. the current\n * `activeItem`) is a \"Create Item\" option.\n */\nexport function isCreateNewItem(item) {\n    if (item == null) {\n        return false;\n    }\n    // see if the provided item exactly matches the `ICreateNewItem` object,\n    // with no superfluous keys.\n    var keys = Object.keys(item);\n    if (keys.length !== 1 || keys[0] !== \"__blueprintCreateNewItemBrand\") {\n        return false;\n    }\n    return item.__blueprintCreateNewItemBrand === \"blueprint-create-new-item\";\n}\n/**\n * Returns the type of the the current active item. This will be a no-op unless\n * the `activeItem` is `undefined` or a \"Create Item\" option, in which case\n * `null` will be returned instead.\n */\nexport function getActiveItem(activeItem) {\n    return activeItem == null || isCreateNewItem(activeItem) ? null : activeItem;\n}\n//# sourceMappingURL=listItemsUtils.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport * as React from \"react\";\nimport { AbstractComponent2, DISPLAYNAME_PREFIX, Keys, Menu, Utils } from \"@blueprintjs/core\";\nimport { executeItemsEqual, getActiveItem, getCreateNewItem, isCreateNewItem, renderFilteredItems, } from \"../../common\";\nvar QueryList = /** @class */ (function (_super) {\n    __extends(QueryList, _super);\n    function QueryList(props, context) {\n        var _a, _b;\n        var _this = _super.call(this, props, context) || this;\n        _this.refHandlers = {\n            itemsParent: function (ref) { return (_this.itemsParentRef = ref); },\n        };\n        /**\n         * Flag indicating that we should check whether selected item is in viewport\n         * after rendering, typically because of keyboard change. Set to `true` when\n         * manipulating state in a way that may cause active item to scroll away.\n         */\n        _this.shouldCheckActiveItemInViewport = false;\n        /**\n         * The item that we expect to be the next selected active item (based on click\n         * or key interactions). When scrollToActiveItem = false, used to detect if\n         * an unexpected external change to the active item has been made.\n         */\n        _this.expectedNextActiveItem = null;\n        /**\n         * Flag which is set to true while in between an ENTER \"keydown\" event and its\n         * corresponding \"keyup\" event.\n         *\n         * When entering text via an IME (https://en.wikipedia.org/wiki/Input_method),\n         * the ENTER key is pressed to confirm the character(s) to be input from a list\n         * of options. The operating system intercepts the ENTER \"keydown\" event and\n         * prevents it from propagating to the application, but \"keyup\" is still\n         * fired, triggering a spurious event which this component does not expect.\n         *\n         * To work around this quirk, we keep track of \"real\" key presses by setting\n         * this flag in handleKeyDown.\n         */\n        _this.isEnterKeyPressed = false;\n        /** default `itemListRenderer` implementation */\n        _this.renderItemList = function (listProps) {\n            var _a = _this.props, initialContent = _a.initialContent, noResults = _a.noResults;\n            // omit noResults if createNewItemFromQuery and createNewItemRenderer are both supplied, and query is not empty\n            var createItemView = listProps.renderCreateItem();\n            var maybeNoResults = createItemView != null ? null : noResults;\n            var menuContent = renderFilteredItems(listProps, maybeNoResults, initialContent);\n            if (menuContent == null && createItemView == null) {\n                return null;\n            }\n            var createFirst = _this.isCreateItemFirst();\n            return (React.createElement(Menu, { ulRef: listProps.itemsParentRef },\n                createFirst && createItemView,\n                menuContent,\n                !createFirst && createItemView));\n        };\n        /** wrapper around `itemRenderer` to inject props */\n        _this.renderItem = function (item, index) {\n            if (_this.props.disabled !== true) {\n                var _a = _this.state, activeItem = _a.activeItem, query = _a.query;\n                var matchesPredicate = _this.state.filteredItems.indexOf(item) >= 0;\n                var modifiers = {\n                    active: executeItemsEqual(_this.props.itemsEqual, getActiveItem(activeItem), item),\n                    disabled: isItemDisabled(item, index, _this.props.itemDisabled),\n                    matchesPredicate: matchesPredicate,\n                };\n                return _this.props.itemRenderer(item, {\n                    handleClick: function (e) { return _this.handleItemSelect(item, e); },\n                    index: index,\n                    modifiers: modifiers,\n                    query: query,\n                });\n            }\n            return null;\n        };\n        _this.renderCreateItemMenuItem = function () {\n            if (_this.isCreateItemRendered()) {\n                var _a = _this.state, activeItem = _a.activeItem, query = _a.query;\n                var trimmedQuery_1 = query.trim();\n                var handleClick = function (evt) {\n                    _this.handleItemCreate(trimmedQuery_1, evt);\n                };\n                var isActive = isCreateNewItem(activeItem);\n                return _this.props.createNewItemRenderer(trimmedQuery_1, isActive, handleClick);\n            }\n            return null;\n        };\n        _this.handleItemCreate = function (query, evt) {\n            var _a, _b, _c, _d;\n            // we keep a cached createNewItem in state, but might as well recompute\n            // the result just to be sure it's perfectly in sync with the query.\n            var item = (_b = (_a = _this.props).createNewItemFromQuery) === null || _b === void 0 ? void 0 : _b.call(_a, query);\n            if (item != null) {\n                (_d = (_c = _this.props).onItemSelect) === null || _d === void 0 ? void 0 : _d.call(_c, item, evt);\n                _this.maybeResetQuery();\n            }\n        };\n        _this.handleItemSelect = function (item, event) {\n            var _a, _b;\n            _this.setActiveItem(item);\n            (_b = (_a = _this.props).onItemSelect) === null || _b === void 0 ? void 0 : _b.call(_a, item, event);\n            _this.maybeResetQuery();\n        };\n        _this.handlePaste = function (queries) {\n            var _a = _this.props, createNewItemFromQuery = _a.createNewItemFromQuery, onItemsPaste = _a.onItemsPaste;\n            var nextActiveItem;\n            var nextQueries = [];\n            // Find an exising item that exactly matches each pasted value, or\n            // create a new item if possible. Ignore unmatched values if creating\n            // items is disabled.\n            var pastedItemsToEmit = [];\n            for (var _i = 0, queries_1 = queries; _i < queries_1.length; _i++) {\n                var query = queries_1[_i];\n                var equalItem = getMatchingItem(query, _this.props);\n                if (equalItem !== undefined) {\n                    nextActiveItem = equalItem;\n                    pastedItemsToEmit.push(equalItem);\n                }\n                else if (_this.canCreateItems()) {\n                    var newItem = createNewItemFromQuery === null || createNewItemFromQuery === void 0 ? void 0 : createNewItemFromQuery(query);\n                    if (newItem !== undefined) {\n                        pastedItemsToEmit.push(newItem);\n                    }\n                }\n                else {\n                    nextQueries.push(query);\n                }\n            }\n            // UX nicety: combine all unmatched queries into a single\n            // comma-separated query in the input, so we don't lose any information.\n            // And don't reset the active item; we'll do that ourselves below.\n            _this.setQuery(nextQueries.join(\", \"), false);\n            // UX nicety: update the active item if we matched with at least one\n            // existing item.\n            if (nextActiveItem !== undefined) {\n                _this.setActiveItem(nextActiveItem);\n            }\n            onItemsPaste === null || onItemsPaste === void 0 ? void 0 : onItemsPaste(pastedItemsToEmit);\n        };\n        _this.handleKeyDown = function (event) {\n            var _a, _b;\n            // eslint-disable-next-line deprecation/deprecation\n            var keyCode = event.keyCode;\n            if (keyCode === Keys.ARROW_UP || keyCode === Keys.ARROW_DOWN) {\n                event.preventDefault();\n                var nextActiveItem = _this.getNextActiveItem(keyCode === Keys.ARROW_UP ? -1 : 1);\n                if (nextActiveItem != null) {\n                    _this.setActiveItem(nextActiveItem);\n                }\n            }\n            else if (keyCode === Keys.ENTER) {\n                _this.isEnterKeyPressed = true;\n            }\n            (_b = (_a = _this.props).onKeyDown) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n        };\n        _this.handleKeyUp = function (event) {\n            var onKeyUp = _this.props.onKeyUp;\n            var activeItem = _this.state.activeItem;\n            // eslint-disable-next-line deprecation/deprecation\n            if (event.keyCode === Keys.ENTER && _this.isEnterKeyPressed) {\n                // We handle ENTER in keyup here to play nice with the Button component's keyboard\n                // clicking. Button is commonly used as the only child of Select. If we were to\n                // instead process ENTER on keydown, then Button would click itself on keyup and\n                // the Select popover would re-open.\n                event.preventDefault();\n                if (activeItem == null || isCreateNewItem(activeItem)) {\n                    _this.handleItemCreate(_this.state.query, event);\n                }\n                else {\n                    _this.handleItemSelect(activeItem, event);\n                }\n                _this.isEnterKeyPressed = false;\n            }\n            onKeyUp === null || onKeyUp === void 0 ? void 0 : onKeyUp(event);\n        };\n        _this.handleInputQueryChange = function (event) {\n            var _a, _b;\n            var query = event == null ? \"\" : event.target.value;\n            _this.setQuery(query);\n            (_b = (_a = _this.props).onQueryChange) === null || _b === void 0 ? void 0 : _b.call(_a, query, event);\n        };\n        var _c = props.query, query = _c === void 0 ? \"\" : _c;\n        var createNewItem = (_a = props.createNewItemFromQuery) === null || _a === void 0 ? void 0 : _a.call(props, query);\n        var filteredItems = getFilteredItems(query, props);\n        _this.state = {\n            activeItem: props.activeItem !== undefined\n                ? props.activeItem\n                : (_b = props.initialActiveItem) !== null && _b !== void 0 ? _b : getFirstEnabledItem(filteredItems, props.itemDisabled),\n            createNewItem: createNewItem,\n            filteredItems: filteredItems,\n            query: query,\n        };\n        return _this;\n    }\n    QueryList.ofType = function () {\n        return QueryList;\n    };\n    QueryList.prototype.render = function () {\n        var _a = this.props, className = _a.className, items = _a.items, renderer = _a.renderer, _b = _a.itemListRenderer, itemListRenderer = _b === void 0 ? this.renderItemList : _b;\n        var _c = this.state, createNewItem = _c.createNewItem, spreadableState = __rest(_c, [\"createNewItem\"]);\n        return renderer(__assign(__assign({}, spreadableState), { className: className, handleItemSelect: this.handleItemSelect, handleKeyDown: this.handleKeyDown, handleKeyUp: this.handleKeyUp, handlePaste: this.handlePaste, handleQueryChange: this.handleInputQueryChange, itemList: itemListRenderer(__assign(__assign({}, spreadableState), { items: items, itemsParentRef: this.refHandlers.itemsParent, renderCreateItem: this.renderCreateItemMenuItem, renderItem: this.renderItem })) }));\n    };\n    QueryList.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        if (this.props.activeItem !== undefined && this.props.activeItem !== this.state.activeItem) {\n            this.shouldCheckActiveItemInViewport = true;\n            this.setState({ activeItem: this.props.activeItem });\n        }\n        if (this.props.query != null && this.props.query !== prevProps.query) {\n            // new query\n            this.setQuery(this.props.query, this.props.resetOnQuery, this.props);\n        }\n        else if (\n        // same query (or uncontrolled query), but items in the list changed\n        !Utils.shallowCompareKeys(this.props, prevProps, {\n            include: [\"items\", \"itemListPredicate\", \"itemPredicate\"],\n        })) {\n            this.setQuery(this.state.query);\n        }\n        if (this.shouldCheckActiveItemInViewport) {\n            // update scroll position immediately before repaint so DOM is accurate\n            // (latest filteredItems) and to avoid flicker.\n            this.requestAnimationFrame(function () { return _this.scrollActiveItemIntoView(); });\n            // reset the flag\n            this.shouldCheckActiveItemInViewport = false;\n        }\n    };\n    QueryList.prototype.scrollActiveItemIntoView = function () {\n        var scrollToActiveItem = this.props.scrollToActiveItem !== false;\n        var externalChangeToActiveItem = !executeItemsEqual(this.props.itemsEqual, getActiveItem(this.expectedNextActiveItem), getActiveItem(this.props.activeItem));\n        this.expectedNextActiveItem = null;\n        if (!scrollToActiveItem && externalChangeToActiveItem) {\n            return;\n        }\n        var activeElement = this.getActiveElement();\n        if (this.itemsParentRef != null && activeElement != null) {\n            var activeTop = activeElement.offsetTop, activeHeight = activeElement.offsetHeight;\n            var _a = this.itemsParentRef, parentOffsetTop = _a.offsetTop, parentScrollTop = _a.scrollTop, parentHeight = _a.clientHeight;\n            // compute padding on parent element to ensure we always leave space\n            var _b = this.getItemsParentPadding(), paddingTop = _b.paddingTop, paddingBottom = _b.paddingBottom;\n            // compute the two edges of the active item for comparison, including parent padding\n            var activeBottomEdge = activeTop + activeHeight + paddingBottom - parentOffsetTop;\n            var activeTopEdge = activeTop - paddingTop - parentOffsetTop;\n            if (activeBottomEdge >= parentScrollTop + parentHeight) {\n                // offscreen bottom: align bottom of item with bottom of viewport\n                this.itemsParentRef.scrollTop = activeBottomEdge + activeHeight - parentHeight;\n            }\n            else if (activeTopEdge <= parentScrollTop) {\n                // offscreen top: align top of item with top of viewport\n                this.itemsParentRef.scrollTop = activeTopEdge - activeHeight;\n            }\n        }\n    };\n    QueryList.prototype.setQuery = function (query, resetActiveItem, props) {\n        var _a;\n        if (resetActiveItem === void 0) { resetActiveItem = this.props.resetOnQuery; }\n        if (props === void 0) { props = this.props; }\n        var createNewItemFromQuery = props.createNewItemFromQuery;\n        this.shouldCheckActiveItemInViewport = true;\n        var hasQueryChanged = query !== this.state.query;\n        if (hasQueryChanged) {\n            (_a = props.onQueryChange) === null || _a === void 0 ? void 0 : _a.call(props, query);\n        }\n        // Leading and trailing whitespace can be confusing to display, so we remove it when passing it\n        // to functions dealing with data, like createNewItemFromQuery. But we need the unaltered user-typed\n        // query to remain in state to be able to render controlled text inputs properly.\n        var trimmedQuery = query.trim();\n        var filteredItems = getFilteredItems(trimmedQuery, props);\n        var createNewItem = createNewItemFromQuery != null && trimmedQuery !== \"\" ? createNewItemFromQuery(trimmedQuery) : undefined;\n        this.setState({ createNewItem: createNewItem, filteredItems: filteredItems, query: query });\n        // always reset active item if it's now filtered or disabled\n        var activeIndex = this.getActiveIndex(filteredItems);\n        var shouldUpdateActiveItem = resetActiveItem ||\n            activeIndex < 0 ||\n            isItemDisabled(getActiveItem(this.state.activeItem), activeIndex, props.itemDisabled);\n        if (shouldUpdateActiveItem) {\n            // if the `createNewItem` is first, that should be the first active item.\n            if (this.isCreateItemRendered() && this.isCreateItemFirst()) {\n                this.setActiveItem(getCreateNewItem());\n            }\n            else {\n                this.setActiveItem(getFirstEnabledItem(filteredItems, props.itemDisabled));\n            }\n        }\n    };\n    QueryList.prototype.setActiveItem = function (activeItem) {\n        var _a, _b, _c, _d;\n        this.expectedNextActiveItem = activeItem;\n        if (this.props.activeItem === undefined) {\n            // indicate that the active item may need to be scrolled into view after update.\n            this.shouldCheckActiveItemInViewport = true;\n            this.setState({ activeItem: activeItem });\n        }\n        if (isCreateNewItem(activeItem)) {\n            (_b = (_a = this.props).onActiveItemChange) === null || _b === void 0 ? void 0 : _b.call(_a, null, true);\n        }\n        else {\n            (_d = (_c = this.props).onActiveItemChange) === null || _d === void 0 ? void 0 : _d.call(_c, activeItem, false);\n        }\n    };\n    QueryList.prototype.getActiveElement = function () {\n        var activeItem = this.state.activeItem;\n        if (this.itemsParentRef != null) {\n            if (isCreateNewItem(activeItem)) {\n                var index = this.isCreateItemFirst() ? 0 : this.state.filteredItems.length;\n                return this.itemsParentRef.children.item(index);\n            }\n            else {\n                var activeIndex = this.getActiveIndex();\n                return this.itemsParentRef.children.item(activeIndex);\n            }\n        }\n        return undefined;\n    };\n    QueryList.prototype.getActiveIndex = function (items) {\n        if (items === void 0) { items = this.state.filteredItems; }\n        var activeItem = this.state.activeItem;\n        if (activeItem == null || isCreateNewItem(activeItem)) {\n            return -1;\n        }\n        // NOTE: this operation is O(n) so it should be avoided in render(). safe for events though.\n        for (var i = 0; i < items.length; ++i) {\n            if (executeItemsEqual(this.props.itemsEqual, items[i], activeItem)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    QueryList.prototype.getItemsParentPadding = function () {\n        // assert ref exists because it was checked before calling\n        var _a = getComputedStyle(this.itemsParentRef), paddingTop = _a.paddingTop, paddingBottom = _a.paddingBottom;\n        return {\n            paddingBottom: pxToNumber(paddingBottom),\n            paddingTop: pxToNumber(paddingTop),\n        };\n    };\n    /**\n     * Get the next enabled item, moving in the given direction from the start\n     * index. A `null` return value means no suitable item was found.\n     *\n     * @param direction amount to move in each iteration, typically +/-1\n     * @param startIndex item to start iteration\n     */\n    QueryList.prototype.getNextActiveItem = function (direction, startIndex) {\n        if (startIndex === void 0) { startIndex = this.getActiveIndex(); }\n        if (this.isCreateItemRendered()) {\n            var reachedCreate = (startIndex === 0 && direction === -1) ||\n                (startIndex === this.state.filteredItems.length - 1 && direction === 1);\n            if (reachedCreate) {\n                return getCreateNewItem();\n            }\n        }\n        return getFirstEnabledItem(this.state.filteredItems, this.props.itemDisabled, direction, startIndex);\n    };\n    QueryList.prototype.isCreateItemRendered = function () {\n        return (this.canCreateItems() &&\n            this.state.query !== \"\" &&\n            // this check is unfortunately O(N) on the number of items, but\n            // alas, hiding the \"Create Item\" option when it exactly matches an\n            // existing item is much clearer.\n            !this.wouldCreatedItemMatchSomeExistingItem());\n    };\n    QueryList.prototype.isCreateItemFirst = function () {\n        return this.props.createNewItemPosition === \"first\";\n    };\n    QueryList.prototype.canCreateItems = function () {\n        return this.props.createNewItemFromQuery != null && this.props.createNewItemRenderer != null;\n    };\n    QueryList.prototype.wouldCreatedItemMatchSomeExistingItem = function () {\n        var _this = this;\n        // search only the filtered items, not the full items list, because we\n        // only need to check items that match the current query.\n        return this.state.filteredItems.some(function (item) {\n            return executeItemsEqual(_this.props.itemsEqual, item, _this.state.createNewItem);\n        });\n    };\n    QueryList.prototype.maybeResetQuery = function () {\n        if (this.props.resetOnSelect) {\n            this.setQuery(\"\", true);\n        }\n    };\n    QueryList.displayName = DISPLAYNAME_PREFIX + \".QueryList\";\n    QueryList.defaultProps = {\n        disabled: false,\n        resetOnQuery: true,\n    };\n    return QueryList;\n}(AbstractComponent2));\nexport { QueryList };\nfunction pxToNumber(value) {\n    return value == null ? 0 : parseInt(value.slice(0, -2), 10);\n}\nfunction getMatchingItem(query, _a) {\n    var items = _a.items, itemPredicate = _a.itemPredicate;\n    if (Utils.isFunction(itemPredicate)) {\n        // .find() doesn't exist in ES5. Alternative: use a for loop instead of\n        // .filter() so that we can return as soon as we find the first match.\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (itemPredicate(query, item, i, true)) {\n                return item;\n            }\n        }\n    }\n    return undefined;\n}\nfunction getFilteredItems(query, _a) {\n    var items = _a.items, itemPredicate = _a.itemPredicate, itemListPredicate = _a.itemListPredicate;\n    if (Utils.isFunction(itemListPredicate)) {\n        // note that implementations can reorder the items here\n        return itemListPredicate(query, items);\n    }\n    else if (Utils.isFunction(itemPredicate)) {\n        return items.filter(function (item, index) { return itemPredicate(query, item, index); });\n    }\n    return items;\n}\n/** Wrap number around min/max values: if it exceeds one bound, return the other. */\nfunction wrapNumber(value, min, max) {\n    if (value < min) {\n        return max;\n    }\n    else if (value > max) {\n        return min;\n    }\n    return value;\n}\nfunction isItemDisabled(item, index, itemDisabled) {\n    if (itemDisabled == null || item == null) {\n        return false;\n    }\n    else if (Utils.isFunction(itemDisabled)) {\n        return itemDisabled(item, index);\n    }\n    return !!item[itemDisabled];\n}\n/**\n * Get the next enabled item, moving in the given direction from the start\n * index. A `null` return value means no suitable item was found.\n *\n * @param items the list of items\n * @param itemDisabled callback to determine if a given item is disabled\n * @param direction amount to move in each iteration, typically +/-1\n * @param startIndex which index to begin moving from\n */\nexport function getFirstEnabledItem(items, itemDisabled, direction, startIndex) {\n    if (direction === void 0) { direction = 1; }\n    if (startIndex === void 0) { startIndex = items.length - 1; }\n    if (items.length === 0) {\n        return null;\n    }\n    // remember where we started to prevent an infinite loop\n    var index = startIndex;\n    var maxIndex = items.length - 1;\n    do {\n        // find first non-disabled item\n        index = wrapNumber(index + direction, 0, maxIndex);\n        if (!isItemDisabled(items[index], index, itemDisabled)) {\n            return items[index];\n        }\n    } while (index !== startIndex && startIndex !== -1);\n    return null;\n}\n//# sourceMappingURL=queryList.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { DISPLAYNAME_PREFIX, InputGroup, Overlay } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\nvar Omnibar = /** @class */ (function (_super) {\n    __extends(Omnibar, _super);\n    function Omnibar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.TypedQueryList = QueryList.ofType();\n        _this.renderQueryList = function (listProps) {\n            var _a = _this.props, _b = _a.inputProps, inputProps = _b === void 0 ? {} : _b, isOpen = _a.isOpen, _c = _a.overlayProps, overlayProps = _c === void 0 ? {} : _c;\n            var handleKeyDown = listProps.handleKeyDown, handleKeyUp = listProps.handleKeyUp;\n            var handlers = isOpen ? { onKeyDown: handleKeyDown, onKeyUp: handleKeyUp } : {};\n            return (React.createElement(Overlay, __assign({ hasBackdrop: true }, overlayProps, { isOpen: isOpen, className: classNames(Classes.OMNIBAR_OVERLAY, overlayProps.className), onClose: _this.handleOverlayClose }),\n                React.createElement(\"div\", __assign({ className: classNames(Classes.OMNIBAR, listProps.className) }, handlers),\n                    React.createElement(InputGroup, __assign({ autoFocus: true, large: true, leftIcon: \"search\", placeholder: \"Search...\" }, inputProps, { onChange: listProps.handleQueryChange, value: listProps.query })),\n                    listProps.itemList)));\n        };\n        _this.handleOverlayClose = function (event) {\n            var _a, _b, _c, _d;\n            (_b = (_a = _this.props.overlayProps) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n            (_d = (_c = _this.props).onClose) === null || _d === void 0 ? void 0 : _d.call(_c, event);\n        };\n        return _this;\n    }\n    Omnibar.ofType = function () {\n        return Omnibar;\n    };\n    Omnibar.prototype.render = function () {\n        // omit props specific to this component, spread the rest.\n        var _a = this.props, isOpen = _a.isOpen, inputProps = _a.inputProps, overlayProps = _a.overlayProps, restProps = __rest(_a, [\"isOpen\", \"inputProps\", \"overlayProps\"]);\n        var initialContent = \"initialContent\" in this.props ? this.props.initialContent : null;\n        return React.createElement(this.TypedQueryList, __assign({}, restProps, { initialContent: initialContent, renderer: this.renderQueryList }));\n    };\n    Omnibar.displayName = DISPLAYNAME_PREFIX + \".Omnibar\";\n    return Omnibar;\n}(React.PureComponent));\nexport { Omnibar };\n//# sourceMappingURL=omnibar.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Classes as CoreClasses, DISPLAYNAME_PREFIX, Keys, Popover, PopoverInteractionKind, Position, TagInput, refHandler, setRef, } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\nvar MultiSelect = /** @class */ (function (_super) {\n    __extends(MultiSelect, _super);\n    function MultiSelect() {\n        var _a;\n        var _this = _super.apply(this, arguments) || this;\n        _this.state = {\n            isOpen: (_this.props.popoverProps && _this.props.popoverProps.isOpen) || false,\n        };\n        _this.TypedQueryList = QueryList.ofType();\n        _this.input = null;\n        _this.queryList = null;\n        _this.refHandlers = {\n            input: refHandler(_this, \"input\", (_a = _this.props.tagInputProps) === null || _a === void 0 ? void 0 : _a.inputRef),\n            queryList: function (ref) { return (_this.queryList = ref); },\n        };\n        _this.renderQueryList = function (listProps) {\n            var _a;\n            var _b = _this.props, fill = _b.fill, _c = _b.tagInputProps, tagInputProps = _c === void 0 ? {} : _c, _d = _b.popoverProps, popoverProps = _d === void 0 ? {} : _d, _e = _b.selectedItems, selectedItems = _e === void 0 ? [] : _e, placeholder = _b.placeholder;\n            var handlePaste = listProps.handlePaste, handleKeyDown = listProps.handleKeyDown, handleKeyUp = listProps.handleKeyUp;\n            if (fill) {\n                popoverProps.fill = true;\n                tagInputProps.fill = true;\n            }\n            // add our own inputProps.className so that we can reference it in event handlers\n            var inputProps = __assign(__assign({}, tagInputProps.inputProps), { className: classNames((_a = tagInputProps.inputProps) === null || _a === void 0 ? void 0 : _a.className, Classes.MULTISELECT_TAG_INPUT_INPUT) });\n            var handleTagInputAdd = function (values, method) {\n                if (method === \"paste\") {\n                    handlePaste(values);\n                }\n            };\n            return (\n            /* eslint-disable-next-line deprecation/deprecation */\n            React.createElement(Popover, __assign({ autoFocus: false, canEscapeKeyClose: true, enforceFocus: false, isOpen: _this.state.isOpen, position: Position.BOTTOM_LEFT }, popoverProps, { className: classNames(listProps.className, popoverProps.className), interactionKind: PopoverInteractionKind.CLICK, onInteraction: _this.handlePopoverInteraction, popoverClassName: classNames(Classes.MULTISELECT_POPOVER, popoverProps.popoverClassName), onOpened: _this.handlePopoverOpened }),\n                React.createElement(\"div\", { onKeyDown: _this.getTagInputKeyDownHandler(handleKeyDown), onKeyUp: _this.getTagInputKeyUpHandler(handleKeyUp) },\n                    React.createElement(TagInput, __assign({ placeholder: placeholder }, tagInputProps, { className: classNames(Classes.MULTISELECT, tagInputProps.className), inputRef: _this.refHandlers.input, inputProps: inputProps, inputValue: listProps.query, \n                        /* eslint-disable-next-line react/jsx-no-bind */\n                        onAdd: handleTagInputAdd, onInputChange: listProps.handleQueryChange, onRemove: _this.handleTagRemove, values: selectedItems.map(_this.props.tagRenderer) }))),\n                React.createElement(\"div\", { onKeyDown: handleKeyDown, onKeyUp: handleKeyUp }, listProps.itemList)));\n        };\n        _this.handleItemSelect = function (item, evt) {\n            var _a, _b;\n            if (_this.input != null) {\n                _this.input.focus();\n            }\n            (_b = (_a = _this.props).onItemSelect) === null || _b === void 0 ? void 0 : _b.call(_a, item, evt);\n        };\n        _this.handleQueryChange = function (query, evt) {\n            var _a, _b;\n            _this.setState({ isOpen: query.length > 0 || !_this.props.openOnKeyDown });\n            (_b = (_a = _this.props).onQueryChange) === null || _b === void 0 ? void 0 : _b.call(_a, query, evt);\n        };\n        // Popover interaction kind is CLICK, so this only handles click events.\n        // Note that we defer to the next animation frame in order to get the latest document.activeElement\n        _this.handlePopoverInteraction = function (nextOpenState, evt) {\n            return _this.requestAnimationFrame(function () {\n                var _a, _b;\n                var isInputFocused = _this.input === document.activeElement;\n                if (_this.input != null && !isInputFocused) {\n                    // input is no longer focused, we should close the popover\n                    _this.setState({ isOpen: false });\n                }\n                else if (!_this.props.openOnKeyDown) {\n                    // we should open immediately on click focus events\n                    _this.setState({ isOpen: true });\n                }\n                (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onInteraction) === null || _b === void 0 ? void 0 : _b.call(_a, nextOpenState, evt);\n            });\n        };\n        _this.handlePopoverOpened = function (node) {\n            var _a, _b;\n            if (_this.queryList != null) {\n                // scroll active item into view after popover transition completes and all dimensions are stable.\n                _this.queryList.scrollActiveItemIntoView();\n            }\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpened) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.handleTagRemove = function (tag, index) {\n            var _a;\n            var _b = _this.props, _c = _b.selectedItems, selectedItems = _c === void 0 ? [] : _c, onRemove = _b.onRemove, tagInputProps = _b.tagInputProps;\n            onRemove === null || onRemove === void 0 ? void 0 : onRemove(selectedItems[index], index);\n            (_a = tagInputProps === null || tagInputProps === void 0 ? void 0 : tagInputProps.onRemove) === null || _a === void 0 ? void 0 : _a.call(tagInputProps, tag, index);\n        };\n        _this.getTagInputKeyDownHandler = function (handleQueryListKeyDown) {\n            return function (e) {\n                // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n                // eslint-disable-next-line deprecation/deprecation\n                var which = e.which;\n                if (which === Keys.ESCAPE || which === Keys.TAB) {\n                    // By default the escape key will not trigger a blur on the\n                    // input element. It must be done explicitly.\n                    if (_this.input != null) {\n                        _this.input.blur();\n                    }\n                    _this.setState({ isOpen: false });\n                }\n                else if (!(which === Keys.BACKSPACE || which === Keys.ARROW_LEFT || which === Keys.ARROW_RIGHT)) {\n                    _this.setState({ isOpen: true });\n                }\n                var isTargetingTagRemoveButton = e.target.closest(\".\" + CoreClasses.TAG_REMOVE) != null;\n                if (_this.state.isOpen && !isTargetingTagRemoveButton) {\n                    handleQueryListKeyDown === null || handleQueryListKeyDown === void 0 ? void 0 : handleQueryListKeyDown(e);\n                }\n            };\n        };\n        _this.getTagInputKeyUpHandler = function (handleQueryListKeyUp) {\n            return function (e) {\n                var isTargetingInput = e.target.classList.contains(Classes.MULTISELECT_TAG_INPUT_INPUT);\n                // only handle events when the focus is on the actual <input> inside the TagInput, as that's\n                // what QueryList is designed to do\n                if (_this.state.isOpen && isTargetingInput) {\n                    handleQueryListKeyUp === null || handleQueryListKeyUp === void 0 ? void 0 : handleQueryListKeyUp(e);\n                }\n            };\n        };\n        return _this;\n    }\n    MultiSelect.ofType = function () {\n        return MultiSelect;\n    };\n    MultiSelect.prototype.componentDidUpdate = function (prevProps) {\n        var _a, _b, _c, _d, _e;\n        if (((_a = prevProps.tagInputProps) === null || _a === void 0 ? void 0 : _a.inputRef) !== ((_b = this.props.tagInputProps) === null || _b === void 0 ? void 0 : _b.inputRef)) {\n            setRef((_c = prevProps.tagInputProps) === null || _c === void 0 ? void 0 : _c.inputRef, null);\n            this.refHandlers.input = refHandler(this, \"input\", (_d = this.props.tagInputProps) === null || _d === void 0 ? void 0 : _d.inputRef);\n            setRef((_e = this.props.tagInputProps) === null || _e === void 0 ? void 0 : _e.inputRef, this.input);\n        }\n    };\n    MultiSelect.prototype.render = function () {\n        // omit props specific to this component, spread the rest.\n        var _a = this.props, openOnKeyDown = _a.openOnKeyDown, popoverProps = _a.popoverProps, tagInputProps = _a.tagInputProps, restProps = __rest(_a, [\"openOnKeyDown\", \"popoverProps\", \"tagInputProps\"]);\n        return (React.createElement(this.TypedQueryList, __assign({}, restProps, { onItemSelect: this.handleItemSelect, onQueryChange: this.handleQueryChange, ref: this.refHandlers.queryList, renderer: this.renderQueryList })));\n    };\n    MultiSelect.displayName = DISPLAYNAME_PREFIX + \".MultiSelect\";\n    MultiSelect.defaultProps = {\n        fill: false,\n        placeholder: \"Search...\",\n    };\n    return MultiSelect;\n}(AbstractPureComponent2));\nexport { MultiSelect };\n//# sourceMappingURL=multiSelect.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, Button, DISPLAYNAME_PREFIX, InputGroup, Keys, Popover, Position, refHandler, setRef, } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\nvar Select = /** @class */ (function (_super) {\n    __extends(Select, _super);\n    function Select() {\n        var _a;\n        var _this = _super.apply(this, arguments) || this;\n        _this.state = { isOpen: false };\n        _this.TypedQueryList = QueryList.ofType();\n        _this.inputElement = null;\n        _this.queryList = null;\n        _this.handleInputRef = refHandler(_this, \"inputElement\", (_a = _this.props.inputProps) === null || _a === void 0 ? void 0 : _a.inputRef);\n        _this.handleQueryListRef = function (ref) { return (_this.queryList = ref); };\n        _this.renderQueryList = function (listProps) {\n            var _a;\n            // not using defaultProps cuz they're hard to type with generics (can't use <T> on static members)\n            var _b = _this.props, fill = _b.fill, _c = _b.filterable, filterable = _c === void 0 ? true : _c, _d = _b.disabled, disabled = _d === void 0 ? false : _d, _e = _b.inputProps, inputProps = _e === void 0 ? {} : _e, _f = _b.popoverProps, popoverProps = _f === void 0 ? {} : _f, matchTargetWidth = _b.matchTargetWidth;\n            if (fill) {\n                popoverProps.fill = true;\n            }\n            if (matchTargetWidth) {\n                if (popoverProps.modifiers == null) {\n                    popoverProps.modifiers = {};\n                }\n                popoverProps.modifiers.minWidth = {\n                    enabled: true,\n                    fn: function (data) {\n                        data.styles.width = data.offsets.reference.width + \"px\";\n                        return data;\n                    },\n                    order: 800,\n                };\n                popoverProps.usePortal = false;\n                popoverProps.wrapperTagName = \"div\";\n            }\n            var input = (React.createElement(InputGroup, __assign({ leftIcon: \"search\", placeholder: \"Filter...\", rightElement: _this.maybeRenderClearButton(listProps.query) }, inputProps, { inputRef: _this.handleInputRef, onChange: listProps.handleQueryChange, value: listProps.query })));\n            var handleKeyDown = listProps.handleKeyDown, handleKeyUp = listProps.handleKeyUp;\n            return (\n            /* eslint-disable-next-line deprecation/deprecation */\n            React.createElement(Popover, __assign({ autoFocus: false, enforceFocus: false, isOpen: _this.state.isOpen, disabled: disabled, position: Position.BOTTOM_LEFT }, popoverProps, { className: classNames(listProps.className, popoverProps.className), onInteraction: _this.handlePopoverInteraction, popoverClassName: classNames(Classes.SELECT_POPOVER, popoverProps.popoverClassName, (_a = {},\n                    _a[Classes.SELECT_MATCH_TARGET_WIDTH] = matchTargetWidth,\n                    _a)), onOpening: _this.handlePopoverOpening, onOpened: _this.handlePopoverOpened, onClosing: _this.handlePopoverClosing }),\n                React.createElement(\"div\", { onKeyDown: _this.state.isOpen ? handleKeyDown : _this.handleTargetKeyDown, onKeyUp: _this.state.isOpen ? handleKeyUp : undefined }, _this.props.children),\n                React.createElement(\"div\", { onKeyDown: handleKeyDown, onKeyUp: handleKeyUp },\n                    filterable ? input : undefined,\n                    listProps.itemList)));\n        };\n        _this.handleTargetKeyDown = function (event) {\n            // open popover when arrow key pressed on target while closed\n            // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n            // eslint-disable-next-line deprecation/deprecation\n            if (event.which === Keys.ARROW_UP || event.which === Keys.ARROW_DOWN) {\n                event.preventDefault();\n                _this.setState({ isOpen: true });\n            }\n        };\n        _this.handleItemSelect = function (item, event) {\n            var _a, _b;\n            _this.setState({ isOpen: false });\n            (_b = (_a = _this.props).onItemSelect) === null || _b === void 0 ? void 0 : _b.call(_a, item, event);\n        };\n        _this.handlePopoverInteraction = function (isOpen, event) {\n            var _a, _b;\n            _this.setState({ isOpen: isOpen });\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onInteraction) === null || _b === void 0 ? void 0 : _b.call(_a, isOpen, event);\n        };\n        _this.handlePopoverOpening = function (node) {\n            var _a, _b;\n            // save currently focused element before popover steals focus, so we can restore it when closing.\n            _this.previousFocusedElement = document.activeElement;\n            if (_this.props.resetOnClose) {\n                _this.resetQuery();\n            }\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpening) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.handlePopoverOpened = function (node) {\n            var _a, _b;\n            // scroll active item into view after popover transition completes and all dimensions are stable.\n            if (_this.queryList != null) {\n                _this.queryList.scrollActiveItemIntoView();\n            }\n            _this.requestAnimationFrame(function () {\n                var _a;\n                var _b = _this.props.inputProps, inputProps = _b === void 0 ? {} : _b;\n                // autofocus is enabled by default\n                if (inputProps.autoFocus !== false) {\n                    (_a = _this.inputElement) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n            });\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpened) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.handlePopoverClosing = function (node) {\n            var _a, _b;\n            // restore focus to saved element.\n            // timeout allows popover to begin closing and remove focus handlers beforehand.\n            _this.requestAnimationFrame(function () {\n                if (_this.previousFocusedElement !== undefined) {\n                    _this.previousFocusedElement.focus();\n                    _this.previousFocusedElement = undefined;\n                }\n            });\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onClosing) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.resetQuery = function () { return _this.queryList && _this.queryList.setQuery(\"\", true); };\n        return _this;\n    }\n    Select.ofType = function () {\n        return Select;\n    };\n    Select.prototype.render = function () {\n        // omit props specific to this component, spread the rest.\n        var _a = this.props, filterable = _a.filterable, inputProps = _a.inputProps, popoverProps = _a.popoverProps, restProps = __rest(_a, [\"filterable\", \"inputProps\", \"popoverProps\"]);\n        return (React.createElement(this.TypedQueryList, __assign({}, restProps, { onItemSelect: this.handleItemSelect, ref: this.handleQueryListRef, renderer: this.renderQueryList })));\n    };\n    Select.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a, _b, _c, _d, _e;\n        if (((_a = prevProps.inputProps) === null || _a === void 0 ? void 0 : _a.inputRef) !== ((_b = this.props.inputProps) === null || _b === void 0 ? void 0 : _b.inputRef)) {\n            setRef((_c = prevProps.inputProps) === null || _c === void 0 ? void 0 : _c.inputRef, null);\n            this.handleInputRef = refHandler(this, \"inputElement\", (_d = this.props.inputProps) === null || _d === void 0 ? void 0 : _d.inputRef);\n            setRef((_e = this.props.inputProps) === null || _e === void 0 ? void 0 : _e.inputRef, this.inputElement);\n        }\n        if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n    };\n    Select.prototype.maybeRenderClearButton = function (query) {\n        return query.length > 0 ? React.createElement(Button, { icon: \"cross\", minimal: true, onClick: this.resetQuery }) : undefined;\n    };\n    Select.displayName = DISPLAYNAME_PREFIX + \".Select\";\n    return Select;\n}(AbstractPureComponent2));\nexport { Select };\n//# sourceMappingURL=select.js.map","/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __extends, __rest } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { AbstractPureComponent2, DISPLAYNAME_PREFIX, InputGroup, Keys, Popover, PopoverInteractionKind, Position, refHandler, setRef, } from \"@blueprintjs/core\";\nimport { Classes } from \"../../common\";\nimport { QueryList } from \"../query-list/queryList\";\nvar Suggest = /** @class */ (function (_super) {\n    __extends(Suggest, _super);\n    function Suggest() {\n        var _a;\n        var _this = _super.apply(this, arguments) || this;\n        _this.state = {\n            isOpen: (_this.props.popoverProps != null && _this.props.popoverProps.isOpen) || false,\n            selectedItem: _this.getInitialSelectedItem(),\n        };\n        _this.TypedQueryList = QueryList.ofType();\n        _this.inputElement = null;\n        _this.queryList = null;\n        _this.handleInputRef = refHandler(_this, \"inputElement\", (_a = _this.props.inputProps) === null || _a === void 0 ? void 0 : _a.inputRef);\n        _this.handleQueryListRef = function (ref) { return (_this.queryList = ref); };\n        _this.renderQueryList = function (listProps) {\n            var _a = _this.props, fill = _a.fill, _b = _a.inputProps, inputProps = _b === void 0 ? {} : _b, _c = _a.popoverProps, popoverProps = _c === void 0 ? {} : _c;\n            var _d = _this.state, isOpen = _d.isOpen, selectedItem = _d.selectedItem;\n            var handleKeyDown = listProps.handleKeyDown, handleKeyUp = listProps.handleKeyUp;\n            var _e = inputProps.autoComplete, autoComplete = _e === void 0 ? \"off\" : _e, _f = inputProps.placeholder, placeholder = _f === void 0 ? \"Search...\" : _f;\n            var selectedItemText = selectedItem ? _this.props.inputValueRenderer(selectedItem) : \"\";\n            // placeholder shows selected item while open.\n            var inputPlaceholder = isOpen && selectedItemText ? selectedItemText : placeholder;\n            // value shows query when open, and query remains when closed if nothing is selected.\n            // if resetOnClose is enabled, then hide query when not open. (see handlePopoverOpening)\n            var inputValue = isOpen\n                ? listProps.query\n                : selectedItemText || (_this.props.resetOnClose ? \"\" : listProps.query);\n            if (fill) {\n                popoverProps.fill = true;\n                inputProps.fill = true;\n            }\n            return (\n            /* eslint-disable-next-line deprecation/deprecation */\n            React.createElement(Popover, __assign({ autoFocus: false, enforceFocus: false, isOpen: isOpen, position: Position.BOTTOM_LEFT }, popoverProps, { className: classNames(listProps.className, popoverProps.className), interactionKind: PopoverInteractionKind.CLICK, onInteraction: _this.handlePopoverInteraction, popoverClassName: classNames(Classes.SELECT_POPOVER, popoverProps.popoverClassName), onOpening: _this.handlePopoverOpening, onOpened: _this.handlePopoverOpened }),\n                React.createElement(InputGroup, __assign({ autoComplete: autoComplete, disabled: _this.props.disabled }, inputProps, { inputRef: _this.handleInputRef, onChange: listProps.handleQueryChange, onFocus: _this.handleInputFocus, onKeyDown: _this.getTargetKeyDownHandler(handleKeyDown), onKeyUp: _this.getTargetKeyUpHandler(handleKeyUp), placeholder: inputPlaceholder, value: inputValue })),\n                React.createElement(\"div\", { onKeyDown: handleKeyDown, onKeyUp: handleKeyUp }, listProps.itemList)));\n        };\n        _this.selectText = function () {\n            // wait until the input is properly focused to select the text inside of it\n            _this.requestAnimationFrame(function () {\n                var _a;\n                (_a = _this.inputElement) === null || _a === void 0 ? void 0 : _a.setSelectionRange(0, _this.inputElement.value.length);\n            });\n        };\n        _this.handleInputFocus = function (event) {\n            var _a, _b;\n            _this.selectText();\n            // TODO can we leverage Popover.openOnTargetFocus for this?\n            if (!_this.props.openOnKeyDown) {\n                _this.setState({ isOpen: true });\n            }\n            (_b = (_a = _this.props.inputProps) === null || _a === void 0 ? void 0 : _a.onFocus) === null || _b === void 0 ? void 0 : _b.call(_a, event);\n        };\n        _this.handleItemSelect = function (item, event) {\n            var _a, _b, _c, _d;\n            var nextOpenState;\n            if (!_this.props.closeOnSelect) {\n                (_a = _this.inputElement) === null || _a === void 0 ? void 0 : _a.focus();\n                _this.selectText();\n                nextOpenState = true;\n            }\n            else {\n                (_b = _this.inputElement) === null || _b === void 0 ? void 0 : _b.blur();\n                nextOpenState = false;\n            }\n            // the internal state should only change when uncontrolled.\n            if (_this.props.selectedItem === undefined) {\n                _this.setState({\n                    isOpen: nextOpenState,\n                    selectedItem: item,\n                });\n            }\n            else {\n                // otherwise just set the next open state.\n                _this.setState({ isOpen: nextOpenState });\n            }\n            (_d = (_c = _this.props).onItemSelect) === null || _d === void 0 ? void 0 : _d.call(_c, item, event);\n        };\n        // Popover interaction kind is CLICK, so this only handles click events.\n        // Note that we defer to the next animation frame in order to get the latest document.activeElement\n        _this.handlePopoverInteraction = function (nextOpenState, event) {\n            return _this.requestAnimationFrame(function () {\n                var _a, _b;\n                var isInputFocused = _this.inputElement === document.activeElement;\n                if (_this.inputElement != null && !isInputFocused) {\n                    // the input is no longer focused, we should close the popover\n                    _this.setState({ isOpen: false });\n                }\n                (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onInteraction) === null || _b === void 0 ? void 0 : _b.call(_a, nextOpenState, event);\n            });\n        };\n        _this.handlePopoverOpening = function (node) {\n            var _a, _b;\n            // reset query before opening instead of when closing to prevent flash of unfiltered items.\n            // this is a limitation of the interactions between QueryList state and Popover transitions.\n            if (_this.props.resetOnClose && _this.queryList) {\n                _this.queryList.setQuery(\"\", true);\n            }\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpening) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.handlePopoverOpened = function (node) {\n            var _a, _b;\n            // scroll active item into view after popover transition completes and all dimensions are stable.\n            if (_this.queryList != null) {\n                _this.queryList.scrollActiveItemIntoView();\n            }\n            (_b = (_a = _this.props.popoverProps) === null || _a === void 0 ? void 0 : _a.onOpened) === null || _b === void 0 ? void 0 : _b.call(_a, node);\n        };\n        _this.getTargetKeyDownHandler = function (handleQueryListKeyDown) {\n            return function (evt) {\n                var _a, _b, _c;\n                // HACKHACK: https://github.com/palantir/blueprint/issues/4165\n                // eslint-disable-next-line deprecation/deprecation\n                var which = evt.which;\n                if (which === Keys.ESCAPE || which === Keys.TAB) {\n                    (_a = _this.inputElement) === null || _a === void 0 ? void 0 : _a.blur();\n                    _this.setState({ isOpen: false });\n                }\n                else if (_this.props.openOnKeyDown &&\n                    which !== Keys.BACKSPACE &&\n                    which !== Keys.ARROW_LEFT &&\n                    which !== Keys.ARROW_RIGHT) {\n                    _this.setState({ isOpen: true });\n                }\n                if (_this.state.isOpen) {\n                    handleQueryListKeyDown === null || handleQueryListKeyDown === void 0 ? void 0 : handleQueryListKeyDown(evt);\n                }\n                (_c = (_b = _this.props.inputProps) === null || _b === void 0 ? void 0 : _b.onKeyDown) === null || _c === void 0 ? void 0 : _c.call(_b, evt);\n            };\n        };\n        _this.getTargetKeyUpHandler = function (handleQueryListKeyUp) {\n            return function (evt) {\n                var _a, _b;\n                if (_this.state.isOpen) {\n                    handleQueryListKeyUp === null || handleQueryListKeyUp === void 0 ? void 0 : handleQueryListKeyUp(evt);\n                }\n                (_b = (_a = _this.props.inputProps) === null || _a === void 0 ? void 0 : _a.onKeyUp) === null || _b === void 0 ? void 0 : _b.call(_a, evt);\n            };\n        };\n        return _this;\n    }\n    Suggest.ofType = function () {\n        return Suggest;\n    };\n    Suggest.prototype.render = function () {\n        var _a;\n        // omit props specific to this component, spread the rest.\n        var _b = this.props, disabled = _b.disabled, inputProps = _b.inputProps, popoverProps = _b.popoverProps, restProps = __rest(_b, [\"disabled\", \"inputProps\", \"popoverProps\"]);\n        return (React.createElement(this.TypedQueryList, __assign({}, restProps, { initialActiveItem: (_a = this.props.selectedItem) !== null && _a !== void 0 ? _a : undefined, onItemSelect: this.handleItemSelect, ref: this.handleQueryListRef, renderer: this.renderQueryList })));\n    };\n    Suggest.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (((_a = prevProps.inputProps) === null || _a === void 0 ? void 0 : _a.inputRef) !== ((_b = this.props.inputProps) === null || _b === void 0 ? void 0 : _b.inputRef)) {\n            setRef((_c = prevProps.inputProps) === null || _c === void 0 ? void 0 : _c.inputRef, null);\n            this.handleInputRef = refHandler(this, \"inputElement\", (_d = this.props.inputProps) === null || _d === void 0 ? void 0 : _d.inputRef);\n            setRef((_e = this.props.inputProps) === null || _e === void 0 ? void 0 : _e.inputRef, this.inputElement);\n        }\n        // If the selected item prop changes, update the underlying state.\n        if (this.props.selectedItem !== undefined && this.props.selectedItem !== this.state.selectedItem) {\n            this.setState({ selectedItem: this.props.selectedItem });\n        }\n        if (this.state.isOpen === false && prevState.isOpen === true) {\n            // just closed, likely by keyboard interaction\n            // wait until the transition ends so there isn't a flash of content in the popover\n            /* eslint-disable-next-line deprecation/deprecation */\n            var timeout = (_g = (_f = this.props.popoverProps) === null || _f === void 0 ? void 0 : _f.transitionDuration) !== null && _g !== void 0 ? _g : Popover.defaultProps.transitionDuration;\n            setTimeout(function () { return _this.maybeResetActiveItemToSelectedItem(); }, timeout);\n        }\n        if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n    };\n    Suggest.prototype.getInitialSelectedItem = function () {\n        // controlled > uncontrolled > default\n        if (this.props.selectedItem !== undefined) {\n            return this.props.selectedItem;\n        }\n        else if (this.props.defaultSelectedItem !== undefined) {\n            return this.props.defaultSelectedItem;\n        }\n        else {\n            return null;\n        }\n    };\n    Suggest.prototype.maybeResetActiveItemToSelectedItem = function () {\n        var _a;\n        var shouldResetActiveItemToSelectedItem = this.props.activeItem === undefined && this.state.selectedItem !== null && !this.props.resetOnSelect;\n        if (this.queryList !== null && shouldResetActiveItemToSelectedItem) {\n            this.queryList.setActiveItem((_a = this.props.selectedItem) !== null && _a !== void 0 ? _a : this.state.selectedItem);\n        }\n    };\n    Suggest.displayName = DISPLAYNAME_PREFIX + \".Suggest\";\n    Suggest.defaultProps = {\n        closeOnSelect: true,\n        fill: false,\n        openOnKeyDown: false,\n        resetOnClose: false,\n    };\n    return Suggest;\n}(AbstractPureComponent2));\nexport { Suggest };\n//# sourceMappingURL=suggest.js.map"],"sourceRoot":""}