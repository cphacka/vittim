(self.webpackChunk=self.webpackChunk||[]).push([[3790],{43790:function(t,n,e){"use strict";e.d(n,{q6:function(){return C},IV:function(){return y},dS:function(){return A},O2:function(){return b}});var o=e(67294),i=e(45697),r=e.n(i),a=e(68630),u=e.n(a),l=e(63105),s=e.n(l),c=e(57557),f=e.n(c),d=e(40173),h=e(7863),y=r().shape({match:r().oneOfType([r().func,r().object]).isRequired,type:r().oneOf(["circle","rect","dot"]).isRequired,noteX:r().oneOfType([r().number,r().shape({abs:r().number.isRequired})]).isRequired,noteY:r().oneOfType([r().number,r().shape({abs:r().number.isRequired})]).isRequired,noteWidth:r().number,noteTextOffset:r().number,note:r().oneOfType([r().node,r().func]).isRequired,offset:r().number});function m(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function p(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function x(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?p(Object(e),!0).forEach((function(n){m(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var g=function(t){return{x:t.x,y:t.y}},b=function(t){var n=t.items,e=t.annotations,i=t.getPosition,r=t.getDimensions;return(0,o.useMemo)((function(){return function(t){var n=t.items,e=t.getPosition,o=void 0===e?g:e,i=t.getDimensions;return t.annotations.reduce((function(t,e){return s()(n,e.match).forEach((function(n){var r=o(n),a=i(n,e.offset||0);t.push(x(x(x(x({},f()(e,["match","offset"])),r),a),{},{datum:n,size:e.size||a.size}))})),t}),[])}({items:n,annotations:e,getPosition:i,getDimensions:r})}),[n,e,i,r])},v=(0,o.memo)((function(t){var n=t.datum,e=t.x,i=t.y,r=t.note,a=(0,d.Fg)(),u=(0,d.tf)(),l=u.animate,s=u.config,c=(0,h.useSpring)({x:e,y:i,config:s,immediate:!l});return"function"==typeof r?r({x:e,y:i,datum:n}):o.createElement(o.Fragment,null,a.annotations.text.outlineWidth>0&&o.createElement(h.animated.text,{x:c.x,y:c.y,style:x(x({},a.annotations.text),{},{strokeLinejoin:"round",strokeWidth:2*a.annotations.text.outlineWidth,stroke:a.annotations.text.outlineColor})},r),o.createElement(h.animated.text,{x:c.x,y:c.y,style:f()(a.annotations.text,["outlineWidth","outlineColor"])},r))}));function k(t){if(Array.isArray(t))return t}function W(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function O(t,n){if(t){if("string"==typeof t)return W(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?W(t,n):void 0}}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(t,n){return k(t)||function(t,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],o=!0,i=!1,r=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw r}}return e}}(t,n)||O(t,n)||w()}v.displayName="AnnotationNote",v.defaultProps={};var S=(0,o.memo)((function(t){var n,e=t.isOutline,i=function(t,n){if(null==t)return{};var e,o,i=function(t,n){if(null==t)return{};var e,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)e=r[o],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)e=r[o],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}(t,["isOutline"]),r=(0,d.Fg)(),a=k(n=i.points)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||O(n)||w(),u=a[0],l=a.slice(1).reduce((function(t,n){var e=P(n,2),o=e[0],i=e[1];return"".concat(t," L").concat(o,",").concat(i)}),"M".concat(u[0],",").concat(u[1])),s=(0,d.NS)(l);if(e&&r.annotations.link.outlineWidth<=0)return null;var c=x({},r.annotations.link);return e&&(c.strokeLinecap="square",c.strokeWidth=r.annotations.link.strokeWidth+2*r.annotations.link.outlineWidth,c.stroke=r.annotations.link.outlineColor),o.createElement(h.animated.path,{fill:"none",d:s,style:c})}));S.displayName="AnnotationLink",S.defaultProps={isOutline:!1};var E=(0,o.memo)((function(t){var n=t.x,e=t.y,i=t.size,r=(0,d.Fg)(),a=(0,d.tf)(),u=a.animate,l=a.config,s=(0,h.useSpring)({x:n,y:e,radius:i/2,config:l,immediate:!u});return o.createElement(o.Fragment,null,r.annotations.outline.outlineWidth>0&&o.createElement(h.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:x(x({},r.annotations.outline),{},{fill:"none",strokeWidth:r.annotations.outline.strokeWidth+2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),o.createElement(h.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:r.annotations.outline}))}));E.displayName="CircleAnnotationOutline";var j=(0,o.memo)((function(t){var n=t.x,e=t.y,i=t.size,r=(0,d.Fg)(),a=(0,d.tf)(),u=a.animate,l=a.config,s=(0,h.useSpring)({x:n,y:e,radius:i/2,config:l,immediate:!u});return o.createElement(o.Fragment,null,r.annotations.outline.outlineWidth>0&&o.createElement(h.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:x(x({},r.annotations.outline),{},{fill:"none",strokeWidth:2*r.annotations.outline.outlineWidth,stroke:r.annotations.outline.outlineColor})}),o.createElement(h.animated.circle,{cx:s.x,cy:s.y,r:s.radius,style:r.annotations.symbol}))}));j.displayName="DotAnnotationOutline",j.defaultProps={size:4};var z=(0,o.memo)((function(t){var n=t.x,e=t.y,i=t.width,r=t.height,a=(0,d.Fg)(),u=(0,d.tf)(),l=u.animate,s=u.config,c=(0,h.useSpring)({x:n-i/2,y:e-r/2,width:i,height:r,config:s,immediate:!l});return o.createElement(o.Fragment,null,a.annotations.outline.outlineWidth>0&&o.createElement(h.animated.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:x(x({},a.annotations.outline),{},{fill:"none",strokeWidth:a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor})}),o.createElement(h.animated.rect,{x:c.x,y:c.y,width:c.width,height:c.height,style:a.annotations.outline}))}));z.displayName="RectAnnotationOutline";var C=(0,o.memo)((function(t){var n=t.datum,e=t.type,i=t.containerWidth,r=t.containerHeight,a=t.x,l=t.y,s=t.size,c=t.width,f=t.height,h=t.noteX,y=t.noteY,m=t.noteWidth,p=t.noteTextOffset,x=t.note,g=function(t){var n=t.type,e=t.containerWidth,i=t.containerHeight,r=t.x,a=t.y,l=t.size,s=t.width,c=t.height,f=t.noteX,h=t.noteY,y=t.noteWidth,m=t.noteTextOffset;return(0,o.useMemo)((function(){return function(t){var n,e,o=t.type,i=t.x,r=t.y,a=t.size,l=t.width,s=t.height,c=t.noteX,f=t.noteY,h=t.noteWidth,y=void 0===h?120:h,m=t.noteTextOffset,p=void 0===m?8:m;u()(c)?void 0!==c.abs&&(n=c.abs):n=i+c,u()(f)?void 0!==f.abs&&(e=f.abs):e=r+f;var x=i,g=r,b=function(t,n,e,o){var i=Math.atan2(o-n,e-t);return(0,d.bt)((0,d.vi)(i))}(i,r,n,e);if("circle"===o){var v=(0,d.re)((0,d.Ht)(b),a/2);x+=v.x,g+=v.y}if("rect"===o){var k=Math.round((b+90)/45)%8;0===k&&(g-=s/2),1===k&&(x+=l/2,g-=s/2),2===k&&(x+=l/2),3===k&&(x+=l/2,g+=s/2),4===k&&(g+=s/2),5===k&&(x-=l/2,g+=s/2),6===k&&(x-=l/2),7===k&&(x-=l/2,g-=s/2)}var W=n,O=n;return(b+90)%360>180?(W-=y,O-=y):O+=y,{points:[[x,g],[n,e],[O,e]],text:[W,e-p],angle:b+90}}({type:n,containerWidth:e,containerHeight:i,x:r,y:a,size:l,width:s,height:c,noteX:f,noteY:h,noteWidth:y,noteTextOffset:m})}),[n,e,i,r,a,l,s,c,f,h,y,m])}({type:e,containerWidth:i,containerHeight:r,x:a,y:l,size:s,width:c,height:f,noteX:h,noteY:y,noteWidth:m,noteTextOffset:p});return o.createElement(o.Fragment,null,o.createElement(S,{points:g.points,isOutline:!0}),"circle"===e&&o.createElement(E,{x:a,y:l,size:s}),"dot"===e&&o.createElement(j,{x:a,y:l,size:s}),"rect"===e&&o.createElement(z,{x:a,y:l,width:c,height:f}),o.createElement(S,{points:g.points}),o.createElement(v,{datum:n,x:g.text[0],y:g.text[1],note:x}))}));C.displayName="Annotation",C.defaultProps={noteWidth:120,noteTextOffset:8};var T=function(t,n){n.forEach((function(n,e){var o=P(n,2),i=o[0],r=o[1];0===e?t.moveTo(i,r):t.lineTo(i,r)}))},A=function(t,n){var e=n.annotations,o=n.theme;0!==e.length&&(t.save(),e.forEach((function(n){o.annotations.link.outlineWidth>0&&(t.lineCap="square",t.strokeStyle=o.annotations.link.outlineColor,t.lineWidth=o.annotations.link.strokeWidth+2*o.annotations.link.outlineWidth,t.beginPath(),T(t,n.computed.points),t.stroke(),t.lineCap="butt"),"circle"===n.type&&o.annotations.outline.outlineWidth>0&&(t.strokeStyle=o.annotations.outline.outlineColor,t.lineWidth=o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.stroke()),"dot"===n.type&&o.annotations.symbol.outlineWidth>0&&(t.strokeStyle=o.annotations.symbol.outlineColor,t.lineWidth=2*o.annotations.symbol.outlineWidth,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.stroke()),"rect"===n.type&&o.annotations.outline.outlineWidth>0&&(t.strokeStyle=o.annotations.outline.outlineColor,t.lineWidth=o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,t.beginPath(),t.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),t.stroke()),t.strokeStyle=o.annotations.link.stroke,t.lineWidth=o.annotations.link.strokeWidth,t.beginPath(),T(t,n.computed.points),t.stroke(),"circle"===n.type&&(t.strokeStyle=o.annotations.outline.stroke,t.lineWidth=o.annotations.outline.strokeWidth,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.stroke()),"dot"===n.type&&(t.fillStyle=o.annotations.symbol.fill,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.fill()),"rect"===n.type&&(t.strokeStyle=o.annotations.outline.stroke,t.lineWidth=o.annotations.outline.strokeWidth,t.beginPath(),t.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),t.stroke()),"function"==typeof n.note?n.note(t,{datum:n.datum,x:n.computed.text[0],y:n.computed.text[1],theme:o}):(t.font="".concat(o.annotations.text.fontSize,"px ").concat(o.annotations.text.fontFamily),t.fillStyle=o.annotations.text.fill,t.strokeStyle=o.annotations.text.outlineColor,t.lineWidth=2*o.annotations.text.outlineWidth,o.annotations.text.outlineWidth>0&&(t.lineJoin="round",t.strokeText(n.note,n.computed.text[0],n.computed.text[1]),t.lineJoin="miter"),t.fillText(n.note,n.computed.text[0],n.computed.text[1]))})),t.restore())}},80760:function(t,n,e){var o=e(89881);t.exports=function(t,n){var e=[];return o(t,(function(t,o,i){n(t,o,i)&&e.push(t)})),e}},14259:function(t){t.exports=function(t,n,e){var o=-1,i=t.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+n];return r}},57406:function(t,n,e){var o=e(71811),i=e(10928),r=e(40292),a=e(40327);t.exports=function(t,n){return n=o(n,t),null==(t=r(t,n))||delete t[a(i(n))]}},60696:function(t,n,e){var o=e(68630);t.exports=function(t){return o(t)?void 0:t}},40292:function(t,n,e){var o=e(97786),i=e(14259);t.exports=function(t,n){return n.length<2?t:o(t,i(n,0,-1))}},63105:function(t,n,e){var o=e(34963),i=e(80760),r=e(67206),a=e(1469);t.exports=function(t,n){return(a(t)?o:i)(t,r(n,3))}},57557:function(t,n,e){var o=e(29932),i=e(85990),r=e(57406),a=e(71811),u=e(98363),l=e(60696),s=e(99021),c=e(46904),f=s((function(t,n){var e={};if(null==t)return e;var s=!1;n=o(n,(function(n){return n=a(n,t),s||(s=n.length>1),n})),u(t,c(t),e),s&&(e=i(e,7,l));for(var f=n.length;f--;)r(e,n[f]);return e}));t.exports=f}}]);
//# sourceMappingURL=3790.aa3ed4977baddb27ac1f.bundle.js.map